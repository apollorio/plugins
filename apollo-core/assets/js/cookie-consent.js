(function($){"use strict";var A={init:function(){this.bindEvents()},bindEvents:function(){$(document).on("click","[data-consent]",function(e){e.preventDefault();A.saveConsent($(this).data("consent"))})},saveConsent:function(c){var $b=$("#apollo-cookie-consent-banner");$.ajax({url:apolloCookieConsent.ajaxUrl,type:"POST",data:{action:"apollo_save_consent",nonce:apolloCookieConsent.nonce,consent:c},success:function(r){r.success&&($b.fadeOut(300,function(){$(this).remove()}),c==="accept"&&($(document).trigger("apollo_consent_accepted"),A.loadAnalytics()))},error:function(){A.setSessionCookie(c);$b.fadeOut(300)}})},setSessionCookie:function(c){document.cookie="apollo_cookie_consent="+(c==="accept"?"accepted":"declined")+"; path=/"},loadAnalytics:function(){typeof window.apolloLoadDeferredAnalytics==="function"&&window.apolloLoadDeferredAnalytics();window.dispatchEvent(new CustomEvent("apollo:analytics-consent-granted"))}};$(document).ready(function(){A.init()})})(jQuery);
