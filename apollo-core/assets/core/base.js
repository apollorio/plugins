"use strict";(()=>{const d=document,w=window,C={},W=new WeakSet,cdn="https://assets.apollo.rio.br/";let b,dm,clkEl,clkInt,dt=new Date,cat="all",q="",mn=["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],mm={jan:0,fev:1,mar:2,abr:3,mai:4,jun:5,jul:6,ago:7,set:8,out:9,nov:10,dez:11},MN=["Janeiro","Fevereiro","MarÃ§o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],menuBox,dateEl,calGrid,calLabel,selDay,evGrid,selDate=null;function c(k){return C[k]?!0:(C[k]=1,!1)}function themeInit(){b&&localStorage.getItem("theme")==="dark"&&b.classList.add("dark-mode")}function bindToggle(el){if(!el||W.has(el))return;W.add(el);el.addEventListener("click",()=>{b.classList.toggle("dark-mode");localStorage.setItem("theme",b.classList.contains("dark-mode")?"dark":"light")},{passive:!0})}function bindMenu(tr){if(!tr||W.has(tr))return;W.add(tr);menuBox=tr.parentElement;tr.addEventListener("click",e=>{e.stopPropagation();menuBox&&menuBox.classList.toggle("open")},{passive:!0});c("doc")||(d.addEventListener("click",e=>{menuBox&&!menuBox.contains(e.target)&&menuBox.classList.remove("open")},{passive:!0}))}function clockTick(){if(!clkEl)return;const n=new Date,h=("0"+n.getHours()).slice(-2),m=("0"+n.getMinutes()).slice(-2);clkEl.textContent=h+":"+m}function bindClock(el){el&&(clkEl=el);clkInt||(clockTick(),clkInt=setInterval(clockTick,1e4))}function filter(){const dm=dt.getMonth();d.querySelectorAll(".event_listing").forEach(e=>{const ec=e.dataset.category||"",ms=(e.dataset.monthStr||"").toLowerCase(),em=mm[ms],sd=em===dm,sc=cat==="all"||ec===cat,ss=!q||e.textContent.toLowerCase().includes(q),sh=sd&&sc&&ss;e.classList.toggle("hidden",!sh);e.style.display=sh?"block":"none"})}function updDate(){dateEl&&(dateEl.textContent=mn[dt.getMonth()]+" "+dt.getFullYear());filter()}function bindCats(){d.querySelectorAll(".event-category").forEach(btn=>{if(W.has(btn))return;W.add(btn);btn.addEventListener("click",()=>{d.querySelectorAll(".event-category").forEach(x=>x.classList.remove("active"));btn.classList.add("active");cat=btn.dataset.slug||"all";filter()},{passive:!0})})}function bindSearch(el){if(!el||W.has(el))return;W.add(el);el.addEventListener("input",()=>{q=el.value.toLowerCase();filter()},{passive:!0})}function bindForm(el){el&&!W.has(el)&&(W.add(el),el.addEventListener("submit",e=>e.preventDefault()))}function bindNav(el,dir){if(!el||W.has(el))return;W.add(el);el.addEventListener("click",()=>{dt.setMonth(dt.getMonth()+(dir==="prev"?-1:1));updDate()},{passive:!0})}function renderCal(){if(!calGrid||!calLabel)return;const y=dt.getFullYear(),m=dt.getMonth();calLabel.textContent=`${MN[m]} ${y}`;calGrid.innerHTML="";const fd=new Date(y,m,1),ld=new Date(y,m+1,0),st=new Date(fd);st.setDate(st.getDate()-fd.getDay());for(let i=0;i<42;i++){const dd=new Date(st);dd.setDate(st.getDate()+i);const btn=d.createElement("button");btn.className="day-btn";btn.textContent=dd.getDate();dd.getMonth()!==m&&btn.classList.add("disabled");selDate&&dd.toDateString()===selDate.toDateString()&&btn.classList.add("selected");btn.addEventListener("click",()=>{if(dd.getMonth()!==m)return;selDate=dd;calGrid.querySelectorAll(".day-btn").forEach(x=>x.classList.remove("selected"));btn.classList.add("selected");selDay&&(selDay.textContent=`Eventos de ${dd.getDate()} de ${MN[m]}`)},{passive:!0});calGrid.appendChild(btn)}}function bindCalNav(el,dir){if(!el||W.has(el))return;W.add(el);el.addEventListener("click",()=>{dt.setMonth(dt.getMonth()+(dir==="prev"?-1:1));renderCal()},{passive:!0})}function initCal(){calGrid=d.getElementById("calendar-grid");calLabel=d.getElementById("month-label");selDay=d.getElementById("selected-day");evGrid=d.getElementById("events-grid");if(!calGrid)return;bindCalNav(d.getElementById("prev-month"),"prev");bindCalNav(d.getElementById("next-month"),"next");renderCal()}function initKeys(){c("keys")||(d.addEventListener("keydown",e=>{e.key==="Escape"&&d.querySelectorAll(".menu-h-lista.open").forEach(m=>m.classList.remove("open"))},{passive:!0}))}function init(){if(c("init"))return;b=d.body;if(!b)return;themeInit();bindToggle(d.getElementById("darkModeToggle"));bindMenu(d.getElementById("userMenuTrigger"));bindClock(d.getElementById("agoraH"));dateEl=d.getElementById("dateDisplay");bindNav(d.getElementById("datePrev"),"prev");bindNav(d.getElementById("dateNext"),"next");bindCats();bindSearch(d.getElementById("eventSearchInput"));bindForm(d.getElementById("eventSearchForm"));initCal();initKeys();updDate();new MutationObserver(ms=>{for(const m of ms)for(const n of m.addedNodes)if(n.nodeType===1){n.id==="darkModeToggle"&&bindToggle(n);n.id==="userMenuTrigger"&&bindMenu(n);n.id==="agoraH"&&bindClock(n);n.classList&&n.classList.contains("event-category")&&bindCats();n.classList&&n.classList.contains("event_listing")&&filter()}}).observe(d.documentElement,{childList:!0,subtree:!0})}d.readyState==="loading"?d.addEventListener("DOMContentLoaded",init,{once:!0}):init()})();(()=>{const d=document,w=window,cdn="https://assets.apollo.rio.br/",loaded=new Set,seen=new WeakSet;let frame,obs;function ensureCDN(){if(d.querySelector("script[data-apollo-cdn]"))return;const s=d.createElement("script");s.src=cdn+"index.min.js";s.defer=!0;s.setAttribute("data-apollo-cdn","");(d.head||d.getElementsByTagName("head")[0]).appendChild(s)}function url(n){return cdn+"js/"+n}function loadOnce(u){if(loaded.has(u))return;loaded.add(u);const s=d.createElement("script");s.src=u;s.defer=!0;(d.head||d.getElementsByTagName("head")[0]).appendChild(s)}function needEvent(){return!loaded.has(url("event.js"))&&d.body&&(d.body.classList.contains("ap-page-event")||d.body.classList.contains("single-evento")||d.querySelector("[data-apollo-event-card]"))}function needExplorer(){return!loaded.has(url("explorer.js"))&&d.querySelector(".ap-explorer-feed,[data-apollo-role=explorer]")}function detect(){needEvent()&&loadOnce(url("event.js"));needExplorer()&&loadOnce(url("explorer.js"))}function onMut(ms){let ch=0;for(const m of ms)for(const n of m.addedNodes)n&&n.nodeType===1&&!seen.has(n)&&(seen.add(n),ch=1);ch&&(frame&&w.cancelAnimationFrame(frame),frame=w.requestAnimationFrame(detect))}function startObs(){if(obs||!d.body)return;obs=new MutationObserver(onMut);obs.observe(d.body,{childList:!0,subtree:!0})}function init(){ensureCDN();d.body&&seen.add(d.body);detect();startObs()}d.readyState==="loading"?d.addEventListener("DOMContentLoaded",init,{once:!0}):init()})();






