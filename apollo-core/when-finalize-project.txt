ursor and Claude (sonnet), thank you by this miracle, i count on u now more than never...


STRICT MODE FINALIZE ALL BELOW:

Run a full pre-commit verification and prepare a feature branch for apollo-core moderation + forms + quiz changes. Work only inside repo root. Use Intelephense for static checks. Do not modify WordPress core files.

Environment assumptions:
- PHP CLI available as `php`
- Composer available
- Node/npm available (if admin JS exists)
- WP-CLI available in Local site shell (optional)
- Repo root is current working directory
- Target plugin path: wp-content/plugins/apollo-core

Steps to run (perform sequentially). For each step, collect output and fail fast if critical errors found. Produce a final JSON summary and a human-readable Markdown report.

1) Sanity & scope checks
- Ensure git working tree clean or on a feature branch:
  - If there are unstaged changes outside `wp-content/plugins/apollo-core`, abort and list them.
- List all modified files (git status --porcelain) and assert all changed files are under `wp-content/plugins/apollo-core`. If not, fail with list.

2) Static PHP syntax check
- Run `php -l` on every PHP file under `wp-content/plugins/apollo-core`:
  - Command: `find wp-content/plugins/apollo-core -name '*.php' -print0 | xargs -0 -n1 php -l`
- Collect any syntax errors.

3) PHP static analysis & coding standards
- If `vendor/bin/phpstan` exists, run `vendor/bin/phpstan analyse wp-content/plugins/apollo-core --level=max` (or highest available). Collect issues.
- If `vendor/bin/phpcs` exists, run `vendor/bin/phpcs --standard=WordPress wp-content/plugins/apollo-core` and collect warnings/errors.

4) Composer install & autoload
- Run `composer install --no-interaction --no-progress` in repo root.
- Verify `vendor` exists and autoload works: `php -r "require 'vendor/autoload.php'; echo 'autoload ok';"`

5) JavaScript lint/build (if package.json exists in plugin)
- If `wp-content/plugins/apollo-core/package.json` exists:
  - Run `cd wp-content/plugins/apollo-core && npm ci && npm run lint` (or `npm run build` if lint not configured).
  - Collect JS lint errors.

6) Unit tests
- If `vendor/bin/phpunit` exists and tests folder present:
  - Run `vendor/bin/phpunit --colors --testsuite=unit` (or run all tests).
  - Capture failures and stack traces.

7) REST endpoints smoke tests (local)
- Use WP-CLI or curl to call key endpoints (no destructive actions):
  - `GET /wp-json/apollo/v1/forms/schema?form_type=new_user`
  - `GET /wp-json/apollo/v1/memberships`
  - `GET /wp-json/apollo/v1/moderation/queue` (if public or with test auth)
- If WP-CLI available and site path known, run:
  - `wp option get apollo_mod_settings --path="C:\Users\rafae\Local Sites\1212\app\public"` (or equivalent)
- For endpoints requiring auth, verify permission callbacks exist and return 401/403 for anonymous.

8) Activation & migration dry-run
- Simulate activation tasks without applying destructive changes:
  - Check activation function idempotency: ensure `get_option('apollo_core_activated_v1')` guard exists.
  - Run migration helper in dry-run mode if available: `php wp-content/plugins/apollo-core/bin/migrate.php --dry-run` (if script exists) or call migration function with a `dry_run` flag.
- Verify dbDelta SQL is valid (no syntax errors) by running `php -r "require 'wp-load.php'; /* call dbDelta in safe mode */"` only if safe environment.

9) Security checks
- Search for any debug endpoints or public debug files: grep for `debug-text|db-test|APOLLO_DEBUG|debug-test` under repo. If found, ensure they are guarded by `APOLLO_DEBUG` and `current_user_can('manage_options')`.
- Verify all admin forms use `check_admin_referer()` and REST callbacks check `current_user_can()` or proper permission callbacks.
- Verify nonces used for JS: check for `wp_create_nonce('wp_rest')` or `wp_localize_script` exposing `wpApiSettings.nonce`.

10) Audit logging presence
- Ensure `apollo_mod_log_action()` is called in moderation endpoints and membership changes.
- Verify `wp_apollo_mod_log` creation SQL exists in activation.

11) Tests & lint summary
- Aggregate results from steps 2–6 into a JSON object:
  - syntax_errors: []
  - phpstan_issues: []
  - phpcs_issues: []
  - js_lint_issues: []
  - phpunit_failures: []
  - rest_smoke_errors: []
  - security_warnings: []
  - scope_violations: []

12) If all checks pass, create branch, commit and push
- Create branch: `git fetch origin && git checkout -b feat/apollo-final-check-<yourname>`
- Stage only apollo-core: `git add wp-content/plugins/apollo-core`
- Commit: `git commit -m "chore(apollo-core): final pre-commit verification and seed quiz defaults"`
- Push: `git push -u origin HEAD`
- Output the git push result and the branch name.

13) Create PR body (Markdown) with:
- Summary of changes
- Acceptance criteria checklist
- How to test locally (commands)
- If any failing checks, include the failing outputs and suggested fixes.

14) If any check fails:
- Abort branch creation.
- Produce a detailed Markdown report with:
  - Failing step(s)
  - Exact command outputs
  - Suggested fixes (code snippets where applicable)
  - Priority list to fix (critical → high → medium → low)

Output required:
- A single JSON summary (machine readable) with all checks and statuses.
- A human-readable Markdown report with sections: Summary, Findings, Errors, Fixes, Commands to reproduce, PR body (if passed).
- If passed, include the git branch name and PR body ready to paste.

Acceptance criteria for "pass":
- No PHP syntax errors.
- No fatal PHPStan/PHPCS errors (warnings allowed but listed).
- JS lint passes or no JS present.
- PHPUnit tests pass (or no tests present).
- No scope violations (all changes under apollo-core).
- REST smoke tests return expected status codes (200 or 401/403 for protected).
- Security checks show no unguarded debug endpoints.

Run the full sequence and return the JSON summary and Markdown report. If everything passes, create the branch, commit, push, and include the PR body. If anything fails, do not push and return the failure report.

End of task. And hope that is all ok to test and release.. Lets save peoples life in this social project in RIO!!!! 

Removing then from drougs, being present and hugging them all with "YOU ARE NOT ALONE!".
