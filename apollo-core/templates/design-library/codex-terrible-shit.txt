<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>Apollo::rio :: Catálogo de Fornecedores</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0">

  <!-- EXTERNAL DEPENDENCIES -->
  <link rel="stylesheet" href="https://assets.apollo.rio.br/uni.css">
  <link href="https://cdn.jsdelivr.net/npm/remixicon@4.7.0/fonts/remixicon.css" rel="stylesheet">
  <script src="https://code.jquery.com/jquery-3.1.0.min.js"></script>
  <script src="https://unpkg.com/@motionone/dom@10.16.4/dist/index.js"></script>

  <style>
    /* =============================================
       APOLLO::RIO WORDPRESS TEMPLATE
       Plugin: apollo-social
       NO TAILWIND - Pure CSS with ap-* prefix
       ============================================= */

    /* ========================================= CSS VARIABLES ========================================= */
    :root {
      --ap-font-primary: "Urbanist", system-ui, -apple-system, sans-serif;
      --ap-bg-main: #ffffff;
      --ap-bg-surface: #f8fafc;
      --ap-text-primary: rgba(19, 21, 23, 0.65);
      --ap-text-secondary: rgba(15, 23, 42, 0.88);
      --ap-text-muted: rgba(19, 21, 23, 0.4);
      --ap-orange-500: #FF6925;
      --ap-orange-600: #E55A1E;
      --ap-glass-surface: rgba(255, 255, 255, 0.92);
      --ap-glass-border: rgba(226, 232, 240, 0.8);
      --ap-glass-shadow: 0 12px 40px rgba(15, 23, 42, 0.12);
      --ap-item-hover: rgba(15, 23, 42, 0.04);
      --ap-card-bg: #ffffff;
      --ap-nav-height: 55px;
      --ap-sidebar-width: 256px;
      --ap-menu-radius: 20px;
      --ap-toggle-height: 16em;
      --ap-toggle-width: 30em;
      --ap-bg-night: #423966;
      --ap-moon-color: #D9FBFF;
    }

    /* ========================================= BASE RESET ========================================= */
    *, *::before, *::after { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
    body { font-family: var(--ap-font-primary); background-color: var(--ap-bg-main); color: var(--ap-text-secondary); overflow-y: auto; overflow-x: hidden; min-height: 100vh; margin: 0; padding: 0; font-size:14px;font-weight:400; }
    ::-webkit-scrollbar { width: 6px; }
    ::-webkit-scrollbar-track { background: transparent; }
    ::-webkit-scrollbar-thumb { background-color: rgba(148, 163, 184, 0.4); border-radius: 999px; }
    .ap-no-scrollbar::-webkit-scrollbar { display: none; }

    /* ========================================= NAVBAR ========================================= */
    .ap-navbar { position: fixed; top: 0; left: 0; right: 0; z-index: 1000; display: flex; justify-content: space-between; align-items: center; padding: 0 1rem; height: var(--ap-nav-height); backdrop-filter: blur(16px); -webkit-backdrop-filter: blur(16px); }
    .ap-logo-wrapper { display: flex; align-items: center; }
    .ap-logo-desktop { display: none; height: 4rem; align-items: center; gap: 0.75rem; margin-left: 1rem; }
    .ap-logo-icon { height: 2.25rem; width: 2.25rem; border-radius: 0.75rem; background: linear-gradient(to bottom right, #fb923c, #ea580c); display: flex; align-items: center; justify-content: center; z-index: 20; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08); }
    .ap-logo-icon i { color: white; font-size: 21px; }
    .ap-logo-text { margin-left: 0.5rem; display: flex; flex-direction: column; line-height: 1.2; }
    .ap-logo-title { font-size: 15px; font-weight: 700; color: #0f172a; opacity: 0.95; }
    .ap-logo-subtitle { font-size: 8.5px; font-weight: 400; text-align: center; color: #94a3b8; text-transform: uppercase; letter-spacing: 0.18em; }
    .ap-logo-mobile { display: flex; height: 4rem; align-items: center; gap: 0.75rem; }
    .ap-logo-mobile .ap-logo-icon { animation: ap-pulsar 6.2s ease-in-out infinite alternate; box-shadow: 0 4px 15px rgba(249, 115, 22, 0.4); }
    @keyframes ap-pulsar { 0%, 100% { filter: brightness(1); box-shadow: 0px 4px 5px rgba(255, 165, 0, 0.07); } 50% { filter: brightness(1.15) saturate(1.2); box-shadow: 0px 4px 15px rgba(255, 165, 0, 0.15); } }
    
    .ap-nav-controls { display: flex; align-items: center; gap: 0.5rem; }
    .ap-clock { padding: 0.4rem 1rem; border-radius: 99px; font-size: 0.75rem; font-weight: 600; color: var(--ap-text-primary); cursor: default; margin-right: 0.5rem; background: transparent; display: none; }
    .ap-nav-btn { width: 42px; height: 42px; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: var(--ap-text-primary); transition: all 0.2s ease; position: relative; background: transparent; border: none; cursor: pointer; }
    .ap-nav-btn:hover, .ap-nav-btn[aria-expanded="true"] { background: rgba(0,0,0,0.05); color: var(--ap-orange-500); transform: scale(1.05); }
    .ap-nav-btn svg, .ap-nav-btn i { width: 22px; height: 22px; font-size: 22px; }
    .ap-badge { position: absolute; top: 20px; right: 18px; width: 5px; height: 5px; border-radius: 50%; z-index: 10; pointer-events: none; background: transparent; box-shadow: none; }
    .ap-badge[data-notif="true"] { background: #ff8c00; box-shadow: 0 0 10px #ff8c00; animation: ap-pulsar-badge 2s infinite ease-in; }
    @keyframes ap-pulsar-badge { 0% { transform: scale(1); box-shadow: 0 0 0 0 rgba(255, 140, 0, 0.7); } 100% { transform: scale(1.03); filter: brightness(1.3) saturate(1.5); box-shadow: 0 0 0 15px rgba(255, 140, 0, 0); } }
    .ap-profile-btn { width: 36px; height: 36px; font-weight: 700; background: #f1f5f9; border-radius: 50%; font-size: 12px; }

    /* ========================================= SIDEBAR (FIXED ON DESKTOP) ========================================= */
    .ap-sidebar { display: none; position: fixed; left: 0; top: var(--ap-nav-height); width: var(--ap-sidebar-width); height: calc(100vh - var(--ap-nav-height)); flex-direction: column; padding-right: 1.5rem; padding-left: 1rem; padding-bottom: 1rem; overflow-y: auto; overflow-x: hidden; z-index: 100; }
    .ap-sidebar-nav { flex: 1; padding-left: 1rem; padding-right: 0.75rem; margin-top: 0.25rem; padding-top: 1rem; padding-bottom: 0.5rem; overflow-y: auto; overflow-x: hidden; font-size: 13px; }
    .ap-nav-section-title { padding-left: 0.25rem; padding-right: 0.25rem; margin-bottom: 0.5rem; font-size: 9.5px; font-weight: 400; color: #94a3b8; text-transform: uppercase; letter-spacing: 0.05em; }
    .ap-sidebar-link { display: flex; align-items: center; gap: 0.75rem; padding: 10px 12px; margin-bottom: 4px; border-radius: 12px; border-left: 2px solid transparent; font-size: 13px; color: #64748b; text-decoration: none; transition: all 0.2s; }
    .ap-sidebar-link:hover { background-color: #f8fafc; color: #0f172a; }
    .ap-sidebar-link[aria-current="page"] { background-color: #f1f5f9; color: #0f172a; border-left-color: #0f172a; font-weight: 600; }
    .ap-sidebar-user { margin-top: auto; padding-top: 1rem; border-top: 1px solid #f1f5f9; display: flex; align-items: center; gap: 0.75rem; }
    .ap-user-avatar { height: 2.5rem; width: 2.5rem; border-radius: 50%; background: #fed7aa; overflow: hidden; }
    .ap-user-avatar img { object-fit: cover; width: 100%; height: 100%; }
    .ap-user-info { display: flex; flex-direction: column; }
    .ap-user-name { font-size: 0.875rem; font-weight: 700; color: #0f172a; }
    .ap-user-role { font-size: 10px; color: #64748b; }

    /* ========================================= LAYOUT ========================================= */
    .ap-layout { display: flex; padding-top:35px; }
    .ap-main-content { flex: 1; min-width: 0; padding-left: 1rem; padding-right: 1rem; }

    /* ========================================= DROPDOWNS ========================================= */
    .ap-dropdown { display: none; position: absolute; top: calc(var(--ap-nav-height) + 10px); right: 16px; width: 380px; max-width: 90vw; background: rgba(255, 255, 255, 0.98); backdrop-filter: blur(30px); -webkit-backdrop-filter: blur(30px); border: 1px solid var(--ap-glass-border); border-radius: var(--ap-menu-radius); box-shadow: 0 20px 60px rgba(0,0,0,0.15); z-index: 999; flex-direction: column; opacity: 0; transform: translateY(-10px) scale(0.98); transition: all 0.3s cubic-bezier(0.16, 1, 0.3, 1); overflow-y: auto; max-height: 85vh; }
    .ap-dropdown.ap-active { display: flex; opacity: 1; transform: translateY(0) scale(1); }
    .ap-section-title { font-size: 10px; text-transform: uppercase; letter-spacing: 0.08em; color: var(--ap-text-muted); font-weight: 600; padding: 0.5rem 1.25rem; margin-top: 1rem; display: flex; justify-content: space-between; align-items: center; }
    .ap-see-all { font-size: 10.5px; font-weight: 300; color: var(--ap-orange-500); cursor: pointer; text-transform: none; letter-spacing: 0; text-decoration: none; }

    /* ========================================= NOTIFICATIONS ========================================= */
    .ap-notif-list { display: flex; flex-direction: column; }
    .ap-notif-item { padding: 0.75rem 1.25rem; border-bottom: 1px solid var(--ap-glass-border); display: flex; gap: 0.75rem; transition: background 0.2s; cursor: pointer; text-decoration: none; color: inherit; }
    .ap-notif-item:hover { background: rgba(255, 255, 255, 0.6); }
    .ap-notif-icon { width: 36px; height: 36px; flex-shrink: 0; border-radius: 10px; display: flex; align-items: center; justify-content: center; font-size: 0.8rem; font-weight: bold; color: #fff; }
    .ap-notif-content { flex: 1; display: flex; flex-direction: column; gap: 2px; }
    .ap-notif-title { font-size: 0.85rem; font-weight: 600; color: var(--ap-text-secondary); }
    .ap-notif-desc { font-size: 0.8rem; color: var(--ap-text-primary); line-height: 1.3; }
    .ap-notif-time { font-size: 0.7rem; color: var(--ap-text-muted); margin-top: 4px; }
    .ap-load-more { padding: 1rem 1.25rem; border-top: 1px solid var(--ap-glass-border); text-align: center; cursor: pointer; transition: background 0.2s; color: var(--ap-orange-500); font-weight: 600; font-size: 0.85rem; }
    .ap-load-more:hover { background: rgba(255, 105, 37, 0.05); }

    /* ========================================= APP MENU ========================================= */
    .ap-apps-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 1rem; padding: 0 1.25rem; margin-bottom: 1.5rem; }
    .ap-app-item { display: flex; flex-direction: column; align-items: center; gap: 0.5rem; text-decoration: none; transition: transform 0.2s; }
    .ap-app-item:hover { transform: translateY(-3px); }
    .ap-app-icon { width: 48px; height: 48px; border-radius: 14px; display: flex; align-items: center; justify-content: center; font-weight: 700; color: #fff; font-size: 1rem; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08); transition: transform 0.2s; }
    .ap-app-label { font-size: 0.7rem; color: var(--ap-text-secondary); text-align: center; }
    
    /* ========================================= MESSAGE SCROLL ========================================= */
    .ap-scroll-row { display: flex; gap: 0.75rem; overflow-x: auto; padding: 10px 1.25rem; margin-bottom: 1.5rem; scrollbar-width: thin; }
    .ap-scroll-row::-webkit-scrollbar { height: 4px; }
    .ap-scroll-row::-webkit-scrollbar-track { background: transparent; }
    .ap-scroll-row::-webkit-scrollbar-thumb { background: rgba(0, 0, 0, 0.1); border-radius: 2px; }
    .ap-msg-card { flex: 0 0 13rem; background: var(--ap-card-bg); border: 1px solid var(--ap-glass-border); border-radius: 0.9rem; padding: 0.8rem; display: flex; flex-direction: column; gap: 0.5rem; transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1); cursor: pointer; text-decoration: none; color: inherit; }
    .ap-msg-card:hover { background: #fff; transform: translateY(-4px); box-shadow: 0 8px 20px -5px rgba(0, 0, 0, 0.1); border-color: rgba(0, 0, 0, 0.1); }
    .ap-msg-header { display: flex; align-items: center; gap: 0.5rem; }
    .ap-msg-avatar { width: 2rem; height: 2rem; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 0.7rem; font-weight: bold; color: white; flex-shrink: 0; }
    .ap-msg-info { flex: 1; display: flex; flex-direction: column; line-height: 1.1; overflow: hidden; }
    .ap-msg-name { font-size: 0.8rem; font-weight: 600; color: var(--ap-text-secondary); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
    .ap-msg-time { font-size: 0.65rem; color: var(--ap-text-muted); }
    .ap-msg-preview { font-size: 0.75rem; color: var(--ap-text-primary); line-height: 1.3; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; }
    .ap-load-more-card { flex: 0 0 10rem; justify-content: center; align-items: center; background: rgba(0, 0, 0, 0.02); border-style: dashed; }
    .ap-load-more-card:hover { background: rgba(0, 0, 0, 0.06); transform: translateY(-2px); }
    .ap-load-more-text { font-weight: 300; color: rgba(19, 21, 23, 0.6); font-size: 0.85rem; pointer-events: none; }

    /* ========================================= PROFILE MENU ========================================= */
    #ap-menu-profile { width: 200px; }
    .ap-profile-link { display: block; padding: 0.75rem 1.25rem; color: var(--ap-text-secondary); text-decoration: none; font-size: 0.875rem; transition: background 0.2s; }
    .ap-profile-link:hover { background: rgba(0, 0, 0, 0.04); }
    .ap-profile-divider { height: 1px; background: #f1f5f9; margin: 0.5rem 0; }
    .ap-profile-link.ap-danger { color: #ef4444; }
    .ap-profile-link.ap-danger:hover { background: rgba(239, 68, 68, 0.05); }
    .ap-darkmode-wrapper { height: 40px; position: relative; overflow: hidden; padding: 0 1.25rem; display: flex; align-items: center; justify-content: center; }
    .ap-tdnn { font-size: 1.2px; position: relative; height: var(--ap-toggle-height); width: var(--ap-toggle-width); border-radius: var(--ap-toggle-height); transition: all 500ms ease-in-out; background: var(--ap-bg-night); cursor: pointer; }
    .ap-moon { position: absolute; display: block; border-radius: 50%; transition: all 400ms ease-in-out; top: 3em; left: 3em; transform: rotate(-75deg); width: 10em; height: 10em; background: var(--ap-bg-night); box-shadow: 3em 2.5em 0 0em var(--ap-moon-color) inset, rgba(255,255,255,0.1) 0em -7em 0 -4.5em; }
    .ap-sun { top: 4.5em; left: 18em; transform: rotate(0deg); width: 7em; height: 7em; background: #fff; box-shadow: 3em 3em 0 5em #fff inset; }
    .ap-day { background: #FFBF71; }

    /* ========================================= COLORS ========================================= */
    .ap-bg-blue { background: linear-gradient(135deg, #3b82f6, #2563eb); }
    .ap-bg-green { background: linear-gradient(135deg, #22c55e, #16a34a); }
    .ap-bg-orange { background: linear-gradient(135deg, #f97316, #ea580c); }
    .ap-bg-purple { background: linear-gradient(135deg, #a855f7, #9333ea); }
    .ap-bg-red { background: linear-gradient(135deg, #ef4444, #dc2626); }
    .ap-bg-gray { background: #64748b; }

    /* ========================================= CONTENT ========================================= */
    .ap-breadcrumb { display: flex; align-items: center; justify-content: space-between; padding-top: 1rem; padding-bottom: 1.5rem; }
    .ap-breadcrumb-inner { display: flex; align-items: center; gap: 0.5rem; font-size: 0.75rem; color: #64748b; }
    .ap-breadcrumb-active { font-weight: 500; color: #0f172a; }
    .ap-content-wrapper { display: flex; flex-direction: column; gap: 1.5rem; padding-bottom: 6rem; }
    .ap-search-bar { background: white; border-radius: 24px; padding: 1rem; box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05); border: 1px solid #f1f5f9; margin-bottom: 1.5rem; }
    .ap-search-input-wrapper { position: relative; margin-bottom: 1rem; }
    .ap-search-icon { position: absolute; left: 1rem; top: 0.75rem; color: #94a3b8; font-size: 1.25rem; }
    .ap-search-input { width: 100%; padding-left: 2.5rem; padding-right: 1rem; padding-top: 0.75rem; padding-bottom: 0.75rem; background: #f8fafc; border: none; border-radius: 12px; font-size: 0.875rem; color: #1e293b; font-weight: 500; }
    .ap-search-input:focus { outline: none; box-shadow: 0 0 0 2px rgba(255, 105, 37, 0.2); }
    .ap-filter-chips { display: flex; flex-wrap: wrap; gap: 0.5rem; }
    .ap-filter-chip { padding: 8px 16px; background: rgba(0,0,0,0.04); border-radius: 99px; font-size: 11px; font-weight: 600; color: #64748b; cursor: pointer; transition: all 0.2s; border: 1px solid transparent; }
    .ap-filter-chip:hover { background: rgba(0,0,0,0.08); color: #334155; }
    .ap-filter-chip.ap-active { background: #0f172a; color: white; }
    .ap-results-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem; padding-left: 0.5rem; padding-right: 0.5rem; }
    .ap-results-title { font-size: 0.75rem; font-weight: 700; color: #94a3b8; text-transform: uppercase; letter-spacing: 0.05em; }
    .ap-results-count { font-size: 10px; background: #f1f5f9; padding: 0.25rem 0.5rem; border-radius: 4px; color: #64748b; font-weight: 700; }
    .ap-suppliers-grid { display: grid; grid-template-columns: 1fr; gap: 1rem; }
    .ap-supplier-card { background: white; border: 1px solid #e2e8f0; border-radius: 24px; padding: 16px; transition: all 0.3s; cursor: pointer; display: flex; align-items: flex-start; gap: 1rem; }
    .ap-supplier-card:hover { transform: translateY(-3px); box-shadow: 0 10px 30px -5px rgba(0,0,0,0.08); }
    .ap-supplier-logo-wrapper { height: 4rem; width: 4rem; border-radius: 12px; background: #f8fafc; border: 1px solid #f1f5f9; overflow: hidden; flex-shrink: 0; position: relative; }
    .ap-supplier-logo { width: 100%; height: 100%; object-fit: cover; }
    .ap-verified-badge { position: absolute; bottom: 0; right: 0; height: 1rem; width: 1rem; background: #22c55e; border-radius: 4px 0 0 0; display: flex; align-items: center; justify-content: center; }
    .ap-verified-badge i { color: white; font-size: 10px; }
    .ap-supplier-info { flex: 1; min-width: 0; }
    .ap-supplier-name { font-weight: 700; color: #0f172a; font-size: 15px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
    .ap-supplier-meta { font-size: 0.75rem; color: #64748b; margin-bottom: 0.5rem; display: flex; align-items: center; gap: 0.25rem; }
    .ap-supplier-category { color: #f97316; font-weight: 500; text-transform: uppercase; }
    .ap-supplier-rating { display: flex; align-items: center; gap: 0.25rem; }
    .ap-star { color: #fbbf24; }
    .ap-rating-value { font-weight: 700; color: #1e293b; }
    .ap-supplier-tags { display: flex; gap: 0.25rem; flex-wrap: wrap; }
    .ap-tag { font-size: 10px; background: #f8fafc; padding: 0.125rem 0.5rem; border-radius: 6px; color: #64748b; text-transform: uppercase; border: 1px solid #f1f5f9; font-weight: 600; }
    .ap-supplier-arrow { height: 2rem; width: 2rem; border-radius: 50%; background: #f8fafc; display: flex; align-items: center; justify-content: center; color: #94a3b8; transition: all 0.2s; }
    .ap-supplier-card:hover .ap-supplier-arrow { background: #fed7aa; color: #f97316; }

    /* ========================================= MOBILE NAV ========================================= */
    .ap-mobile-nav { display: none; position: fixed; bottom: 0; left: 0; right: 0; z-index: 40; background: white; border-top: 1px solid #e2e8f0; padding-bottom: env(safe-area-inset-bottom); }
    .ap-mobile-nav-inner { max-width: 28rem; margin-left: auto; margin-right: auto; width: 100%; padding-left: 1.5rem; padding-right: 1.5rem; padding-top: 0.5rem; display: flex; align-items: flex-end; justify-content: space-between; height: 60px; }
    .ap-mobile-nav-item { display: flex; flex-direction: column; align-items: center; justify-content: center; width: 3.5rem; gap: 0.25rem; text-decoration: none; color: #94a3b8; }
    .ap-mobile-nav-item i { font-size: 1.25rem; }
    .ap-mobile-nav-label { font-size: 10px; }
    .ap-mobile-nav-item.ap-active { color: #0f172a; }
    .ap-mobile-nav-item.ap-active .ap-mobile-nav-label { font-weight: 700; }
    .ap-mobile-nav-fab { position: relative; top: -1.5rem; }
    .ap-fab-button { height: 3.5rem; width: 3.5rem; border-radius: 50%; background: #0f172a; color: white; display: flex; align-items: center; justify-content: center; box-shadow: 0 10px 30px rgba(15, 23, 42, 0.3); border: none; cursor: pointer; transition: transform 0.2s; }
    .ap-fab-button:active { transform: scale(0.95); }
    .ap-fab-button i { font-size: 1.5rem; }

    /* ========================================= RESPONSIVE ========================================= */
    @media (min-width: 769px) {
      .ap-logo-desktop { display: flex; }
      .ap-logo-mobile { display: none; }
      .ap-clock { display: block; }
      .ap-nav-btn { display: flex; }
      .ap-sidebar { display: flex; }
      .ap-main-content { margin-left: var(--ap-sidebar-width); padding-left: 0; }
    }
    
    @media (max-width: 768px) {
      #ap-btn-notif { display: none !important; }
      .ap-clock { display: none !important; }
      #ap-btn-apps { display: flex !important; margin-left: auto; }
      #ap-btn-profile { display: flex !important; }
      .ap-mobile-nav { display: block; }
      .ap-content-wrapper { padding-bottom: 5rem; }
      
      #ap-menu-notif { width: 80% !important; height: fit-content !important; max-height: 95vh !important; left: 50% !important; right: auto !important; transform: translateX(-50%) translateY(-10px) scale(0.98); }
      #ap-menu-notif.ap-active { transform: translateX(-50%) translateY(0) scale(1); }
      
      #ap-menu-app { position: fixed !important; top: 50% !important; left: 50% !important; right: auto !important; width: 90vw !important; height: 90vh !important; max-width: none !important; max-height: none !important; transform: translate(-50%, -50%) scale(0.98); border-radius: var(--ap-menu-radius); padding-top: 1.5rem; }
      #ap-menu-app.ap-active { transform: translate(-50%, -50%) scale(1); }
    }
    
    @media (min-width: 1280px) {
      .ap-suppliers-grid { grid-template-columns: repeat(2, 1fr); }
    }
  </style>
</head>

<body>

<!-- ========================================= NAVBAR ========================================= -->
<nav class="ap-navbar">
  <div class="ap-logo-wrapper">
    <div class="ap-logo-desktop">
      <div class="ap-logo-icon"><i class="ri-slack-fill"></i></div>
      <div class="ap-logo-text">
        <span class="ap-logo-title">Apollo::rio</span>
        <span class="ap-logo-subtitle">plataforma</span>
      </div>
    </div>
    <div class="ap-logo-mobile">
      <div class="ap-logo-icon"><i class="ri-slack-fill"></i></div>
    </div>
  </div>
  <div class="ap-nav-controls">
    <div class="ap-clock" id="ap-digital-clock">00:00:00</div>
    <button id="ap-btn-notif" class="ap-nav-btn" aria-label="Notificações" aria-expanded="false">
      <div class="ap-badge" id="ap-notif-badge" data-notif="true"></div>
      <i class="ri-gps-line"></i>
    </button>
    <button id="ap-btn-apps" class="ap-nav-btn" aria-label="Aplicativos" aria-expanded="false">
      <i class="ri-grid-fill"></i>
    </button>
    <button id="ap-btn-profile" class="ap-nav-btn ap-profile-btn" aria-expanded="false">V</button>
  </div>
</nav>

<!-- ========================================= LAYOUT ========================================= -->
<div class="ap-layout">

  <!-- ========================================= SIDEBAR (FIXED ON DESKTOP) ========================================= -->
  <aside class="ap-sidebar">
    <nav class="ap-sidebar-nav ap-no-scrollbar">
      <div class="ap-nav-section-title">Navegação</div>
      <a href="#" class="ap-sidebar-link"><i class="ri-building-3-line"></i><span>Feed</span></a>
      <a href="#" class="ap-sidebar-link"><i class="ri-calendar-event-line"></i><span>Eventos</span></a>
      <a href="#" class="ap-sidebar-link"><i class="ri-user-community-fill"></i><span>Comunidades</span></a>
      <a href="#" class="ap-sidebar-link"><i class="ri-team-fill"></i><span>Núcleos</span></a>
      <a href="#" class="ap-sidebar-link"><i class="ri-megaphone-line"></i><span>Classificados</span></a>
      <a href="#" class="ap-sidebar-link"><i class="ri-file-text-line"></i><span>Docs &amp; Contratos</span></a>
      <a href="#" class="ap-sidebar-link"><i class="ri-user-smile-fill"></i><span>Perfil</span></a>
      <div class="ap-nav-section-title" style="margin-top: 1.5rem;">Cena::rio</div>
      <a href="#" class="ap-sidebar-link"><i class="ri-calendar-line"></i><span>Agenda</span></a>
      <a href="#" class="ap-sidebar-link" aria-current="page"><i class="ri-bar-chart-grouped-line"></i><span>Fornecedores</span></a>
      <a href="#" class="ap-sidebar-link"><i class="ri-file-text-line"></i><span>Documentos</span></a>
      <div class="ap-nav-section-title" style="margin-top: 1rem;">Acesso Rápido</div>
      <a href="#" class="ap-sidebar-link"><i class="ri-settings-6-line"></i><span>Ajustes</span></a>
    </nav>
    <div class="ap-sidebar-user">
      <div class="ap-user-avatar"><img src="https://ui-avatars.com/api/?name=Valle&background=f97316&color=fff" alt="Valle"></div>
      <div class="ap-user-info">
        <span class="ap-user-name">Valle</span>
        <span class="ap-user-role">Produtor</span>
      </div>
    </div>
  </aside>

  <!-- ========================================= MAIN CONTENT ========================================= -->
  <main class="ap-main-content">
    <div class="ap-breadcrumb">
      <div class="ap-breadcrumb-inner">
        <span class="ap-breadcrumb-active">Cena::rio</span>
        <span>/</span>
        <span>Fornecedores</span>
      </div>
    </div>
    <div class="ap-content-wrapper">
      <div class="ap-main-column">
        <div class="ap-search-bar">
          <div class="ap-search-input-wrapper">
            <i class="ri-search-2-line ap-search-icon"></i>
            <input type="text" id="ap-search-input" placeholder="Buscar nome, equipamento ou serviço..." class="ap-search-input">
          </div>
          <div class="ap-filter-chips">
            <button class="ap-filter-chip ap-active" data-cat="all">Todos</button>
            <button class="ap-filter-chip" data-cat="sound">Som</button>
            <button class="ap-filter-chip" data-cat="light">Luz</button>
            <button class="ap-filter-chip" data-cat="visuals">Visuals</button>
            <button class="ap-filter-chip" data-cat="security">Segurança</button>
            <button class="ap-filter-chip" data-cat="bar">Bar</button>
          </div>
        </div>
        <div class="ap-results-header">
          <h2 class="ap-results-title">Resultados</h2>
          <span id="ap-count-label" class="ap-results-count">Carregando</span>
        </div>
        <div id="ap-suppliers-grid" class="ap-suppliers-grid"></div>
      </div>
    </div>
  </main>

</div>
<!-- ========================================= END OF MAIN ========================================= -->

<!-- ========================================= MOBILE NAV ========================================= -->
<div class="ap-mobile-nav">
  <div class="ap-mobile-nav-inner">
    <a href="#" class="ap-mobile-nav-item">
      <i class="ri-calendar-line"></i>
      <span class="ap-mobile-nav-label">Agenda</span>
    </a>
    <a href="#" class="ap-mobile-nav-item ap-active">
      <i class="ri-bar-chart-grouped-line"></i>
      <span class="ap-mobile-nav-label">Pro</span>
    </a>
    <div class="ap-mobile-nav-fab">
      <button class="ap-fab-button"><i class="ri-add-line"></i></button>
    </div>
    <a href="#" class="ap-mobile-nav-item">
      <i class="ri-file-text-line"></i>
      <span class="ap-mobile-nav-label">Docs</span>
    </a>
    <a href="#" class="ap-mobile-nav-item">
      <i class="ri-user-3-line"></i>
      <span class="ap-mobile-nav-label">Perfil</span>
    </a>
  </div>
</div>

<!-- ========================================= NOTIFICATION DROPDOWN ========================================= -->
<div id="ap-menu-notif" class="ap-dropdown">
  <div class="ap-section-title">
    <span>Notificações</span>
    <a href="#" class="ap-see-all">Ver todas &gt;</a>
  </div>
  <div class="ap-notif-list" id="ap-notif-list">
    <a href="#" class="ap-notif-item">
      <div class="ap-notif-icon ap-bg-red"><i class="ri-alarm-warning-line"></i></div>
      <div class="ap-notif-content">
        <span class="ap-notif-title">Sistema</span>
        <span class="ap-notif-desc">Backup do servidor finalizado.</span>
        <span class="ap-notif-time">2m atrás</span>
      </div>
    </a>
    <a href="#" class="ap-notif-item">
      <div class="ap-notif-icon ap-bg-blue"><i class="ri-user-follow-line"></i></div>
      <div class="ap-notif-content">
        <span class="ap-notif-title">Novo Seguidor</span>
        <span class="ap-notif-desc">Spectra Visuals começou a seguir você.</span>
        <span class="ap-notif-time">1h atrás</span>
      </div>
    </a>
    <a href="#" class="ap-notif-item">
      <div class="ap-notif-icon ap-bg-green"><i class="ri-check-double-line"></i></div>
      <div class="ap-notif-content">
        <span class="ap-notif-title">Pagamento Aprovado</span>
        <span class="ap-notif-desc">Orçamento #4523 foi aprovado.</span>
        <span class="ap-notif-time">3h atrás</span>
      </div>
    </a>
  </div>
  <div class="ap-load-more" id="ap-load-more-notif">Carregar mais notificações</div>
</div>

<!-- ========================================= APP MENU DROPDOWN ========================================= -->
<div id="ap-menu-app" class="ap-dropdown">
  <div class="ap-section-title">Aplicativos</div>
  <div class="ap-apps-grid">
    <a href="#" class="ap-app-item">
      <div class="ap-app-icon ap-bg-green">XL</div>
      <span class="ap-app-label">Excel</span>
    </a>
    <a href="#" class="ap-app-item">
      <div class="ap-app-icon ap-bg-blue">WD</div>
      <span class="ap-app-label">Word</span>
    </a>
    <a href="#" class="ap-app-item">
      <div class="ap-app-icon ap-bg-orange">PP</div>
      <span class="ap-app-label">Slide</span>
    </a>
    <a href="#" class="ap-app-item">
      <div class="ap-app-icon ap-bg-purple">TM</div>
      <span class="ap-app-label">Teams</span>
    </a>
    <a href="#" class="ap-app-item">
      <div class="ap-app-icon ap-bg-red">PDF</div>
      <span class="ap-app-label">Leitor</span>
    </a>
    <a href="#" class="ap-app-item">
      <div class="ap-app-icon ap-bg-gray">DR</div>
      <span class="ap-app-label">Drive</span>
    </a>
    <a href="#" class="ap-app-item">
      <div class="ap-app-icon ap-bg-blue">MT</div>
      <span class="ap-app-label">Meet</span>
    </a>
    <a href="#" class="ap-app-item">
      <div class="ap-app-icon ap-bg-gray">+</div>
      <span class="ap-app-label">Add</span>
    </a>
  </div>

  <div class="ap-section-title">
    <span>Mensagens Recentes</span>
    <a href="#" class="ap-see-all">Abrir Messenger &gt;</a>
  </div>
  <div class="ap-scroll-row" id="ap-chat-scroller">
    <a href="#" class="ap-msg-card">
      <div class="ap-msg-header">
        <div class="ap-msg-avatar ap-bg-gray">M</div>
        <div class="ap-msg-info">
          <span class="ap-msg-name">Matheus</span>
          <span class="ap-msg-time">Agora</span>
        </div>
      </div>
      <div class="ap-msg-preview">Cara, você viu o novo layout? Ficou insano!</div>
    </a>
    <a href="#" class="ap-msg-card">
      <div class="ap-msg-header">
        <div class="ap-msg-avatar ap-bg-purple">B</div>
        <div class="ap-msg-info">
          <span class="ap-msg-name">Bruna</span>
          <span class="ap-msg-time">5m atrás</span>
        </div>
      </div>
      <div class="ap-msg-preview">Reunião adiada para as 16h.</div>
    </a>
    <a href="#" class="ap-msg-card">
      <div class="ap-msg-header">
        <div class="ap-msg-avatar ap-bg-blue">L</div>
        <div class="ap-msg-info">
          <span class="ap-msg-name">Lucas</span>
          <span class="ap-msg-time">20m atrás</span>
        </div>
      </div>
      <div class="ap-msg-preview">Enviou os documentos do projeto.</div>
    </a>
    <div class="ap-msg-card ap-load-more-card" id="ap-load-more-msgs">
      <span class="ap-load-more-text">+ Carregar Mais</span>
    </div>
  </div>

  <div class="ap-section-title">
    <span>Notificações</span>
    <a href="#" class="ap-see-all">Ver todas &gt;</a>
  </div>
  <div class="ap-scroll-row">
    <a href="#" class="ap-msg-card">
      <div class="ap-msg-header">
        <div class="ap-msg-avatar ap-bg-red">A</div>
        <div class="ap-msg-info">
          <span class="ap-msg-name">Alerta Sistema</span>
          <span class="ap-msg-time">2m atrás</span>
        </div>
      </div>
      <div class="ap-msg-preview">Backup concluído com sucesso.</div>
    </a>
    <a href="#" class="ap-msg-card">
      <div class="ap-msg-header">
        <div class="ap-msg-avatar ap-bg-green">J</div>
        <div class="ap-msg-info">
          <span class="ap-msg-name">Júlia M.</span>
          <span class="ap-msg-time">15m atrás</span>
        </div>
      </div>
      <div class="ap-msg-preview">Marcou você em "Revisão UI".</div>
    </a>
  </div>
</div>

<!-- ========================================= PROFILE DROPDOWN ========================================= -->
<div id="ap-menu-profile" class="ap-dropdown">
  <a href="#" class="ap-profile-link">Perfil</a>
  <a href="#" class="ap-profile-link">Ajustes</a>
  <div class="ap-profile-divider"></div>
  <div class="ap-darkmode-wrapper">
    <div class="ap-tdnn"><div class="ap-moon"></div></div>
  </div>
  <a href="#" class="ap-profile-link ap-danger">Sair</a>
</div>

<!-- ========================================= JAVASCRIPT ========================================= -->
<script>
document.addEventListener('DOMContentLoaded', () => {
  
  // Clock
  const clockEl = document.getElementById('ap-digital-clock');
  function updateClock() {
    const now = new Date();
    clockEl.textContent = now.toLocaleTimeString('pt-BR', { hour12: false });
  }
  updateClock();
  setInterval(updateClock, 1000);

  // Menu Toggle System
  const menuApp = document.getElementById('ap-menu-app');
  const btnApps = document.getElementById('ap-btn-apps');
  const menuNotif = document.getElementById('ap-menu-notif');
  const btnNotif = document.getElementById('ap-btn-notif');
  const menuProfile = document.getElementById('ap-menu-profile');
  const btnProfile = document.getElementById('ap-btn-profile');

  function toggleMenu(menu, btn) {
    const isActive = menu.classList.contains('ap-active');
    document.querySelectorAll('.ap-dropdown').forEach(m => {
      m.classList.remove('ap-active');
      setTimeout(() => { if (!m.classList.contains('ap-active')) m.style.display = 'none'; }, 300);
    });
    document.querySelectorAll('.ap-nav-btn').forEach(b => b.setAttribute('aria-expanded', 'false'));
    if (!isActive) {
      menu.style.display = 'flex';
      setTimeout(() => menu.classList.add('ap-active'), 10);
      btn.setAttribute('aria-expanded', 'true');
    }
  }

  if(btnApps) btnApps.onclick = (e) => { e.stopPropagation(); toggleMenu(menuApp, btnApps); };
  if(btnNotif) btnNotif.onclick = (e) => { e.stopPropagation(); toggleMenu(menuNotif, btnNotif); };
  if(btnProfile) btnProfile.onclick = (e) => { e.stopPropagation(); toggleMenu(menuProfile, btnProfile); };

  document.onclick = () => {
    document.querySelectorAll('.ap-dropdown').forEach(m => {
      m.classList.remove('ap-active');
      setTimeout(() => { if (!m.classList.contains('ap-active')) m.style.display = 'none'; }, 300);
    });
    document.querySelectorAll('.ap-nav-btn').forEach(b => b.setAttribute('aria-expanded', 'false'));
  };
  
  document.querySelectorAll('.ap-dropdown').forEach(m => m.onclick = (e) => e.stopPropagation());

  // Dark Mode Toggle
  $('.ap-tdnn').click(function(){
    $("body").toggleClass('dark-mode');
    $(".ap-moon").toggleClass('ap-sun');
    $(".ap-tdnn").toggleClass('ap-day');
  });

  // Suppliers Data
  const suppliers = [
    { id: 1, name: "Loudness Som", type: "sound", cat: "Audio", tags: ["Funktion-One", "Raves"], desc: "Especialistas em sonorização de grande porte.", logo: "https://ui-avatars.com/api/?name=LS&background=0f172a&color=fff", banner: "https://images.unsplash.com/photo-1520166012956-add9ba083599?auto=format&fit=crop&w=800" },
    { id: 2, name: "Spectra Visuals", type: "visuals", cat: "Visuals", tags: ["Mapping", "VJ"], desc: "Experiências visuais imersivas.", logo: "https://ui-avatars.com/api/?name=SV&background=7c3aed&color=fff", banner: "https://images.unsplash.com/photo-1550989460-0adf9ea622e2?auto=format&fit=crop&w=800" },
    { id: 3, name: "DrinkLab", type: "bar", cat: "Bar", tags: ["Cocktails", "Staff"], desc: "Operação completa de bar.", logo: "https://ui-avatars.com/api/?name=DL&background=f97316&color=fff", banner: "https://images.unsplash.com/photo-1514362545857-3bc16c4c7d1b?auto=format&fit=crop&w=800" },
    { id: 4, name: "Guerreiros", type: "security", cat: "Segurança", tags: ["Vigilancia", "Acesso"], desc: "Segurança especializada em eventos.", logo: "https://ui-avatars.com/api/?name=GS&background=1e293b&color=fff", banner: "https://images.unsplash.com/photo-1555699898-19d298099684?auto=format&fit=crop&w=800" },
    { id: 5, name: "LedStar Luz", type: "light", cat: "Iluminação", tags: ["Beam", "Lasers"], desc: "Equipamentos de iluminação de ponta.", logo: "https://ui-avatars.com/api/?name=LS&background=0ea5e9&color=fff", banner: "https://images.unsplash.com/photo-1492684223066-81342ee5ff30?auto=format&fit=crop&w=800" },
    { id: 6, name: "Heavy Bass", type: "sound", cat: "Audio", tags: ["Subwoofers", "Line Array"], desc: "Sistemas de som focados em graves.", logo: "https://ui-avatars.com/api/?name=HB&background=334155&color=fff", banner: "https://images.unsplash.com/photo-1470225620780-dba8ba36b745?auto=format&fit=crop&w=800" }
  ];

  const grid = document.getElementById('ap-suppliers-grid');
  const countLabel = document.getElementById('ap-count-label');

  function render(data) {
    grid.innerHTML = '';
    countLabel.textContent = `${data.length} resultados`;
    data.forEach((s, idx) => {
      const div = document.createElement('div');
      div.className = 'ap-supplier-card';
      div.innerHTML = `
        <div class="ap-supplier-logo-wrapper">
          <img src="${s.logo}" class="ap-supplier-logo">
          <div class="ap-verified-badge"><i class="ri-check-line"></i></div>
        </div>
        <div class="ap-supplier-info">
          <h3 class="ap-supplier-name">${s.name}</h3>
          <div class="ap-supplier-meta">
            <span class="ap-supplier-category">${s.cat}</span>
            <span style="color: #cbd5e1;">•</span>
            <div class="ap-supplier-rating">
              <i class="ri-star-fill ap-star"></i>
              <span class="ap-rating-value">5.0</span>
            </div>
          </div>
          <div class="ap-supplier-tags">
            ${s.tags.slice(0,2).map(t => `<span class="ap-tag">${t}</span>`).join('')}
          </div>
        </div>
        <div class="ap-supplier-arrow"><i class="ri-arrow-right-s-line"></i></div>
      `;
      grid.appendChild(div);
      if(window.Motion) {
        window.Motion.animate(div, { opacity: [0, 1], y: [10, 0] }, { duration: 0.3, delay: idx * 0.05 });
      }
    });
  }

  // Filter
  document.querySelectorAll('.ap-filter-chip').forEach(btn => {
    btn.onclick = () => {
      document.querySelectorAll('.ap-filter-chip').forEach(b => b.classList.remove('ap-active'));
      btn.classList.add('ap-active');
      const cat = btn.dataset.cat;
      const filtered = cat === 'all' ? suppliers : suppliers.filter(s => s.type === cat);
      render(filtered);
    };
  });

  // Search
  document.getElementById('ap-search-input').addEventListener('input', (e) => {
    const term = e.target.value.toLowerCase();
    const filtered = suppliers.filter(s => 
      s.name.toLowerCase().includes(term) || 
      s.tags.some(t => t.toLowerCase().includes(term))
    );
    render(filtered);
  });

  // Load More Messages
  const loadMoreMsgs = document.getElementById('ap-load-more-msgs');
  const chatScroller = document.getElementById('ap-chat-scroller');
  if(loadMoreMsgs && chatScroller) {
    loadMoreMsgs.addEventListener('click', (e) => {
      e.stopPropagation();
      const textSpan = loadMoreMsgs.querySelector('.ap-load-more-text');
      textSpan.textContent = 'Carregando...';
      loadMoreMsgs.style.opacity = '0.5';
      setTimeout(() => {
        const newMsgs = [
          { name: 'Ana', time: '1h atrás', msg: 'Reunião confirmada.', avatar: 'A', color: 'ap-bg-blue' },
          { name: 'Pedro', time: '2h atrás', msg: 'Preciso do relatório.', avatar: 'P', color: 'ap-bg-green' }
        ];
        newMsgs.forEach(m => {
          const card = document.createElement('a');
          card.href = '#';
          card.className = 'ap-msg-card';
          card.innerHTML = `
            <div class="ap-msg-header">
              <div class="ap-msg-avatar ${m.color}">${m.avatar}</div>
              <div class="ap-msg-info">
                <span class="ap-msg-name">${m.name}</span>
                <span class="ap-msg-time">${m.time}</span>
              </div>
            </div>
            <div class="ap-msg-preview">${m.msg}</div>
          `;
          chatScroller.insertBefore(card, loadMoreMsgs);
        });
        textSpan.textContent = '+ Carregar Mais';
        loadMoreMsgs.style.opacity = '1';
        chatScroller.scrollBy({ left: 100, behavior: 'smooth' });
      }, 800);
    });
  }

  // Load More Notifications
  const loadMoreNotif = document.getElementById('ap-load-more-notif');
  if(loadMoreNotif) {
    loadMoreNotif.addEventListener('click', (e) => {
      e.stopPropagation();
      loadMoreNotif.textContent = 'Carregando...';
      loadMoreNotif.style.opacity = '0.6';
      setTimeout(() => {
        const notifList = document.getElementById('ap-notif-list');
        const newNotifs = [
          { icon: 'ap-bg-purple', initial: 'C', title: 'Novo Contrato', desc: 'Contrato enviado para assinatura.', time: '3h atrás' },
          { icon: 'ap-bg-orange', initial: 'E', title: 'Evento Próximo', desc: 'Festival Miscelanea em 2 dias.', time: '5h atrás' }
        ];
        newNotifs.forEach(n => {
          const item = document.createElement('a');
          item.href = '#';
          item.className = 'ap-notif-item';
          item.innerHTML = `
            <div class="ap-notif-icon ${n.icon}">${n.initial}</div>
            <div class="ap-notif-content">
              <span class="ap-notif-title">${n.title}</span>
              <span class="ap-notif-desc">${n.desc}</span>
              <span class="ap-notif-time">${n.time}</span>
            </div>
          `;
          notifList.appendChild(item);
        });
        loadMoreNotif.textContent = 'Carregar mais notificações';
        loadMoreNotif.style.opacity = '1';
      }, 600);
    });
  }

  render(suppliers);
});
</script>





<html lang="pt-BR" class="h-full"><!--
================================================================================
  APOLLO TEMPLATE: CENA::RIO - CALENDÁRIO AVANÇADO (INDEX PAGE)
  Version: 1.0.0
  Plugin: apollo-events-manager / apollo-core
  PHP File: templates/shortcode-cena-rio.php

  STRUCTURE INDEX:
  ================
  [HEAD]        → Meta tags, Assets (CSS/JS), CSS Variables
  [LAYOUT]      → App shell (flex container)
  [SIDEBAR]     → Left sidebar desktop navigation
  [HEADER]      → Top bar with month navigation
  [WORKSPACE]   → Main grid: calendar + map + events
  [CALENDAR]    → Interactive calendar with event dots
  [MAP]         → Leaflet map with event markers
  [EVENTS]      → Events list/grid panel
  [NAVIGATION]  → Bottom mobile navigation
  [MODAL]       → Event create/edit modal
  [SCRIPTS]     → JavaScript logic (calendar, events, map)

  PHP VARIABLES TO REPLACE:
  =========================
  - $events_data (WP_Query or array from apollo_events table)
  - $current_user (wp_get_current_user())
  - $current_month (default: date('m'))
  - $current_year (default: date('Y'))
  - $view_mode (calendar, list, map)

================================================================================
--><head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
  <title>Cena::rio · Calendário Avançado</title>

  <!-- ====================================================================
       [HEAD::ASSETS] External Dependencies
       PHP: Use wp_enqueue_style() / wp_enqueue_script() instead
       ==================================================================== -->
  <!-- UNI.CSS Global Design System -->
  <link rel="stylesheet" href="https://assets.apollo.rio.br/uni.css">
  <script src="https://assets.apollo.rio.br/base.js" defer=""></script>

  <!-- TAILWIND (utilities) -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- REMIXICON -->
  <link href="https://cdn.jsdelivr.net/npm/remixicon@4.7.0/fonts/remixicon.css" rel="stylesheet">

  <!-- LEAFLET MAP -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css">
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

  <!-- ====================================================================
       [HEAD::CSS_VARIABLES] Design Tokens
       PHP: These should match uni.css root variables
       ==================================================================== -->
  <style>
    /* ============================================================
       [ELEMENT::CSS_VARIABLES] Root Design Tokens
       ============================================================ */
    :root {
      --bg: #f8fafc;
      --muted: #64748b;
      --accent: #f97316;
      --accent-strong: #ea580c;
      --confirmed: #10b981;
      --published: #3b82f6;
      --card: #ffffff;
      --border: #e6eef6;
      --shadow: 0 8px 30px rgba(15, 23, 42, 0.06);
    }

    /* ============================================================
       [ELEMENT::BASE_STYLES] Body & Global Resets
       ============================================================ */
    html,
    body {
      height: 100%;
      margin: 0;
      background: var(--bg);
      font-family: system-ui, -apple-systemui; sans-serif;
margin: 0; padding: 0; font-size:14px;font-weight:400;
    }

    /* ============================================================
       [LAYOUT::APP_SHELL] Main App Container
       ============================================================ */
    .app {
      display: flex;
      min-height: 100vh;
      gap: 0;
    }

    /* ============================================================
       [SIDEBAR::DESKTOP] Left Navigation (Desktop Only)
       ============================================================ */
    aside.leftbar {
      width: 14rem;
      background: #fff;
      border-right: 1px solid #eef2f7;
      display: flex;
      flex-direction: column;
      z-index: 40;
    }

    @media (max-width: 980px) {
      aside.leftbar {
        display: none
      }
    }

    /* ============================================================
       [LAYOUT::MAIN_CONTENT] Main Content Area
       ============================================================ */
    main.content {
      flex: 1;
      display: flex;
      flex-direction: column;
      min-height: 100vh;
    }

    /* ============================================================
       [HEADER::TOP_BAR] Sticky Header with Month Navigation
       ============================================================ */
    header.topbar {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
      padding: 12px 20px;
      background: rgba(255, 255, 255, 0.9);
      border-bottom: 1px solid #eef2f7;
      position: sticky;
      top: 0;
      z-index: 60;
      backdrop-filter: blur(6px);
    }

    /* ============================================================
       [LAYOUT::WORKSPACE_GRID] Calendar + Map + Events Layout
       Desktop: row 1 = calendário + mapa; row 2 = eventos
       Mobile: cal -> eventos -> mapa
       ============================================================ */
    .workspace {
      display: grid;
      grid-template-columns: minmax(0, 320px) minmax(0, 1fr);
      grid-template-rows: auto auto;
      grid-template-areas:
        "calendar map"
        "events   events";
      gap: 20px;
      padding: 20px;
      max-width: 1400px;
      margin: 0 auto;
      width: 100%;
      box-sizing: border-box;
    }

    @media (max-width:1100px) {
      .workspace {
        grid-template-columns: 1fr;
        grid-template-rows: auto auto auto;
        grid-template-areas:
          "calendar"
          "events"
          "map";
        padding-bottom: 0;
      }
    }

    /* ============================================================
       [WIDGET::CALENDAR_CARD] Calendar Widget Container
       ============================================================ */
    .calendar-card {
      grid-area: calendar;
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 12px;
      box-shadow: var(--shadow);
    }

    /* ============================================================
       [ELEMENT::CALENDAR_WEEKDAYS] Day of Week Headers
       ============================================================ */
    .weekdays {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      gap: 6px;
      text-align: center;
      color: var(--muted);
      font-weight: 700;
      font-size: 12px;
      margin-top: 8px;
    }

    /* ============================================================
       [ELEMENT::CALENDAR_GRID] Calendar Days Grid
       ============================================================ */
    .grid {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      gap: 6px;
      margin-top: 8px;
    }

    /* ============================================================
       [ELEMENT::DAY_BUTTON] Individual Day Cell
       ============================================================ */
    .day-btn {
      height: 38px;
      border-radius: 10px;
      border: 1px solid transparent;
      background: transparent;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 400;
      font-size: 12px;
      color: #0f172a;
      cursor: pointer;
      position: relative;
    }

    .day-btn.disabled {
      opacity: 0.35;
      cursor: default
    }

    .day-btn.selected {
      background: #0f172a;
      color: #fff;
      box-shadow: 0 8px 24px rgba(15, 23, 42, 0.12);
    }

    /* ============================================================
       [ELEMENT::DAY_DOTS] Multiple Event Dots per Day
       ============================================================ */
    .day-dots {
      position: absolute;
      top: 4px;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      gap: 3px;
    }

    .day-dot {
      width: 7px;
      height: 7px;
      border-radius: 999px;
      opacity: 0.95;
      background: var(--accent);
    }

    .day-dot.confirmed {
      background: var(--confirmed);
    }

    .day-dot.published {
      background: var(--published);
    }

    /* ============================================================
       [BLOCK::EVENTS_PANEL] Events List Container
       ============================================================ */
    .events-panel {
      grid-area: events;
      min-height: 400px;
    }

    .events-grid {
      display: flex;
      flex-direction: column;
      gap: 12px;
      width: 100%;
    }

    /* ============================================================
       [CARD::EVENT] Individual Event Card
       ============================================================ */
    .event-card {
      display: flex;
      flex-direction: row;
      align-items: center;
      justify-content: space-between;
      width: 100%;
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 16px 20px;
      box-shadow: var(--shadow);
      transition: transform .12s ease, box-shadow .12s ease;
      gap: 16px;
    }

    @media (max-width: 640px) {
      .event-card {
        flex-direction: column;
        align-items: flex-start;
        gap: 12px;
      }

      .event-card .event-controls {
        width: 100%;
        justify-content: space-between;
        margin-top: 8px;
        padding-top: 8px;
        border-top: 1px solid #f1f5f9;
      }
    }

    /* [CARD::EVENT_STATES] Status Border Colors */
    .event-card.expected {
      border-left: 4px solid var(--accent);
    }

    .event-card.confirmed {
      border-left: 4px solid var(--confirmed);
    }

    /* [ELEMENT::EVENT_INFO] Event Details Section */
    .event-info {
      flex: 1;
      min-width: 0;
    }

    .event-controls {
      display: flex;
      align-items: center;
      gap: 16px;
      flex-shrink: 0;
    }

    .event-title {
      font-weight: 700;
      font-size: 16px;
      color: #0f172a;
    }

    .event-meta {
      font-size: 14px;
      color: #64748b;
      margin-top: 4px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .event-actions {
      display: flex;
      gap: 8px;
      align-items: center;
    }

    /* ============================================================
       [WIDGET::MAP_CARD] Leaflet Map Container
       ============================================================ */
    .map-card {
      grid-area: map;
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 0;
      box-shadow: var(--shadow);
      overflow: hidden;
      min-height: 260px;
    }

    #footer-map {
      width: 100%;
      height: 100%;
      min-height: 260px;
    }

    @media (max-width:640px) {
      #footer-map {
        min-height: 220px;
      }
    }

    /* ============================================================
       [NAVIGATION::BOTTOM_MOBILE] Mobile Bottom Navigation
       ============================================================ */
    .bottom-nav {
      position: fixed;
      left: 0;
      right: 0;
      bottom: env(safe-area-inset-bottom, 0);
      display: flex;
      justify-content: space-around;
      align-items: center;
      height: 64px;
      padding: 8px 12px;
      background: linear-gradient(180deg, rgba(255, 255, 255, 0.96), rgba(255, 255, 255, 0.98));
      backdrop-filter: blur(8px);
      z-index: 1200;
      box-shadow: 0 -6px 20px rgba(0, 0, 0, 0.06);
    }

    .bottom-nav .nav-btn {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 2px;
      font-size: 11px;
      color: #64748b;
      width: 56px;
    }

    .bottom-nav .nav-btn.active {
      color: #0f172a;
    }

    @media (min-width: 980px) {
      .bottom-nav {
        display: none
      }
    }

    /* ============================================================
       [ELEMENT::LEGEND] Calendar Status Legend
       ============================================================ */
    .legend {
      display: flex;
      gap: 12px;
      align-items: center;
      color: #475569;
      font-size: 13px;
      flex-wrap: wrap;
    }

    .legend-item {
      display: flex;
      align-items: center;
      gap: 6px;
      white-space: nowrap;
    }

    .legend-dots {
      display: flex;
      gap: 3px;
    }

    .legend-dot {
      width: 7px;
      height: 7px;
      border-radius: 999px;
      background: var(--accent);
    }

    .legend-dot.confirmed {
      background: var(--confirmed);
    }

    .legend-dot.published {
      background: var(--published);
    }

    /* ============================================================
       [ELEMENT::BUTTONS] Button Styles
       ============================================================ */
    .btn {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 8px 16px;
      border-radius: 8px;
      border: 1px solid transparent;
      background: #111827;
      color: #fff;
      font-weight: 600;
      cursor: pointer;
      font-size: 13px;
      transition: opacity 0.2s;
    }

    .btn:hover {
      opacity: 0.9;
    }

    .btn.ghost {
      background: transparent;
      color: #475569;
      border-color: var(--border)
    }

    .btn.ghost:hover {
      background: #f1f5f9;
      color: #0f172a;
    }

    .btn.small {
      padding: 6px 12px;
      font-size: 12px;
    }

    /* ============================================================
       [ELEMENT::HELPERS] Utility Classes
       ============================================================ */
    .muted {
      color: var(--muted)
    }

    :focus {
      outline: 3px solid rgba(99, 102, 241, 0.12);
      outline-offset: 2px;
    }
  </style>
</head>

<body class="h-full">

  <!-- ======================================================================
       [LAYOUT::APP_SHELL] Main Application Container
       ====================================================================== -->
  <div class="app">

    <!-- ==================================================================
         [SIDEBAR::DESKTOP] Left Navigation Sidebar (Desktop Only)
         PHP BLOCK: templates/partials/sidebar-desktop.php
         VARIABLES: $current_user, $menu_items, $active_page
         ================================================================== -->
    
    <!-- [/SIDEBAR::DESKTOP] -->

    <!-- ==================================================================
         [LAYOUT::MAIN_CONTENT] Main Content Area
         ================================================================== -->
    <main class="content">

      <!-- ================================================================
           [HEADER::TOP_BAR] Page Header with Month Navigation
           PHP BLOCK: templates/partials/header-calendar.php
           ================================================================ -->
      <header class="topbar">
        <!-- [HEADER::TITLE_SECTION] Page Title -->
        <div style="display:flex;align-items:center;gap:12px">
          <div>
            <div class="text-lg font-bold">Calendário Mensal</div>
            <div class="text-sm muted">Planejamento da cena · Cena::rio</div>
          </div>
        </div>

        <!-- [HEADER::MONTH_NAVIGATION] Month Prev/Next Controls -->
        <div style="display:flex;gap:8px;align-items:center">
          <button id="prev-month" class="btn ghost small" aria-label="Mês anterior">
            <i class="ri-arrow-left-s-line"></i>
          </button>
          <!-- PHP: echo strtoupper( date('M Y', strtotime("$current_year-$current_month-01")) ); -->
          <div id="month-label" style="font-weight:800;min-width:140px;text-align:center">NOV 2025</div>
          <button id="next-month" class="btn ghost small" aria-label="Próximo mês">
            <i class="ri-arrow-right-s-line"></i>
          </button>
        </div>
      </header>
      <!-- [/HEADER::TOP_BAR] -->

      <!-- ================================================================
           [LAYOUT::WORKSPACE] Main Grid Area (Calendar + Map + Events)
           ================================================================ -->
      <section class="workspace">

        <!-- ==============================================================
             [WIDGET::CALENDAR] Interactive Calendar Widget
             PHP BLOCK: templates/partials/calendar-grid.php
             ============================================================== -->
        <aside class="calendar-card" aria-label="Calendário">

          <!-- [CALENDAR::HEADER] Title & Legend -->
          <div style="display:flex;justify-content:space-between;align-items:center;gap:12px">
            <div style="font-weight:700">Calendário</div>

            <!-- [ELEMENT::LEGEND] Status Legend -->
            <div class="legend">
              <div class="legend-item">
                <div class="legend-dots">
                  <span class="legend-dot"></span>
                </div>
                <span class="text-[10px]">Previsto</span>
              </div>
              <div class="legend-item">
                <div class="legend-dots">
                  <span class="legend-dot confirmed"></span>
                </div>
                <span class="text-[10px]">Confirmado</span>
              </div>
              <div class="legend-item">
                <div class="legend-dots">
                  <span class="legend-dot published"></span>
                </div>
                <span class="text-[10px]">Público</span>
              </div>
            </div>
          </div>

          <!-- [CALENDAR::WEEKDAYS] Day Headers -->
          <div class="weekdays" aria-hidden="true">
            <div>Dom</div>
            <div>Seg</div>
            <div>Ter</div>
            <div>Qua</div>
            <div>Qui</div>
            <div>Sex</div>
            <div>Sáb</div>
          </div>

          <!-- [CALENDAR::GRID] Calendar Days Grid -->
          <!-- PHP: Render via apollo_render_calendar_grid( $year, $month, $events ) -->
          <div id="calendar-grid" class="grid" role="grid" aria-label="Calendário mensal"><button class="day-btn disabled" type="button" role="gridcell" aria-label="26" disabled="">26</button><button class="day-btn disabled" type="button" role="gridcell" aria-label="27" disabled="">27</button><button class="day-btn disabled" type="button" role="gridcell" aria-label="28" disabled="">28</button><button class="day-btn disabled" type="button" role="gridcell" aria-label="29" disabled="">29</button><button class="day-btn disabled" type="button" role="gridcell" aria-label="30" disabled="">30</button><button class="day-btn disabled" type="button" role="gridcell" aria-label="31" disabled="">31</button><button class="day-btn" type="button" role="gridcell" aria-label="1" data-date="2025-11-01" tabindex="0">1</button><button class="day-btn" type="button" role="gridcell" aria-label="2" data-date="2025-11-02" tabindex="0">2</button><button class="day-btn" type="button" role="gridcell" aria-label="3" data-date="2025-11-03" tabindex="0">3</button><button class="day-btn" type="button" role="gridcell" aria-label="4" data-date="2025-11-04" tabindex="0">4</button><button class="day-btn" type="button" role="gridcell" aria-label="5" data-date="2025-11-05" tabindex="0">5</button><button class="day-btn" type="button" role="gridcell" aria-label="6" data-date="2025-11-06" tabindex="0">6</button><button class="day-btn" type="button" role="gridcell" aria-label="7" data-date="2025-11-07" tabindex="0">7</button><button class="day-btn" type="button" role="gridcell" aria-label="8" data-date="2025-11-08" tabindex="0">8</button><button class="day-btn" type="button" role="gridcell" aria-label="9" data-date="2025-11-09" tabindex="0">9<div class="day-dots"><span class="day-dot confirmed"></span><span class="day-dot confirmed"></span></div></button><button class="day-btn" type="button" role="gridcell" aria-label="10" data-date="2025-11-10" tabindex="0">10</button><button class="day-btn" type="button" role="gridcell" aria-label="11" data-date="2025-11-11" tabindex="0">11</button><button class="day-btn" type="button" role="gridcell" aria-label="12" data-date="2025-11-12" tabindex="0">12</button><button class="day-btn" type="button" role="gridcell" aria-label="13" data-date="2025-11-13" tabindex="0">13</button><button class="day-btn" type="button" role="gridcell" aria-label="14" data-date="2025-11-14" tabindex="0">14</button><button class="day-btn" type="button" role="gridcell" aria-label="15" data-date="2025-11-15" tabindex="0">15</button><button class="day-btn" type="button" role="gridcell" aria-label="16" data-date="2025-11-16" tabindex="0">16<div class="day-dots"><span class="day-dot confirmed"></span></div></button><button class="day-btn" type="button" role="gridcell" aria-label="17" data-date="2025-11-17" tabindex="0">17</button><button class="day-btn" type="button" role="gridcell" aria-label="18" data-date="2025-11-18" tabindex="0">18</button><button class="day-btn" type="button" role="gridcell" aria-label="19" data-date="2025-11-19" tabindex="0">19</button><button class="day-btn" type="button" role="gridcell" aria-label="20" data-date="2025-11-20" tabindex="0">20</button><button class="day-btn" type="button" role="gridcell" aria-label="21" data-date="2025-11-21" tabindex="0">21</button><button class="day-btn" type="button" role="gridcell" aria-label="22" data-date="2025-11-22" tabindex="0">22</button><button class="day-btn" type="button" role="gridcell" aria-label="23" data-date="2025-11-23" tabindex="0">23<div class="day-dots"><span class="day-dot confirmed"></span></div></button><button class="day-btn" type="button" role="gridcell" aria-label="24" data-date="2025-11-24" tabindex="0">24</button><button class="day-btn" type="button" role="gridcell" aria-label="25" data-date="2025-11-25" tabindex="0">25</button><button class="day-btn" type="button" role="gridcell" aria-label="26" data-date="2025-11-26" tabindex="0">26</button><button class="day-btn" type="button" role="gridcell" aria-label="27" data-date="2025-11-27" tabindex="0">27</button><button class="day-btn" type="button" role="gridcell" aria-label="28" data-date="2025-11-28" tabindex="0">28</button><button class="day-btn" type="button" role="gridcell" aria-label="29" data-date="2025-11-29" tabindex="0">29</button><button class="day-btn" type="button" role="gridcell" aria-label="30" data-date="2025-11-30" tabindex="0">30</button><button class="day-btn disabled" type="button" role="gridcell" aria-label="1" disabled="">1</button><button class="day-btn disabled" type="button" role="gridcell" aria-label="2" disabled="">2</button><button class="day-btn disabled" type="button" role="gridcell" aria-label="3" disabled="">3</button><button class="day-btn disabled" type="button" role="gridcell" aria-label="4" disabled="">4</button><button class="day-btn disabled" type="button" role="gridcell" aria-label="5" disabled="">5</button><button class="day-btn disabled" type="button" role="gridcell" aria-label="6" disabled="">6</button></div>

          <!-- [CALENDAR::FOOTER] Add Event Button -->
          <div style="margin-top:12px;display:flex;gap:8px;justify-content:space-between;align-items:center">
            <!-- [BUTTON::ADD_EVENT] -->
            <button id="btn-add-event" class="btn"><i class="ri-add-line"></i> Novo Evento</button>
            <div style="font-size:10px;color:var(--muted)">Toque em um dia</div>
          </div>
        </aside>
        <!-- [/WIDGET::CALENDAR] -->

        <!-- ==============================================================
             [WIDGET::MAP] Leaflet Map with Event Markers
             PHP BLOCK: templates/partials/map-events.php
             ============================================================== -->
        <div class="map-card" aria-label="Mapa de eventos">
          <!-- PHP: Initialize map with event coordinates from $events_data -->
          <div id="footer-map" class="leaflet-container leaflet-touch leaflet-fade-anim leaflet-grab leaflet-touch-drag leaflet-touch-zoom" tabindex="0" style="position: relative;"><div class="leaflet-pane leaflet-map-pane" style="transform: translate3d(6px, -65px, 0px);"><div class="leaflet-pane leaflet-tile-pane"></div><div class="leaflet-pane leaflet-overlay-pane"></div><div class="leaflet-pane leaflet-shadow-pane"></div><div class="leaflet-pane leaflet-marker-pane"></div><div class="leaflet-pane leaflet-tooltip-pane"></div><div class="leaflet-pane leaflet-popup-pane"></div><div class="leaflet-proxy leaflet-zoom-animated" style="transform: translate3d(199263px, 296473px, 0px) scale(1024);"></div><div class="leaflet-pane leaflet-tiles-pane" style="z-index: 200;"><div class="leaflet-layer " style="z-index: 1; opacity: 1;"><div class="leaflet-tile-container leaflet-zoom-animated" style="z-index: 18; transform: translate3d(193px, 55px, 0px) scale(1);"><img alt="" src="https://a.tile.openstreetmap.org/11/778/1157.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(85px, -141px, 0px); opacity: 1;"><img alt="" src="https://b.tile.openstreetmap.org/11/778/1158.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(85px, 115px, 0px); opacity: 1;"><img alt="" src="https://c.tile.openstreetmap.org/11/777/1157.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(-171px, -141px, 0px); opacity: 1;"><img alt="" src="https://b.tile.openstreetmap.org/11/779/1157.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(341px, -141px, 0px); opacity: 1;"><img alt="" src="https://a.tile.openstreetmap.org/11/777/1158.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(-171px, 115px, 0px); opacity: 1;"><img alt="" src="https://c.tile.openstreetmap.org/11/779/1158.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(341px, 115px, 0px); opacity: 1;"><img alt="" src="https://b.tile.openstreetmap.org/11/776/1157.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(-427px, -141px, 0px); opacity: 1;"><img alt="" src="https://c.tile.openstreetmap.org/11/776/1158.png" class="leaflet-tile leaflet-tile-loaded" style="width: 256px; height: 256px; transform: translate3d(-427px, 115px, 0px); opacity: 1;"></div></div></div><div class="leaflet-pane leaflet-events-pane" style="z-index: 600;"><svg pointer-events="none" class="leaflet-zoom-animated" width="910" height="312" viewBox="-82 39 910 312" style="transform: translate3d(-82px, 39px, 0px);"><g><path class="leaflet-interactive" stroke="#10b981" stroke-opacity="1" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" fill="#10b981" fill-opacity="0.95" fill-rule="evenodd" d="M357,254a8,8 0 1,0 16,0 a8,8 0 1,0 -16,0 "></path><path class="leaflet-interactive" stroke="#10b981" stroke-opacity="1" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" fill="#10b981" fill-opacity="0.95" fill-rule="evenodd" d="M361,219a8,8 0 1,0 16,0 a8,8 0 1,0 -16,0 "></path><path class="leaflet-interactive" stroke="#10b981" stroke-opacity="1" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" fill="#10b981" fill-opacity="0.95" fill-rule="evenodd" d="M360,137a8,8 0 1,0 16,0 a8,8 0 1,0 -16,0 "></path><path class="leaflet-interactive" stroke="#10b981" stroke-opacity="1" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" fill="#10b981" fill-opacity="0.95" fill-rule="evenodd" d="M371,152a8,8 0 1,0 16,0 a8,8 0 1,0 -16,0 "></path></g></svg></div><div class="leaflet-pane leaflet-ui-pane" style="z-index: 1200;"></div></div><div class="leaflet-control-container"><div class="leaflet-top leaflet-left"><div class="leaflet-control-zoom leaflet-bar leaflet-control"><a class="leaflet-control-zoom-in" href="#" title="Zoom in" role="button" aria-label="Zoom in" aria-disabled="false"><span aria-hidden="true">+</span></a><a class="leaflet-control-zoom-out" href="#" title="Zoom out" role="button" aria-label="Zoom out" aria-disabled="false"><span aria-hidden="true">−</span></a></div></div><div class="leaflet-top leaflet-right"></div><div class="leaflet-bottom leaflet-left"></div><div class="leaflet-bottom leaflet-right"><div class="leaflet-control-attribution leaflet-control"><a href="https://leafletjs.com" title="A JavaScript library for interactive maps"><svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"></path><path fill="#FFD500" d="M0 4h12v3H0z"></path><path fill="#E0BC00" d="M0 7h12v1H0z"></path></svg> Leaflet</a> <span aria-hidden="true">|</span> © OpenStreetMap contributors</div></div></div></div>
        </div>
        <!-- [/WIDGET::MAP] -->

        <!-- ==============================================================
             [BLOCK::EVENTS_LIST] Events Panel
             PHP BLOCK: templates/partials/events-list.php
             ============================================================== -->
        <section class="events-panel">

          <!-- [EVENTS::HEADER] Title & Actions -->
          <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:12px">
            <div>
              <!-- PHP: Dynamic label based on selected date or "Todos os eventos" -->
              <div id="selected-day" style="font-weight:800; font-size: 1.1rem;">Todos os eventos</div>
              <div class="muted">Lista de produções</div>
            </div>
            <div style="display:flex;gap:8px;align-items:center">
              <!-- [BUTTON::MAP_CENTER] -->
              <button id="toggle-map" class="btn ghost small">
                <i class="ri-map-pin-line"></i> Centralizar no Mapa
              </button>
            </div>
          </div>

          <!-- [EVENTS::GRID] Events Cards Container -->
          <!-- PHP: foreach( $events as $event ): -->
          <div id="events-grid" class="events-grid" aria-live="polite"><article class="event-card confirmed" data-id="e1"><div class="event-info"><div class="event-title">Dismantle · Puro Suco do Caos</div><div class="event-meta"><span style="font-weight:600;color:var(--accent-strong)">11-09</span> · <i class="ri-time-line"></i> 22:00 · sáb · <i class="ri-map-pin-line"></i> Copacabana</div></div><div class="event-controls"><div><span style="display:inline-flex;align-items:center;gap:6px;padding:4px 8px;border-radius:6px;background:rgba(16,185,129,0.1);color:var(--confirmed);font-size:12px;font-weight:700"><i class="ri-check-double-line"></i> Confirmado</span></div><div class="event-actions"><button class="btn small ghost" title="Editar"><i class="ri-edit-line"></i></button><button class="btn small ghost" title="Remover"><i class="ri-delete-bin-line"></i></button></div></div></article><article class="event-card confirmed" data-id="e2"><div class="event-info"><div class="event-title">After Lovers (pós-Dismantle)</div><div class="event-meta"><span style="font-weight:600;color:var(--accent-strong)">11-09</span> · <i class="ri-time-line"></i> 04:30 · dom · <i class="ri-map-pin-line"></i> Botafogo</div></div><div class="event-controls"><div><span style="display:inline-flex;align-items:center;gap:6px;padding:4px 8px;border-radius:6px;background:rgba(16,185,129,0.1);color:var(--confirmed);font-size:12px;font-weight:700"><i class="ri-check-double-line"></i> Confirmado</span></div><div class="event-actions"><button class="btn small ghost" title="Editar"><i class="ri-edit-line"></i></button><button class="btn small ghost" title="Remover"><i class="ri-delete-bin-line"></i></button></div></div></article><article class="event-card confirmed" data-id="e3"><div class="event-info"><div class="event-title">Festival Miscelanea :: RJ</div><div class="event-meta"><span style="font-weight:600;color:var(--accent-strong)">11-16</span> · <i class="ri-time-line"></i> 18:00 · sáb · <i class="ri-map-pin-line"></i> Zona Portuária</div></div><div class="event-controls"><div><span style="display:inline-flex;align-items:center;gap:6px;padding:4px 8px;border-radius:6px;background:rgba(16,185,129,0.1);color:var(--confirmed);font-size:12px;font-weight:700"><i class="ri-check-double-line"></i> Confirmado</span></div><div class="event-actions"><button class="btn small ghost" title="Editar"><i class="ri-edit-line"></i></button><button class="btn small ghost" title="Remover"><i class="ri-delete-bin-line"></i></button></div></div></article><article class="event-card confirmed" data-id="e4"><div class="event-info"><div class="event-title">Cena::rio · Encontro Produtores</div><div class="event-meta"><span style="font-weight:600;color:var(--accent-strong)">11-23</span> · <i class="ri-time-line"></i> 15:00 · sáb · <i class="ri-map-pin-line"></i> Centro</div></div><div class="event-controls"><div><span style="display:inline-flex;align-items:center;gap:6px;padding:4px 8px;border-radius:6px;background:rgba(16,185,129,0.1);color:var(--confirmed);font-size:12px;font-weight:700"><i class="ri-check-double-line"></i> Confirmado</span></div><div class="event-actions"><button class="btn small ghost" title="Editar"><i class="ri-edit-line"></i></button><button class="btn small ghost" title="Remover"><i class="ri-delete-bin-line"></i></button></div></div></article></div>
          <!-- PHP: endforeach; -->
        </section>
        <!-- [/BLOCK::EVENTS_LIST] -->

      </section>
      <!-- [/LAYOUT::WORKSPACE] -->

      <!-- ================================================================
           [NAVIGATION::BOTTOM_MOBILE] Mobile Bottom Navigation Bar
           PHP BLOCK: templates/partials/nav-bottom-mobile.php
           ================================================================ -->
      <div class="bottom-nav" role="navigation" aria-label="Navegação inferior">

        <!-- [NAV_ITEM] Agenda (Active) -->
        <div class="nav-btn active" onclick="location.href='#agenda'">
          <i class="ri-calendar-line"></i><span>Agenda</span>
        </div>

        <!-- [NAV_ITEM] Pro/Fornecedores -->
        <div class="nav-btn" onclick="location.href='#fornecedores'">
          <i class="ri-bar-chart-grouped-line"></i><span>Pro</span>
        </div>

        <!-- [NAV_ITEM::FAB] Floating Action Button -->
        <div style="position:relative;top:-18px">
          <button onclick="openQuickAdd()" class="h-14 w-14 rounded-full bg-slate-900 text-white flex items-center justify-center shadow-lg">
            <i class="ri-add-line text-3xl"></i>
          </button>
        </div>

        <!-- [NAV_ITEM] Docs -->
        <div class="nav-btn" onclick="location.href='#docs'">
          <i class="ri-file-text-line"></i><span>Docs</span>
        </div>

        <!-- [NAV_ITEM] Settings -->
        <div class="nav-btn" onclick="location.href='#settings'">
          <i class="ri-settings-3-line"></i><span>Ajustes</span>
        </div>
      </div>
      <!-- [/NAVIGATION::BOTTOM_MOBILE] -->

    </main>
    <!-- [/LAYOUT::MAIN_CONTENT] -->
  </div>
  <!-- [/LAYOUT::APP_SHELL] -->

  <!-- ======================================================================
       [MODAL::ROOT] Modal Container for Create/Edit Forms
       PHP: Can be a separate partial or use apollo modal system
       ====================================================================== -->
  <div id="modal-root" style="display:none">
    <!--
      [MODAL::EVENT_FORM] Event Create/Edit Modal Structure:

      PHP VARIABLES:
      - $event (null for create, object for edit)
      - $is_edit (boolean)
      - $nonce (wp_create_nonce('apollo_event'))

      FORM FIELDS:
      - ev-date: date input (required)
      - ev-title: text input (required)
      - ev-venue: text input (location)
      - ev-time: text input (time display)
      - ev-lat: number input (latitude)
      - ev-lng: number input (longitude)
    -->
  </div>

  <!-- ======================================================================
       [SCRIPTS::MAIN] JavaScript Logic
       PHP: Move to separate JS file and use wp_enqueue_script()
       ====================================================================== -->
  <script>
    /* =================================================================
       [DATA::EVENTS] Events Database
       PHP: Replace with server-side data:
       const events = <?php echo json_encode( apollo_get_events_data() ); ?>;
       ================================================================= */
    const STORAGE_KEY = 'cenario_events_v3';
    const DEFAULT_EVENTS = {
      "2025-11-09": [
        { id: "e1", title: "Dismantle · Puro Suco do Caos", venue: "Copacabana", time: "22:00 · sáb", tag: "Techno/House", status: "expected", lat: -22.9711, lng: -43.1822 },
        { id: "e2", title: "After Lovers (pós-Dismantle)", venue: "Botafogo", time: "04:30 · dom", tag: "After/Groove", status: "expected", lat: -22.9486, lng: -43.1800 }
      ],
      "2025-11-16": [
        { id: "e3", title: "Festival Miscelanea :: RJ", venue: "Zona Portuária", time: "18:00 · sáb", tag: "Festival", status: "confirmed", lat: -22.8968, lng: -43.1805 }
      ],
      "2025-11-23": [
        { id: "e4", title: "Cena::rio · Encontro Produtores", venue: "Centro", time: "15:00 · sáb", tag: "Encontro", status: "expected", lat: -22.9068, lng: -43.1729 }
      ]
    };

    /* [DATA::PERSISTENCE] LocalStorage Functions */
    function loadEvents() {
      try {
        const raw = localStorage.getItem(STORAGE_KEY);
        if (!raw) return JSON.parse(JSON.stringify(DEFAULT_EVENTS));
        return JSON.parse(raw);
      } catch (e) { return JSON.parse(JSON.stringify(DEFAULT_EVENTS)); }
    }
    function saveEvents(obj) {
      try { localStorage.setItem(STORAGE_KEY, JSON.stringify(obj)); } catch (e) { }
    }

    let events = loadEvents();

    /* =================================================================
       [STATE::CALENDAR] Calendar View State
       PHP: Use server-side defaults: $viewYear, $viewMonth
       ================================================================= */
    const weekDays = ["Dom", "Seg", "Ter", "Qua", "Qui", "Sex", "Sáb"];
    const months = ["jan", "fev", "mar", "abr", "mai", "jun", "jul", "ago", "set", "out", "nov", "dez"];
    let viewYear = 2025;
    let viewMonth = 10; // November (0-indexed)
    let selectedDate = null; // null = show all events

    /* =================================================================
       [DOM::REFS] DOM Element References
       ================================================================= */
    const gridEl = document.getElementById('calendar-grid');
    const monthLabelEl = document.getElementById('month-label');
    const selectedDayEl = document.getElementById('selected-day');
    const eventsGridEl = document.getElementById('events-grid');
    const prevMonthBtn = document.getElementById('prev-month');
    const nextMonthBtn = document.getElementById('next-month');
    const btnAdd = document.getElementById('btn-add-event');
    const footerMapEl = document.getElementById('footer-map');
    const toggleMapBtn = document.getElementById('toggle-map');

    /* =================================================================
       [MAP::SETUP] Leaflet Map Initialization
       PHP: Configure map center from settings or first event coords
       ================================================================= */
    let map, markersLayer;
    function initMap() {
      try {
        map = L.map('footer-map', { zoomControl: true }).setView([-22.9068, -43.1729], 12);

        map.createPane('tilesPane'); map.getPane('tilesPane').style.zIndex = 200;
        map.createPane('eventsPane'); map.getPane('eventsPane').style.zIndex = 600;
        map.createPane('uiPane'); map.getPane('uiPane').style.zIndex = 1200;

        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
          pane: 'tilesPane',
          attribution: '&copy; OpenStreetMap contributors'
        }).addTo(map);

        markersLayer = L.layerGroup([], { pane: 'eventsPane' }).addTo(map);
      } catch (e) {
        console.warn('Leaflet init failed', e);
        footerMapEl.style.display = 'none';
      }
    }

    /* [MAP::UPDATE_MARKERS] Update Map Markers from Events */
    function updateMapMarkers() {
      if (!markersLayer) return;
      markersLayer.clearLayers();
      const keys = Object.keys(events);
      const toShow = [];
      keys.forEach(k => {
        (events[k] || []).forEach(ev => {
          if (!selectedDate || selectedDate === k) toShow.push(ev);
        });
      });
      const coords = [];
      toShow.forEach(ev => {
        if (ev.lat && ev.lng) {
          const circle = L.circleMarker([ev.lat, ev.lng], {
            radius: ev.status === 'confirmed' ? 8 : 6,
            color: ev.status === 'confirmed'
              ? getComputedStyle(document.documentElement).getPropertyValue('--confirmed').trim()
              : getComputedStyle(document.documentElement).getPropertyValue('--accent').trim(),
            fillColor: ev.status === 'confirmed' ? '#10b981' : '#f97316',
            fillOpacity: 0.95,
            pane: 'eventsPane'
          });
          circle.bindPopup(
            `<strong>${escapeHtml(ev.title)}</strong><br>${escapeHtml(ev.venue)}<br>${escapeHtml(ev.time)}`,
            { autoPan: true, className: 'popup-ev' }
          );
          circle.addTo(markersLayer);
          coords.push([ev.lat, ev.lng]);
        }
      });
      if (coords.length) {
        const bounds = L.latLngBounds(coords);
        map.fitBounds(bounds.pad(0.5));
      }
    }

    /* =================================================================
       [CALENDAR::RENDER] Calendar Grid Rendering Functions
       ================================================================= */
    function pad(n) { return String(n).padStart(2, '0'); }
    function isoDate(y, m, d) { return `${y}-${pad(m)}-${pad(d)}`; } // m 1-based
    function daysInMonth(year, monthIndex) { return new Date(year, monthIndex + 1, 0).getDate(); }
    function firstWeekdayOfMonth(year, monthIndex) { return new Date(year, monthIndex, 1).getDay(); }

    function formatSelectedLabel(iso) {
      if (!iso) return 'Todos os eventos';
      const d = new Date(iso + 'T12:00:00');
      if (isNaN(d)) return 'Dia selecionado';
      const dayName = weekDays[d.getDay()];
      const dayNum = pad(d.getDate());
      const monthName = months[d.getMonth()];
      const year = d.getFullYear();
      return `${dayName} · ${dayNum} ${monthName} ${year}`;
    }

    function clearChildren(el) { while (el.firstChild) el.removeChild(el.firstChild); }

    function renderCalendar() {
      clearChildren(gridEl);
      const year = viewYear;
      const month = viewMonth;
      const totalDays = daysInMonth(year, month);
      const firstWeekday = firstWeekdayOfMonth(year, month);
      monthLabelEl.textContent = `${months[month].toUpperCase()} ${year}`;

      // Leading days (previous month)
      const prevMonthIndex = month - 1 < 0 ? 11 : month - 1;
      const prevMonthYear = month - 1 < 0 ? year - 1 : year;
      const prevMonthDays = daysInMonth(prevMonthYear, prevMonthIndex);
      const leadingCount = firstWeekday;
      for (let i = leadingCount - 1; i >= 0; i--) {
        const dayNum = prevMonthDays - i;
        const iso = isoDate(prevMonthYear, prevMonthIndex + 1, dayNum);
        const btn = createDayButton({ day: dayNum, iso, disabled: true, events: [] });
        gridEl.appendChild(btn);
      }

      // Current month days
      for (let d = 1; d <= totalDays; d++) {
        const iso = isoDate(year, month + 1, d);
        const dayEvents = events[iso] || [];
        const isSelected = iso === selectedDate;
        const btn = createDayButton({ day: d, iso, events: dayEvents, selected: isSelected });
        gridEl.appendChild(btn);
      }

      // Trailing days (next month)
      const totalCells = leadingCount + totalDays;
      const trailing = (7 - (totalCells % 7)) % 7;
      const nextMonthIndex = month + 1 > 11 ? 0 : month + 1;
      const nextMonthYear = month + 1 > 11 ? year + 1 : year;
      for (let t = 1; t <= trailing; t++) {
        const iso = isoDate(nextMonthYear, nextMonthIndex + 1, t);
        const btn = createDayButton({ day: t, iso, disabled: true, events: [] });
        gridEl.appendChild(btn);
      }
    }

    /* [CALENDAR::DAY_BUTTON] Create Day Cell with Event Dots */
    function createDayButton({ day, iso, disabled = false, events = [], selected = false }) {
      const btn = document.createElement('button');
      btn.className = 'day-btn';
      btn.type = 'button';
      btn.setAttribute('role', 'gridcell');
      btn.setAttribute('aria-label', `${day}`);
      btn.textContent = day;

      if (disabled) {
        btn.classList.add('disabled');
        btn.disabled = true;
        return btn;
      }

      btn.dataset.date = iso;
      btn.tabIndex = 0;
      if (selected) btn.classList.add('selected');

      if (events && events.length) {
        const wrapper = document.createElement('div');
        wrapper.className = 'day-dots';

        // One dot per event
        events.forEach(ev => {
          const dot = document.createElement('span');
          dot.className = 'day-dot';
          if (ev.status === 'confirmed') dot.classList.add('confirmed');
          else if (ev.status === 'published') dot.classList.add('published');
          wrapper.appendChild(dot);
        });

        btn.appendChild(wrapper);
      }

      btn.addEventListener('click', onDayClick);
      btn.addEventListener('keydown', (ev) => {
        if (ev.key === 'Enter' || ev.key === ' ') { ev.preventDefault(); btn.click(); }
      });

      return btn;
    }

    function onDayClick(e) {
      const btn = e.currentTarget;
      const iso = btn.dataset.date;
      if (!iso) return;

      if (selectedDate === iso) selectedDate = null;
      else selectedDate = iso;

      gridEl.querySelectorAll('.day-btn').forEach(b => b.classList.remove('selected'));
      if (selectedDate) {
        const sel = gridEl.querySelector(`[data-date="${selectedDate}"]`);
        if (sel) sel.classList.add('selected');
      }

      renderEventGrid();
      updateMapMarkers();
      selectedDayEl.textContent = formatSelectedLabel(selectedDate);
    }

    /* =================================================================
       [EVENTS::RENDER] Events List Rendering
       ================================================================= */
    function renderEventGrid() {
      clearChildren(eventsGridEl);
      selectedDayEl.textContent = formatSelectedLabel(selectedDate);

      const items = [];
      Object.keys(events).forEach(dateKey => {
        (events[dateKey] || []).forEach(ev => {
          items.push(Object.assign({}, ev, { dateKey }));
        });
      });

      items.sort((a, b) => {
        if (a.status === b.status) return a.dateKey < b.dateKey ? -1 : 1;
        return a.status === 'confirmed' ? -1 : 1;
      });

      const toRender = selectedDate ? items.filter(i => i.dateKey === selectedDate) : items;

      if (toRender.length === 0) {
        const empty = document.createElement('div');
        empty.className = 'event-card';
        empty.style.justifyContent = 'center';
        empty.style.flexDirection = 'column';
        empty.style.alignItems = 'center';
        empty.style.gap = '8px';
        empty.style.textAlign = 'center';
        empty.style.color = '#94a3b8';
        empty.innerHTML = `<i class="ri-calendar-line" style="font-size:24px"></i><span>Nenhum evento para exibir</span>`;
        eventsGridEl.appendChild(empty);
        return;
      }

      toRender.forEach(ev => {
        const card = document.createElement('article');
        card.className = 'event-card ' + (ev.status === 'expected' ? 'expected' : 'confirmed');
        card.dataset.id = ev.id;

        const infoDiv = document.createElement('div');
        infoDiv.className = 'event-info';

        const title = document.createElement('div');
        title.className = 'event-title';
        title.textContent = ev.title;

        const meta = document.createElement('div');
        meta.className = 'event-meta';
        meta.innerHTML =
          `<span style="font-weight:600;color:var(--accent-strong)">${ev.dateKey.slice(5)}</span>` +
          ` · <i class="ri-time-line"></i> ${ev.time} · ` +
          `<i class="ri-map-pin-line"></i> ${ev.venue}`;

        infoDiv.appendChild(title);
        infoDiv.appendChild(meta);

        const controlsDiv = document.createElement('div');
        controlsDiv.className = 'event-controls';

        const badge = document.createElement('div');
        if (ev.status === 'expected') {
          badge.innerHTML =
            `<span style="display:inline-flex;align-items:center;gap:6px;padding:4px 8px;border-radius:6px;background:rgba(249,115,22,0.1);color:var(--accent);font-size:12px;font-weight:700"><i class="ri-radar-fill"></i> Previsto</span>`;
        } else {
          badge.innerHTML =
            `<span style="display:inline-flex;align-items:center;gap:6px;padding:4px 8px;border-radius:6px;background:rgba(16,185,129,0.1);color:var(--confirmed);font-size:12px;font-weight:700"><i class="ri-check-double-line"></i> Confirmado</span>`;
        }

        const actions = document.createElement('div');
        actions.className = 'event-actions';

        const editBtn = document.createElement('button');
        editBtn.className = 'btn small ghost';
        editBtn.innerHTML = '<i class="ri-edit-line"></i>';
        editBtn.title = "Editar";
        editBtn.addEventListener('click', (e) => { e.stopPropagation(); openEventModal(ev.id); });

        const deleteBtn = document.createElement('button');
        deleteBtn.className = 'btn small ghost';
        deleteBtn.innerHTML = '<i class="ri-delete-bin-line"></i>';
        deleteBtn.title = "Remover";
        deleteBtn.addEventListener('click', (e) => { e.stopPropagation(); onRemoveEvent(ev.id, ev.dateKey); });

        if (ev.status === 'expected') {
          const confirmBtn = document.createElement('button');
          confirmBtn.className = 'btn small';
          confirmBtn.innerHTML = 'Confirmar';
          confirmBtn.style.padding = '4px 8px';
          confirmBtn.addEventListener('click', (e) => {
            e.stopPropagation();
            onConfirmEvent(ev.id, ev.dateKey);
          });
          actions.appendChild(confirmBtn);
        }

        actions.appendChild(editBtn);
        actions.appendChild(deleteBtn);

        controlsDiv.appendChild(badge);
        controlsDiv.appendChild(actions);

        card.appendChild(infoDiv);
        card.appendChild(controlsDiv);

        card.addEventListener('click', (e) => {
          if (e.target.tagName.toLowerCase() === 'button' || e.target.closest('button')) return;
          if (ev.lat && ev.lng && map) map.setView([ev.lat, ev.lng], 15, { animate: true });
        });

        eventsGridEl.appendChild(card);
      });
    }

    /* =================================================================
       [ACTIONS::EVENTS] Event CRUD Actions
       PHP: Replace with AJAX calls to apollo_event_* endpoints
       ================================================================= */
    function onConfirmEvent(id, dateKey) {
      const dayEvents = events[dateKey] || [];
      const ev = dayEvents.find(x => x.id === id);
      if (!ev) return;
      ev.status = 'confirmed';
      saveEvents(events);
      renderCalendar();
      renderEventGrid();
      updateMapMarkers();
    }

    function onRemoveEvent(id, dateKey) {
      if (!confirm('Remover este evento?')) return;
      const dayEvents = events[dateKey] || [];
      const idx = dayEvents.findIndex(x => x.id === id);
      if (idx === -1) return;
      dayEvents.splice(idx, 1);
      if (dayEvents.length === 0) delete events[dateKey];
      saveEvents(events);
      renderCalendar();
      renderEventGrid();
      updateMapMarkers();
    }

    /* =================================================================
       [MODAL::FUNCTIONS] Event Create/Edit Modal
       PHP: Replace with apollo_modal() or inline form handling
       ================================================================= */
    function openEventModal(eventId) {
      const modalRoot = document.getElementById('modal-root');
      modalRoot.style.display = 'flex';
      modalRoot.innerHTML = '';

      const backdrop = document.createElement('div');
      backdrop.style.position = 'fixed';
      backdrop.style.inset = '0';
      backdrop.style.background = 'rgba(2,6,23,0.45)';
      backdrop.style.display = 'flex';
      backdrop.style.alignItems = 'center';
      backdrop.style.justifyContent = 'center';
      backdrop.style.zIndex = '9999';
      backdrop.addEventListener('click', (e) => { if (e.target === backdrop) closeModal(); });

      const modal = document.createElement('div');
      modal.style.width = 'min(720px,95%)';
      modal.style.background = '#fff';
      modal.style.borderRadius = '12px';
      modal.style.padding = '16px';
      modal.style.boxShadow = '0 12px 40px rgba(2,6,23,0.2)';

      const isEdit = !!eventId;
      modal.innerHTML = `
        <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:12px">
          <div style="font-weight:800">${isEdit ? 'Editar Evento' : 'Novo Evento'}</div>
          <button id="modal-close" class="btn ghost small"><i class="ri-close-line"></i></button>
        </div>
        <form id="event-form" style="display:flex;flex-direction:column;gap:8px">
          <input id="ev-date" type="date" class="w-full border rounded px-3 py-2" required />
          <input id="ev-title" placeholder="Nome do evento" class="w-full border rounded px-3 py-2" required />
          <div style="display:flex;gap:8px">
            <input id="ev-venue" placeholder="Local" class="flex-1 border rounded px-3 py-2" />
            <input id="ev-time" placeholder="Horário" class="w-32 border rounded px-3 py-2" />
          </div>
          <div style="display:flex;gap:8px">
            <input id="ev-lat" placeholder="Lat" class="flex-1 border rounded px-3 py-2" />
            <input id="ev-lng" placeholder="Lng" class="flex-1 border rounded px-3 py-2" />
          </div>
          <div style="display:flex;gap:8px;justify-content:flex-end">
            <button type="button" id="save-ev" class="btn">Salvar</button>
            <button type="button" id="cancel-ev" class="btn ghost">Cancelar</button>
          </div>
        </form>
      `;
      backdrop.appendChild(modal);
      modalRoot.appendChild(backdrop);

      document.getElementById('modal-close').addEventListener('click', closeModal);
      document.getElementById('cancel-ev').addEventListener('click', closeModal);

      if (isEdit) {
        let found = null; let foundDate = null;
        Object.keys(events).forEach(k => {
          (events[k] || []).forEach(ev => { if (ev.id === eventId) { found = ev; foundDate = k; } });
        });
        if (found) {
          document.getElementById('ev-date').value = foundDate;
          document.getElementById('ev-title').value = found.title;
          document.getElementById('ev-venue').value = found.venue;
          document.getElementById('ev-time').value = found.time;
          document.getElementById('ev-lat').value = found.lat || '';
          document.getElementById('ev-lng').value = found.lng || '';
        }
      } else {
        const d = selectedDate || new Date().toISOString().slice(0, 10);
        document.getElementById('ev-date').value = d;
      }

      document.getElementById('save-ev').addEventListener('click', () => {
        const date = document.getElementById('ev-date').value;
        const title = document.getElementById('ev-title').value.trim();
        const venue = document.getElementById('ev-venue').value.trim();
        const time = document.getElementById('ev-time').value.trim();
        const lat = parseFloat(document.getElementById('ev-lat').value) || null;
        const lng = parseFloat(document.getElementById('ev-lng').value) || null;
        if (!date || !title) { alert('Preencha data e nome'); return; }

        if (isEdit) {
          let found = null; let foundDate = null;
          Object.keys(events).forEach(k => {
            (events[k] || []).forEach(ev => { if (ev.id === eventId) { found = ev; foundDate = k; } });
          });
          if (found) {
            found.title = title;
            found.venue = venue;
            found.time = time;
            found.lat = lat;
            found.lng = lng;
            if (foundDate !== date) {
              events[foundDate] = events[foundDate].filter(x => x.id !== eventId);
              if (events[foundDate].length === 0) delete events[foundDate];
              events[date] = events[date] || [];
              events[date].push(found);
            }
          }
        } else {
          const id = 'e' + Math.random().toString(36).slice(2, 9);
          const newEv = { id, title, venue, time, tag: '', status: 'expected', lat, lng };
          events[date] = events[date] || [];
          events[date].push(newEv);
        }
        saveEvents(events);
        closeModal();
        renderCalendar();
        renderEventGrid();
        updateMapMarkers();
      });
    }

    function closeModal() {
      const modalRoot = document.getElementById('modal-root');
      modalRoot.style.display = 'none';
      modalRoot.innerHTML = '';
    }

    function openQuickAdd() {
      openEventModal(null);
    }

    /* [HELPERS::ESCAPE] HTML Escape Function */
    function escapeHtml(str) {
      if (!str) return '';
      return String(str).replace(/[&<>"']/g, s =>
        ({ '&': '&amp;', '<': '&lt;', '>': '&gt;', '"': '&quot;', "'": '&#39;' }[s])
      );
    }

    /* =================================================================
       [INIT::PAGE] Page Initialization
       ================================================================= */
    prevMonthBtn.addEventListener('click', () => {
      viewMonth--;
      if (viewMonth < 0) { viewMonth = 11; viewYear--; }
      renderCalendar();
    });
    nextMonthBtn.addEventListener('click', () => {
      viewMonth++;
      if (viewMonth > 11) { viewMonth = 0; viewYear++; }
      renderCalendar();
    });
    btnAdd.addEventListener('click', () => openEventModal(null));
    toggleMapBtn.addEventListener('click', () => updateMapMarkers());

    renderCalendar();
    renderEventGrid();
    initMap();
    updateMapMarkers();

    /* [DEBUG::EXPOSE] Expose for debugging */
    window._CENARIO = { events, renderCalendar, renderEventGrid, updateMapMarkers };
  </script>


 /* =================================================================
       SIGN DOC ON APOLLO TO PLACE ON MAIN
       ================================================================= */


<div class="ap-flex ap-flex-col ap-h-full ap-max-w-[98%] ap-relative">

  <!-- HEADER -->


  <!-- MAIN CONTENT -->
  <main class="flex-1  max-w-[100%] scroll-smooth relative " id="mainContainer">
    <header class="ap-flex-none ap-z-30 ap-relative">
      <div class="ap-px-4 ap-h-16 ap-flex ap-items-center ap-justify-between ap-w-full">
        <!-- Left: Branding (Mobile Only) & Back Button -->
        <div class="ap-flex ap-items-center ap-gap-3">
          <!-- Back Button (Always visible) -->


          <!-- Mobile Branding -->
          <div class="ap-flex ap-flex-col ap-leading-tight md:hidden">
            <span class="ap-text-[10px] ap-uppercase ap-tracking-wider ap-text-slate-400">Documento</span>
            <span class="ap-text-[13px] ap-font-semibold ap-text-slate-900">Assinar Digitalmente</span>
          </div>

          <!-- Desktop Title -->
          <div class="hidden md:ap-flex ap-flex-col ap-leading-tight ap-ml-2">
            <h1 class="ap-text-xl ap-font-bold ap-text-slate-900">Assinatura de Documento</h1>
            <p class="ap-text-[12px] ap-text-slate-500">Fluxo seguro, auditável e disponível para toda a rede Apollo</p>
          </div>
        </div>


      </div>
    </header>

    <div class=" mx-auto w-full h-full px-1 flex flex-col  lg:flex-row gap-6 pb-20 md:pb-0">
      <!-- LEFT: DOCUMENT PREVIEW (Main Area) -->
      <div class="flex-1 flex flex-col  mx-3 gap-4 min-w-0">
        <section
          class="bg-white rounded-apcard shadow-sm border border-slate-200 p-5 md:p-6 flex-1 flex flex-col min-h-[500px]">
          <!-- Doc Header Info -->
          <div class="flex flex-col gap-4 mb-6 border-b border-slate-100 pb-6">
            <div class="flex items-start justify-between gap-4">
              <div>
                <div class="flex items-center gap-2 mb-1">
                  <span id="doc-category"
                    class="inline-flex items-center gap-1 rounded-md bg-slate-100 px-2 py-0.5 text-[10px] font-bold text-slate-600 uppercase tracking-wide">
                    Evento · Produção
                  </span>
                  <span id="doc-id" class="text-[10px] text-slate-400 font-mono">APR-DOC-2025-00123</span>
                </div>
                <h2 id="doc-title" class="text-lg md:text-xl font-bold text-slate-900 leading-snug">
                  Termo de Responsabilidade · Evento
                </h2>
              </div>
            </div>

            <div class="flex flex-wrap items-center gap-4 text-xs text-slate-500">
              <span id="doc-meta-main" class="flex items-center gap-1.5">
                <i class="ri-time-line"></i> Criado em 20 de nov. de 2025
              </span>
              <span id="doc-meta-second" class="flex items-center gap-1.5">
                <i class="ri-file-list-2-line"></i> 2 páginas
              </span>
            </div>
          </div>

          <!-- PDF Simulation Container -->
          <div class="flex-1 bg-slate-50 rounded-xl border border-slate-200 relative  flex flex-col">
            <!-- Toolbar -->
            <div class="flex items-center justify-between px-4 py-2 bg-white border-b border-slate-200">
              <div class="flex items-center gap-2">
                <span class="h-2.5 w-2.5 rounded-full bg-red-400/80"></span>
                <span class="h-2.5 w-2.5 rounded-full bg-amber-400/80"></span>
                <span class="h-2.5 w-2.5 rounded-full bg-green-400/80"></span>
              </div>
              <span class="text-[10px] font-medium text-slate-400 uppercase tracking-wider">Previsualização</span>
            </div>

            <!-- Page Content -->
            <div class="flex-1 overflow-y-auto p-4 md:p-8 custom-scrollbar">
              <div
                class="max-w-[600px] mx-auto bg-white shadow-lg border border-slate-100 min-h-[600px] p-8 md:p-12 text-slate-800 text-sm leading-relaxed space-y-4">
                <div class="flex justify-between items-start border-b border-slate-100 pb-4 mb-4">
                  <div>
                    <p class="text-[10px] uppercase tracking-widest text-slate-400">Apollo::Rio · Documento Oficial
                    </p>
                    <h3 class="font-bold text-base">Termo de Responsabilidade</h3>
                  </div>
                  <div
                    class="h-8 w-8 bg-gradient-to-br from-orange-400 to-orange-600 rounded-full flex items-center justify-center shadow-sm shadow-orange-500/50"
                    style="transform:scale(1.8)">
                    <i class="ri-slack-fill text-white text-[14px]"></i>
                  </div>
                </div>

                <p>
                  Pelo presente instrumento, as partes identificadas declaram ciência e concordância com as regras
                  operacionais, de segurança e convivência aplicáveis ao evento cadastrado na plataforma
                  <span class="font-bold">Apollo::rio</span>.
                </p>

                <p>
                  A assinatura digital realizada por meio de conta gov.br ou certificado digital CP10-Brasil confere
                  plena validade jurídica nos termos da legislação brasileira vigente (MP 2.200-2/2001).
                </p>

                <div class="bg-slate-50 p-4 rounded-lg border border-slate-100 text-xs text-slate-600 italic">
                  "Cláusula 1: A parte organizadora se compromete a seguir os horários estipulados, assegurar a
                  integridade do público presente e cumprir as normas locais de segurança e vizinhança..."
                </div>

                <p>
                  Revise atentamente as responsabilidades sobre bar, som, segurança, equipe técnica, limpeza,
                  comunicação visual e encerramento do evento antes de prosseguir com a assinatura.
                </p>

                <div class="mt-8 pt-4 border-t border-dashed border-slate-200">
                  <p class="text-[10px] text-slate-400 text-center">Fim do documento (Preview)</p>
                </div>
              </div>
            </div>
          </div>
        </section>
      </div>

      <!-- RIGHT: ACTION PANEL (Sticky Sidebar Style) -->
      <div class="w-full lg:w-[380px] shrink-0 flex flex-col gap-4">
        <!-- Signers Status Card -->
        <section class="bg-white rounded-apcard shadow-sm border border-slate-200 p-5">
          <div class="flex items-center justify-between mb-4">
            <h3 class="text-sm font-bold text-slate-900 uppercase tracking-wider">
              Fluxo de Assinaturas
            </h3>
            <span class="text-xs font-medium text-slate-500 bg-slate-100 px-2 py-0.5 rounded-md">
              <span id="sign-count-label">1/2</span>
            </span>
          </div>

          <div class="space-y-3">
            <!-- User (You) -->
            <div id="signer-you-card"
              class="flex items-center justify-between p-3 rounded-xl bg-amber-50 border border-amber-100">
              <div class="flex items-center gap-3">
                <div
                  class="h-8 w-8 rounded-full bg-gradient-to-br from-orange-400 to-rose-500 flex items-center justify-center text-xs font-bold text-white shadow-sm">
                  VC
                </div>
                <div>
                  <p class="text-xs font-bold text-slate-900">Você</p>
                  <p class="text-[10px] text-slate-500" id="sign-user-id-label">CPF ***.***.***-**</p>
                </div>
              </div>
              <span id="signer-you-status"
                class="flex items-center gap-1 text-[10px] font-bold text-amber-600 bg-white px-2 py-1 rounded-full shadow-sm">
                <span class="h-1.5 w-1.5 rounded-full bg-amber-500 animate-pulse"></span> Pendente
              </span>
            </div>

            <!-- Other signer (generic) -->
            <div class="flex items-center justify-between p-3 rounded-xl bg-white border border-slate-100">
              <div class="flex items-center gap-3">
                <div
                  class="h-8 w-8 rounded-full bg-slate-100 flex items-center justify-center text-xs font-bold text-slate-500">
                  PT
                </div>
                <div>
                  <p class="text-xs font-bold text-slate-700">Parceiro / Terceiro</p>
                  <p class="text-[10px] text-slate-400">Externo à plataforma</p>
                </div>
              </div>
              <span
                class="flex items-center gap-1 text-[10px] font-bold text-emerald-600 bg-emerald-50 px-2 py-1 rounded-full">
                <i class="ri-check-line"></i> Assinado
              </span>
            </div>
          </div>
        </section>

        <!-- Signature Action Card -->
        <section class="bg-white relative rounded-apcard shadow-sm border border-slate-200 p-5 flex-1 flex flex-col">
          <h3 class="text-sm font-bold text-slate-900 uppercase tracking-wider mb-4">
            Realizar Etapa de Assinatura
          </h3>
          <!-- Right: Status/Meta -->
          <div class="absolute right-4 top-3 items-center gap-3">
            <span id="doc-status-pill-header"
              class="hidden md:inline-flex items-center gap-1.5 rounded-full border border-amber-200 bg-amber-50 px-3 py-1 text-xs font-medium text-amber-700">
              <span class="inline-flex h-2 w-2 rounded-full bg-amber-400 animate-pulse"></span>
              Pendente
            </span>
          </div>
          <!-- Stepper -->
          <div class="flex items-center gap-2 mb-6">
            <div data-step="1" class="flex-1 h-1 rounded-full bg-slate-900 transition-colors"></div>
            <div data-step="2" class="flex-1 h-1 rounded-full bg-slate-200 transition-colors"></div>
            <div data-step="3" class="flex-1 h-1 rounded-full bg-slate-200 transition-colors"></div>
          </div>

          <div class="space-y-4 flex-1">
            <!-- Terms Checkboxes -->
            <div class="space-y-3">
              <label
                class="flex items-start gap-3 p-3 rounded-xl border border-slate-100 hover:bg-slate-50 transition-colors cursor-pointer group">
                <input id="chk-terms" type="checkbox"
                  class="mt-0.5 h-4 w-4 rounded border-slate-300 text-slate-900 focus:ring-slate-900 cursor-pointer">
                <span class="text-xs text-slate-600 group-hover:text-slate-900">
                  Li e concordo com o conteúdo do documento.
                </span>
              </label>
              <label
                class="flex items-start gap-3 p-3 rounded-xl border border-slate-100 hover:bg-slate-50 transition-colors cursor-pointer group">
                <input id="chk-rep" type="checkbox"
                  class="mt-0.5 h-4 w-4 rounded border-slate-300 text-slate-900 focus:ring-slate-900 cursor-pointer">
                <span class="text-xs text-slate-600 group-hover:text-slate-900">
                  Autorizo o uso da minha assinatura digital.
                </span>
              </label>
              <p id="sign-error" class="text-[11px] text-red-500 font-medium px-1 flex items-center gap-1">
                <i class="ri-error-warning-line"></i> Marque as opções acima para continuar.
              </p>
            </div>

            <!-- Action Buttons -->
            <div class="space-y-3 pt-2">
              <button id="btn-sign-govbr" data-provider="govbr"
                class="w-full flex items-center justify-center gap-2 bg-slate-900 hover:bg-slate-800 text-white font-semibold py-3 rounded-xl shadow-lg shadow-slate-900/10 active:scale-[0.98] transition-all disabled:opacity-50 disabled:cursor-not-allowed">
                <i class="ri-shield-check-line font-thin text-lg"></i>
                Assinar com apollo::rio
              </button>

              <button id="btn-sign-icp" data-provider="icp"
                class="w-full flex items-center justify-center gap-2 bg-white border border-slate-200 hover:bg-slate-50 text-slate-700 font-bold py-3 rounded-xl active:scale-[0.98] transition-all disabled:opacity-50 disabled:cursor-not-allowed">
                <i class="ri-key-2-line text-lg"></i>
                Conheça o Assina::rio
              </button>



              <div
                class="bg-slate-50 p-4 rounded-lg border font-regular border-slate-100 text-[9.5px] text-slate-600 italic tracking-[0.75px]">
                "A assinatura digital realizada por meio de conta gov.br ou certificado digital CP10-Brasil confere
                plena validade jurídica nos termos da legislação brasileira vigente (MP 2.200-2/2001)."
              </div>
            </div>
          </div>

          <!-- Result Block (Hidden initially) -->
          <div id="sign-result" class="hidden mt-4 p-4 bg-emerald-50 border border-emerald-100 rounded-xl">
            <div class="flex items-center gap-2 mb-2 text-emerald-800 font-bold text-sm">
              <i class="ri-checkbox-circle-fill text-lg"></i>
              Assinado com Sucesso
            </div>
            <div class="text-[10px] text-emerald-700 space-y-1 font-mono">
              <p id="signed-at">Data: --</p>
              <p id="signed-code">Cod: --</p>
              <p id="signed-hash" class="truncate">Hash: --</p>
            </div>
          </div>

          <div class="mt-4 text-[10px] text-slate-400 text-center">
            Ambiente seguro Apollo::rio · disponível para toda a comunidade
          </div>
        </section>
      </div>
    </div>
  </main>

  <!-- BOTTOM NAVIGATION (MOBILE ONLY) -->
  <div class="md:hidden fixed bottom-0 left-0 right-0 z-40 pb-safe">
    <div class="max-w-2xl mx-auto w-full px-4 py-2 flex items-end justify-between h-[60px]">
      <!-- Agenda -->
      <div class="nav-btn w-14 pb-1">
        <i class="ri-calendar-line"></i>
        <span>Agenda</span>
      </div>

      <!-- Explorar / Pro -->
      <div class="nav-btn w-14 pb-1">
        <i class="ri-compass-3-line"></i>
        <span>Explorar</span>
      </div>

      <!-- Add Button (não ativo aqui) -->
      <div class="relative -top-5">
        <button
          class="h-14 w-14 rounded-full bg-slate-900 text-white flex items-center justify-center shadow-[0_8px_20px_-6px_rgba(15,23,42,0.6)] opacity-50 cursor-default">
          <i class="ri-add-line text-3xl"></i>
        </button>
      </div>

      <!-- Docs (Active) -->
      <div class="nav-btn active w-14 pb-1">
        <i class="ri-file-text-line"></i>
        <span>Docs</span>
      </div>

      <!-- Perfil -->
      <div class="nav-btn w-14 pb-1">
        <i class="ri-user-3-line"></i>
        <span>Perfil</span>
      </div>
    </div>
  </div>
</div>



 /* =================================================================
      DOCS LISTIN PAGE ON APOLLO TO PLACE ON MAIN
       ================================================================= */



<main class="ap-flex-1 ap-flex ap-justify-center ap-px-0 md:ap-px-6 ap-py-0 md:ap-py-6 ap-pb-24 md:ap-pb-6">
        <div class="ap-w-full ap-max-w-6xl ap-grid ap-grid-cols-1 lg:ap-grid-cols-[minmax(0,2fr)_minmax(0,1fr)] ap-gap-6">

          <!-- @section:documents -->
          <div class="ap-space-y-4">
            <section class="ap-doc-card ap-p-4">
              <div class="ap-flex ap-items-center ap-justify-between ap-mb-3">
                <div class="ap-flex ap-flex-col ap-gap-1">
                  <span class="ap-text-sm ap-font-semibold ap-text-secondary">Meus documentos</span>
                  <span class="ap-text-xs ap-text-muted">Central de contratos, termos e checklists da cena</span>
                </div>
                <a href="/doc/new" class="ap-hidden sm:ap-inline-flex ap-items-center ap-gap-2 ap-px-3 ap-py-1 ap-rounded-full ap-bg-slate-900 ap-text-white ap-text-xs ap-font-medium">
                  <i class="ri-add-line ap-text-sm"></i>
                  Novo documento
                </a>
              </div>

              <div class="ap-flex ap-flex-wrap ap-gap-2 ap-mb-4">
                <button class="ap-doc-filter ap-active" data-filter="all">
                  <i class="ri-apps-2-line ap-text-xs"></i> Todos
                </button>
                <button class="ap-doc-filter" data-filter="draft">
                  <i class="ri-edit-box-line ap-text-xs"></i> Em rascunho
                </button>
                <button class="ap-doc-filter" data-filter="waiting">
                  <i class="ri-file-shield-2-line ap-text-xs"></i> Aguardando assinatura
                </button>
                <button class="ap-doc-filter" data-filter="signed">
                  <i class="ri-check-double-line ap-text-xs"></i> Assinados
                </button>
              </div>

              <!-- Documents List -->
              <div class="ap-space-y-2 ap-text-xs" id="documents-list">
                <!-- @loop: {{#each documents}} -->
                <button class="ap-doc-row ap-text-left" data-id="{{document.id}}" data-status="{{document.status}}">
                  <div class="ap-flex ap-items-center ap-gap-3 ap-min-w-0">
                    <div class="ap-h-9 ap-w-9 ap-rounded-lg ap-border ap-border-slate-200 ap-flex ap-items-center ap-justify-center ap-bg-slate-50 ap-text-slate-700">
                      {{#if (eq document.type "contrato")}}
                      <i class="ri-file-text-line ap-text-base"></i>
                      {{else if (eq document.type "checklist")}}
                      <i class="ri-clipboard-line ap-text-base"></i>
                      {{else}}
                      <i class="ri-file-lock-line ap-text-base"></i>
                      {{/if}}
                    </div>
                    <div class="ap-min-w-0">
                      <div class="ap-flex ap-items-center ap-gap-2">
                        <span class="ap-font-semibold ap-text-primary ap-truncate">{{document.title}}</span>
                        {{#if (eq document.status "signed")}}
                        <span class="ap-inline-flex ap-items-center ap-gap-1 ap-px-2 ap-py-1 ap-rounded-full ap-badge ap-badge-success">
                          <i class="ri-shield-check-line ap-text-10"></i> Assinado
                        </span>
                        {{else if (eq document.status "draft")}}
                        <span class="ap-inline-flex ap-items-center ap-gap-1 ap-px-2 ap-py-1 ap-rounded-full ap-badge ap-badge-pending">
                          <i class="ri-time-line ap-text-10"></i> Em rascunho
                        </span>
                        {{else}}
                        <span class="ap-inline-flex ap-items-center ap-gap-1 ap-px-2 ap-py-1 ap-rounded-full ap-badge ap-badge-info">
                          <i class="ri-mail-send-line ap-text-10"></i> Aguardando
                        </span>
                        {{/if}}
                      </div>
                    <div class="ap-flex ap-flex-wrap ap-items-center ap-gap-2 ap-text-xs ap-text-muted ap-mt-1">
                        {{#if document.event}}
                        <span>Evento: {{document.event}}</span>
                        <span>·</span>
                        {{/if}}
                        <span>Última atualização: {{document.updated_at}}</span>
                      </div>
                    </div>
                  </div>
                  <div class="ap-flex ap-flex-col ap-items-end ap-gap-1 ap-text-xs ap-text-muted ap-pl-3">
                    <span>{{document.signatures}} assinaturas</span>
                    <span class="ap-inline-flex ap-items-center ap-gap-1 ap-text-muted">
                      Detalhes <i class="ri-arrow-right-s-line ap-text-xs"></i>
                    </span>
                  </div>
                </button>
                <!-- {{/each}} -->
              </div>
            </section>
          </div>

          <!-- @section:aside -->
          <aside class="ap-hidden lg:ap-block ap-space-y-4">
            <div class="ap-doc-card ap-p-4">
              <div class="ap-flex ap-items-center ap-justify-between ap-mb-2">
                <h2 class="ap-text-xs ap-font-bold ap-uppercase ap-tracking-wide ap-text-muted">Resumo de assinaturas</h2>
                <span class="ap-text-10 ap-text-muted">Últimos 30 dias</span>
              </div>

              <div class="ap-space-y-3 ap-text-xs">
                <div class="ap-flex ap-items-center ap-justify-between">
                  <span class="ap-text-muted">Documentos criados</span>
                  <span class="ap-font-semibold ap-text-primary">{{stats.created}}</span>
                </div>
                <div class="ap-flex ap-items-center ap-justify-between">
                  <span class="ap-text-muted">Assinaturas concluídas</span>
                  <span class="ap-font-semibold ap-text-success">{{stats.signed}}</span>
                </div>
                <div class="ap-flex ap-items-center ap-justify-between">
                  <span class="ap-text-muted">Pendentes aguardando</span>
                  <span class="ap-font-semibold ap-text-warning">{{stats.pending}}</span>
                </div>
              </div>

              <hr class="ap-my-3 ap-border">

              <div class="ap-space-y-2 ap-text-xs">
                <span class="ap-text-10 ap-font-bold ap-text-muted ap-uppercase">Modelos rápidos</span>
                <div class="ap-flex ap-flex-wrap ap-gap-2">
                  <button class="ap-px-2 ap-py-1 ap-rounded-full ap-border ap-border-slate-200 ap-text-muted">
                    Contrato padrão DJ
                  </button>
                  <button class="ap-px-2 ap-py-1 ap-rounded-full ap-border ap-border-slate-200 ap-text-muted">
                    Termo de Comunidade
                  </button>
                  <button class="ap-px-2 ap-py-1 ap-rounded-full ap-border ap-border-slate-200 ap-text-muted">
                    Checklist Operacional
                  </button>
                </div>
              </div>
            </div>

            <div class="ap-doc-card ap-p-4">
              <h2 class="ap-text-xs ap-font-bold ap-uppercase ap-tracking-wide ap-text-muted ap-mb-3">Ações rápidas</h2>
              <div class="ap-space-y-2 ap-text-xs">
                <a href="/doc/new" class="ap-doc-link">
                  <span class="ap-flex ap-items-center ap-gap-2">
                    <i class="ri-add-line ap-text-muted ap-text-sm"></i>
                    <span>Novo documento em branco</span>
                  </span>
                  <i class="ri-arrow-right-s-line ap-text-muted ap-text-xs"></i>
                </a>
                <a href="#" class="ap-doc-link">
                  <span class="ap-flex ap-items-center ap-gap-2">
                    <i class="ri-upload-2-line ap-text-muted ap-text-sm"></i>
                    <span>Subir PDF para assinatura</span>
                  </span>
                  <i class="ri-arrow-right-s-line ap-text-muted ap-text-xs"></i>
                </a>
                <a href="#" class="ap-doc-link">
                  <span class="ap-flex ap-items-center ap-gap-2">
                    <i class="ri-download-2-line ap-text-muted ap-text-sm"></i>
                    <span>Exportar como PDF</span>
                  </span>
                  <i class="ri-arrow-right-s-line ap-text-muted ap-text-xs"></i>
                </a>
              </div>
            </div>

            <div class="ap-flex ap-flex-wrap ap-gap-2 ap-text-10 ap-text-muted ap-px-2">
              <a href="#" class="ap-hover:underline">Privacidade</a>
              <span>·</span>
              <a href="#" class="ap-hover:underline">Termos</a>
              <span>·</span>
              <span>© 2024 Apollo Rio</span>
            </div>
          </aside>
        </div>
      </main>





 /* =================================================================
      SOCIAL APOLLO = FEED =  PAGE ON APOLLO TO PLACE ON MAIN
       ================================================================= */
 <link href="https://cdn.jsdelivr.net/npm/remixicon@4.7.0/fonts/remixicon.css" rel="stylesheet">

  <style>
    /* =============================================
       APOLLO::RIO WORDPRESS TEMPLATE
       Plugin: apollo-social
       NO TAILWIND - Pure CSS with ap-* prefix
       ============================================= */

    /* ========================================= CSS VARIABLES ========================================= */
    :root {
      --ap-font-primary: "Urbanist", system-ui, -apple-system, sans-serif;
      --ap-bg-main: #ffffff;
      --ap-text-secondary: rgba(15, 23, 42, 0.88);
    }

    /* ========================================= BASE RESET ========================================= */
    *,
    *::before,
    *::after {
      box-sizing: border-box;
      -webkit-tap-highlight-color: transparent;
      transition: all 0.5s ease-in-out;
      border: none
    }

    body {
      font-family: var(--ap-font-primary);
      background-color: var(--ap-bg-main);
      color: var(--ap-text-secondary);
      overflow-y: auto;
      overflow-x: hidden;
      min-height: 100vh;
      margin: 0;
      padding: 0;
      font-size: 14px;
      font-weight: 400;
    }

    ::-webkit-scrollbar {
      width: 6px;
    }

    ::-webkit-scrollbar-track {
      background: transparent;
    }

    ::-webkit-scrollbar-thumb {
      background-color: rgba(148, 163, 184, 0.4);
      border-radius: 999px;
    }

    .ap-no-scrollbar::-webkit-scrollbar {
      display: none;
    }

    .pb-safe-area {
      padding-bottom: env(safe-area-inset-bottom, 20px);
    }

    body.dark-mode {
      --bg-main: #131517;
      --bg-main-translucent: rgba(19, 21, 23, 0.68);
      --header-blur-bg: linear-gradient(to bottom, rgb(19 21 23 / .35) 0%, rgb(19 21 23 / .1) 50%, #13151700 100%);
      --text-main: #ffffff91;
      --text-primary: #fdfdfdfa;
      --border-color: #333537;
      --border-color-2: #374151;
      --glass-border-color1: rgba(48, 48, 48, 0.4);
      --glass-border-color2: rgba(110, 110, 110, 0.1);
      --glass-color: rgba(15, 23, 42, 0.8);
    }

    .glass {
      position: relative;
      isolation: isolate;
      border-radius: var(--glass-radius);
      background: var(--glass-color);
      backdrop-filter: blur(var(--glass-blur));
    }

    .apollo-event-modal-overlay {
      background: linear-gradient(25deg, #eeeeee40 0%, transparent 100%) !important;
      backdrop-filter: blur(5px) !important;
      z-index: 6666 !important;
    }

    .is-open {
      z-index: 8888 !important;
    }

    * {
      -webkit-tap-highlight-color: transparent;
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    html,
    body {
      color: var(--text-main);
      font-family: var(--font-primary);
      font-size: 14.75px;
      font-weight: 400;
      line-height: 1.1rem;
      letter-spacing: 0.7px;
      background-color: var(--bg-main);
      transition: background-color 0.5s ease, color 0.5s ease;
      overflow-x: hidden !important;
      scroll-behavior: smooth;
      -webkit-user-select: none;
      -ms-user-select: none;
      user-select: none;
      min-height: 100%;
    }

    .no-scrollbar::-webkit-scrollbar {
      display: none;
    }

    .no-scrollbar {
      -ms-overflow-style: none;
      scrollbar-width: none;
    }

    .pb-safe-area {
      padding-bottom: env(safe-area-inset-bottom, 20px);
    }

    @media only screen and (max-width: 868px) {

      body,
      html {
        max-width: 550px;
        margin: 0 auto;
        display: block;
      }
    }

    /* Menus de filtro do feed */
    .menutag {
      display: inline-flex;
      align-items: center;
      gap: 0.35rem;
      padding: 0.35rem 0.75rem;
      border-radius: 999px;
      border: 1px solid #e2e8f0;
      font-size: 11px;
      font-weight: 500;
      color: #64748b;
      background-color: #ffffff;
      white-space: nowrap;
      transition: background-color 0.18s ease, color 0.18s ease, border-color 0.18s ease;
    }

    .menutag[data-active="true"] {
      background-color: #0f172a;
      color: #ffffff;
      border-color: #0f172a;
    }

    /* Cards do feed / sidebar */
    .aprioEXP-card-shell {
      background-color: #ffffff;
      border-radius: var(--radius-card);
      border: 1px solid var(--border-color-2);
      box-shadow: 0 8px 28px rgba(15, 23, 42, 0.04);
      transition: transform 0.18s ease, box-shadow 0.18s ease, border-color 0.18s ease, background-color 0.18s ease;
    }

    .aprioEXP-card-shell:hover {
      transform: translateY(-1px);
      box-shadow: 0 14px 40px rgba(15, 23, 42, 0.06);
      border-color: #cbd5f5;
    }

    body.dark-mode .aprioEXP-card-shell {
      background-color: #020617;
      border-color: #1f2937;
      box-shadow: 0 10px 32px rgba(0, 0, 0, 0.6);
    }

    /* Sidebar nav – clean, tradicional */
    .aprio-sidebar-nav a {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      padding: 0.55rem 0.75rem;
      margin-bottom: 0.1rem;
      border-radius: 10px;
      border-left: 2px solid transparent;
      font-size: 13px;
      color: #64748b;
      text-decoration: none;
      transition: background-color 0.18s ease, color 0.18s ease, border-color 0.18s ease;
    }

    .aprio-sidebar-nav a i {
      font-size: 18px;
    }

    .aprio-sidebar-nav a:hover {
      background-color: #f8fafc;
      color: #0f172a;
      border-left-color: #e5e7eb;
    }

    .aprio-sidebar-nav a[aria-current="page"] {
      background-color: #f1f5f9;
      color: #0f172a;
      border-left-color: #0f172a;
      font-weight: 600;
    }

    body.dark-mode .aprio-sidebar-nav a {
      color: #94a3b8;
    }

    body.dark-mode .aprio-sidebar-nav a:hover {
      background-color: #020617;
      border-left-color: #1f2937;
      color: #e5e7eb;
    }

    body.dark-mode .aprio-sidebar-nav a[aria-current="page"] {
      background-color: #020617;
      border-left-color: #f97316;
      color: #f9fafb;
    }

    /* Lista "seu resumo" no sidebar direito */
    .aprio-mini-list-row {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0.25rem 0;
      font-size: 12px;
      color: #475569;
    }

    .aprio-mini-list-row span {
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
    }

    .aprio-mini-pill {
      font-size: 11px;

      letter-spacing: 0.06em;
      color: #94a3b8;
    }

    .aprio-mini-link {
      font-size: 11px;
      color: #64748b;
      display: inline-flex;
      align-items: center;
      gap: 0.25rem;
    }

    .aprio-mini-link:hover {
      color: #0f172a;
    }

    body.dark-mode .aprio-mini-list-row {
      color: #e5e7eb;
    }

    body.dark-mode .aprio-mini-pill {
      color: #9ca3af;
    }

    body.dark-mode .aprio-mini-link {
      color: #9ca3af;
    }

    body.dark-mode .aprio-mini-link:hover {
      color: #f9fafb;
    }

    /* =========================================  NEW CSS FOR SOCIAL FEED
    ========================================= */
    .ap-social-post {
      position: relative;
      margin: 10px auto 30px;
    }

    .ap-social-card {
      mix-blend-mode: multiply;
      --r: 30px;
      --s: 45px;
      background: var(--ap-bg-card);
      padding: 25px 20px 8px 20px;

      text-align: left;
      border-radius: 30px;
      corner-shape: squircle;
      filter: brightness(.99);

      clip-path: shape(from 0 0,
          hline to calc(100% - var(--s) - 2 * var(--r)),
          arc by var(--r) var(--r) of var(--r) cw,
          arc by var(--s) var(--s) of var(--s),
          arc by var(--r) var(--r) of var(--r) cw,
          vline to 100%,
          hline to 0);
    }

    @media (max-width:990px) {
      .ap-social-card {
        width: 93% !important;
        max-width: 470px !important;
        margin: 10px;
      }
    }

    @media (min-width:995px) {
      .ap-social-card {
        width: 100% !important;
        max-width: 650px !important;
      }
    }

    .ap-social-card:before {
      border-radius: 50px;
      corner-shape: squircle;
    }

    .ap-social-avatar {
      background: var(--ap-bg-card);
      width: 55px;
      aspect-ratio: 1/1;
      !important;
      height: auto;
      background: var(--ap-bg-card);
      position: absolute;
      top: 5px;
      right: 25px;
      border-radius: 50%;
      display: flex;
      justify-content: center;
      align-items: center;
      font-weight: 700;
      background-size: cover;
      border: 0px solid var(--ap-bg-card);
      box-shadow: 0 4px 30px rgba(0, 0, 0, 0.03);
    }

    .ap-social-user-data {
      margin-bottom: 15px;
    }

    #ap-social-username,
    .ap-social-username {
      font-size: 14px;
      font-weight: 700;
    }

    #ap-social-userid,
    .ap-social-userid {
      color: rgba(15, 23, 42, 1);
      margin-right: 1px;
    }

    .ap-social-second {
      opacity: 0.65;
      font-weight: 500;
      font-size: 10.5px;
    }

    .ap-social-badge {
      display: inline-flex;
      align-items: center;
      border-radius: 20px;
      corner-shape: squircle;
      transform: translate(5px, -3px) scale(1);
      padding: 6px 5.6px 6.4px 5.6px;
      text-transform: uppercase;
      font-weight: 700;
      line-height: 0;
      font-size: 6.72px;
      letter-spacing: 0.5px;
      color: #ffffffe6;
    }

    .ap-social-badge.apollo,
    .ap-social-badge.orange,
    .ap-social-badge.laranja {
      background-color: #f97316e6;
    }

    .ap-social-badge.govern,
    .ap-social-badge.blue,
    .ap-social-badge.azul {
      background-color: #167cf9e6;
    }

    .ap-social-badge.designer,
    .ap-social-badge.green,
    .ap-social-badge.verde {
      background-color: #63c720;
    }

    .ap-social-badge.cenaurio,
    .ap-social-badge.purple,
    .ap-social-badge.roxo {
      background-color: #9820c7;
    }

    .ap-social-badge.red,
    .ap-social-badge.vermelho {
      background-color: #d90d21;
    }

    .ap-social-badge.yellow,
    .ap-social-badge.amarelo {
      background-color: #edd815;
    }

    .ap-social-badge.pink,
    .ap-social-badge.rosa {
      background-color: #d615b6;
    }

    .muted-spacer {
      margin: 0px 3px;
    }

    .ap-social-content {
      line-height: 1.5;
      font-weight: 400;
      font-size: 14px;
      color: #666;
      margin: 25px 0px;
      padding-right: 65px;
    }

    .ap-card-figure {
      height: 200px;
      background-color: #eee;
      border-radius: 20px;
      position: relative;
      overflow: hidden;
      margin-bottom: 15px;
      border: 1px solid rgba(255, 255, 255, 0.3);
    }

    .ap-card-img {
      height: 100%;
      position: absolute;
      width: 100%;
      inset: 0;
      object-fit: cover;
    }

    .no-support {
      position: fixed;
      inset: 0;
      background-color: #000d;
      display: grid;
      place-items: center;
      align-content: center;
      gap: 1em;
      z-index: 10;
      color: #fff;
      text-align: center;
      padding: 1rem;
    }

    @supports (clip-path: shape(from 0 0, move to 0 0)) {
      .no-support {
        display: none;
      }
    }

    /* Additional styles for media */
    .ap-media-wrapper {
      margin: 0 0 15px;
      border-radius: 20px;
      overflow: hidden;
      position: relative;
    }

    .ap-media-wrapper iframe {
      width: 100% !important;
      height: 100% !important;
      border: none;
    }

    .ap-soundcloud-player {
      height: 165px;
    }

    .ap-spotify-player {
      height: 352px;
    }

    .ap-youtube-bg {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
    }

    .ap-event-banner {
      height: 200px;
      background-size: cover;
      background-position: center;
      position: relative;
      display: flex;
      align-items: flex-end;
      padding: 16px;
      color: white;
      font-weight: 700;
      border-radius: 20px;
      overflow: hidden;
      border: 1px solid rgba(255, 255, 255, 0.3);
    }

    .ap-event-title {
      font-size: 18px;
      text-shadow: 0 2px 10px rgba(0, 0, 0, 0.5);
    }

    .ap-event-date {
      font-size: 13px;
      opacity: 0.9;
      margin-top: 4px;
    }

    .ap-post-actions {
      display: flex;
      justify-content: space-between;
      padding-top: 0px;
      border-top: none;
      margin-top: 0px;
    }

    .ap-action-btn {
      display: flex;
      align-items: center;
      gap: 6px;
      font-size: 12px;
      color: rgba(15, 23, 42, 0.65);
      transition: color 0.2s;
    }

    .ap-action-btn:hover {
      color: #f97316;
    }

    /* Converted Tailwind classes to ap-* prefixed classes */
    .ap-flex {
      display: flex;
    }

    .ap-items-center {
      align-items: center;
    }

    .ap-gap-3 {
      gap: 0.75rem;
    }

    .ap-text-slate-900 {
      color: rgb(15, 23, 42);
    }

    .ap-text-slate-400 {
      color: rgb(148, 163, 184);
    }

    .ap-text-slate-500 {
      color: rgb(100, 116, 139);
    }

    .ap-text-slate-600 {
      color: rgb(71, 85, 105);
    }

    .ap-text-slate-800 {
      color: rgb(30, 41, 59);
    }

    .ap-text-slate-50 {
      color: rgb(248, 250, 252);
    }

    .ap-rounded-full {
      border-radius: 9999px;
    }

    .ap-rounded-lg {
      border-radius: 0.5rem;
    }

    .ap-rounded-md {
      border-radius: 0.375rem;
    }

    .ap-rounded-xl {
      border-radius: 0.75rem;
    }

    .ap-border {
      border-width: 1px;
    }

    .ap-border-slate-200 {
      border-color: rgb(226, 232, 240);
    }

    .ap-bg-white {
      background-color: rgb(255, 255, 255);
    }

    .ap-bg-slate-50 {
      background-color: rgb(248, 250, 252);
    }

    .ap-bg-slate-100 {
      background-color: rgb(241, 245, 249);
    }

    .ap-bg-slate-900 {
      background-color: rgb(15, 23, 42);
    }

    .ap-shadow-sm {
      box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
    }

    .ap-shadow-lg {
      box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -4px rgba(0, 0, 0, 0.1);
    }

    .ap-h-full {
      height: 100%;
    }

    .ap-w-full {
      width: 100%;
    }

    .ap-bg-slate-50 {
      background-color: #f8fafc;
    }

    .ap-antialiased {
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    .ap-selection-bg-neutral-500 {
      background-color: #6b7280;
    }

    .ap-selection-text-white {
      color: #ffffff;
    }
  </style>
</head>

<body class="min-h-screen">

  <!-- ========================================================================
       @LAYOUT: APP_SHELL (3-column: sidebar-main-aside)
       @PHP: Wrapper principal do shortcode
       ======================================================================== -->
  <div class="min-h-screen flex ">

    <!-- ====================================================================
         @BLOCK: SIDEBAR_DESKTOP
         @PHP: templates/partials/sidebar-social.php
         @VARS: $menu_items, $current_page, $current_user
         ==================================================================== -->



    <!-- ====================================================================
         @LAYOUT: MAIN_COLUMN (header + feed + aside)
         ==================================================================== -->
    <div class="flex-1 flex flex-col min-h-screen">

      <!-- ================================================================
           @BLOCK: TOP_HEADER
           @PHP: templates/partials/header-social.php
           @VARS: $user, $notifications_count, $greeting (boa tarde/noite/dia)
           ================================================================ -->


      <!-- MAIN CONTENT LAYOUT -->
      <main class="ap-flex-1 ap-flex ap-justify-center ap-px-0 md:ap-px-6 ap-py-0 md:ap-py-5 ap-pb-24 md:ap-pb-6">
        <div
          class="ap-w-full ap-max-w-6xl ap-grid ap-grid-cols-1 lg:ap-grid-cols-[minmax(0,2fr)_minmax(0,1fr)] ap-gap-6">

          <!-- LEFT COLUMN: FEED STREAM -->
          <div class="ap-space-y-4">

            <!-- ============================================================
                 @WIDGET: COMPOSE_POST (Create New Post Box)
                 @PHP: templates/partials/compose-post.php
                 @VARS: $user, $user->display_name
                 ============================================================ -->
            <section
              class="ap-bg-white md:ap-rounded-xl ap-border-b md:ap-border ap-border-slate-200 ap-p-4 ap-sticky md:ap-static ap-top-14 ap-z-30">
              <div class="ap-flex ap-items-center ap-gap-3 ap-mb-4">
                <div class="ap-h-10 ap-w-10 ap-rounded-full ap-overflow-hidden ap-shrink-0">
                  <!-- @PHP: echo get_avatar($user->ID, 40); -->
                  <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Valle&amp;backgroundColor=e5e7eb"
                    class="ap-h-full ap-w-full">
                </div>
                <!-- @PHP: sprintf('No que você está pensando, %s?', $user->display_name) -->
                <button
                  class="ap-flex-1 ap-text-left ap-bg-slate-50 hover:ap-bg-slate-100 ap-border ap-border-slate-200 ap-text-slate-500 ap-text-[13px] ap-px-4 ap-py-2.5 ap-rounded-full ap-transition-colors">
                  No que você está pensando, Valle?
                </button>
              </div>

              <!-- Tabs Filter -->
              <div class="ap-flex ap-items-center ap-justify-between overflow-x-auto no-scrollbar pb-1">
                <div class="ap-flex ap-gap-2" id="feed-tabs">
                  <button class="menutag" data-target="all" data-active="true">
                    <i class="ri-apps-line"></i> Tudo
                  </button>
                  <button class="menutag" data-target="events">
                    <i class="ri-calendar-event-line"></i> Eventos
                  </button>
                  <button class="menutag" data-target="community">
                    <i class="ri-discuss-line"></i> Comunidades
                  </button>
                  <button class="menutag" data-target="market">
                    <i class="ri-ticket-line"></i> Classificados
                  </button>
                </div>
              </div>
            </section>

            <!-- ============================================================
                 @BLOCK: FEED_STREAM
                 @PHP: templates/partials/feed-loop.php
                 @VARS: $posts_query = new WP_Query(['post_type' => 'apollo_post'])
                 @LOOP: foreach($posts as $post): / endforeach;
                 ============================================================ -->
            <div id="feed-container" class="ap-space-y-4 px-0 md:px-0">

              <!-- ========================================================
                   @CARD: POST_CARD (Event Type)
                   @PHP: templates/cards/card-post-event.php
                   @VARS: $post, $author, $event_data, $likes_count, $comments_count
                   @ATTR: data-type="<?php echo $post_type; ?>"
                   ======================================================== -->

              <!-- 1. SOUNDCLOUD TRACK POST -->
              <article class="ap-social-post" data-post="soundcloud">
                <div class="ap-social-avatar"
                  style="background-image: url('https://api.dicebear.com/7.x/avataaars/svg?seed=DiegoBass');"></div>
                <div class="ap-social-card">
                  <section class="ap-social-user-data">
                    <p>
                      <span class="ap-social-username">Diego Bass</span>
                      <span class="ap-social-badge apollo">Producer</span>
                      <span class="ap-social-badge green">DJ</span>
                    </p>
                    <p class="ap-social-second">
                      <span class="apollo">Núcleo Music</span>
                      <i class="muted-spacer">•</i>
                      <span class="apollo">Núcleo Art</span>
                    </p>
                    <p class="ap-social-second">
                      <span class="ap-social-userid">@diegobass</span>
                      ·
                      <span class="ap-social-second">18min</span>
                    </p>
                  </section>
                  <p class="ap-social-content">
                    Acabei de subir o set que toquei na Fosfobox sábado! Techno carioca puro com aquele grave que faz o
                    chão tremer. Dá play e já entra no clima do fds cultural. #TechnoRJ #CulturaNoturna
                  </p>
                  <div class="ap-media-wrapper ap-soundcloud-player">
                    <iframe
                      src="https://w.soundcloud.com/player/?url=https%3A//soundcloud.com/diegobass/diego-bass-live-fosfobox-2025&color=%23ff5500&auto_play=false&hide_related=false&show_comments=true&show_user=true&show_reposts=false&show_teaser=true&visual=true"
                      allowfullscreen></iframe>
                  </div>
                  <div class="ap-post-actions">
                    <button class="ap-action-btn"><i class="ri-heart-3-line"></i> 89</button>
                    <button class="ap-action-btn"><i class="ri-chat-3-line"></i> 12</button>
                    <button class="ap-action-btn"><i class="ri-bookmark-line"></i></button>
                  </div>
                </div>
              </article>

              <!-- 2. YOUTUBE FULL-BLEED BACKGROUND VIDEO POST -->
              <article class="ap-social-post" data-post="youtube">
                <div class="ap-social-avatar" style="background:#000"></div>
                <div class="ap-social-card">
                  <section class="ap-social-user-data">
                    <p>
                      <span class="ap-social-username">Luna VJ</span>
                      <span class="ap-social-badge purple">Artist</span>
                      <span class="ap-social-badge pink">Videomaker</span>
                    </p>
                    <p class="ap-social-second">
                      <span class="apollo">Núcleo Culture</span>
                      <i class="muted-spacer">•</i>
                      <span class="apollo">Núcleo Art</span>
                    </p>
                    <p class="ap-social-second">
                      <span class="ap-social-userid">@lunavj</span>
                      ·
                      <span class="ap-social-second">2h</span>
                    </p>
                  </section>
                  <p class="ap-social-content">
                    Visuals que fiz pro after na Gamboa ontem. Deixei no background enquanto trabalha, estuda ou só
                    curte o rolê. Arte viva do Rio em loop infinito.
                  </p>
                  <div class="ap-media-wrapper" style="height: 280px;">
                    <iframe class="ap-youtube-bg"
                      src="https://www.youtube.com/embed/0zM6y2T6H0M?autoplay=1&mute=1&controls=0&loop=1&playlist=0zM6y2T6H0M&playsinline=1&modestbranding=1&rel=0"
                      allow="autoplay; fullscreen" allowfullscreen></iframe>
                  </div>
                  <div class="ap-post-actions">
                    <button class="ap-action-btn"><i class="ri-heart-3-line"></i> 312</button>
                    <button class="ap-action-btn"><i class="ri-chat-3-line"></i> 47</button>
                  </div>
                </div>
              </article>

              <!-- 3. SPOTIFY PLAYLIST POST -->
              <article class="ap-social-post" data-post="spotify">
                <div class="ap-social-avatar"
                  style="background-image: url('https://api.dicebear.com/7.x/avataaars/svg?seed=CuradorRJ');"></div>
                <div class="ap-social-card">
                  <section class="ap-social-user-data">
                    <p>
                      <span class="ap-social-username">Curador RJ</span>
                      <span class="ap-social-badge verde">Curator</span>
                      <span class="ap-social-badge yellow">Music Lover</span>
                    </p>
                    <p class="ap-social-second">
                      <span class="apollo">Núcleo Music</span>
                      <i class="muted-spacer">•</i>
                      <span class="apollo">Núcleo Culture</span>
                    </p>
                    <p class="ap-social-second">
                      <span class="ap-social-userid">@curadorrj</span>
                      ·
                      <span class="ap-social-second">4h</span>
                    </p>
                  </section>
                  <p class="ap-social-content">
                    Playlist oficial do rolê cultural carioca dessa semana. Do funk ao techno passando pelo samba de
                    raiz modernizado. É só dar play e deixar o Rio tocar na sua alma. #SomDoRio #CulturaCarioca
                  </p>
                  <div class="ap-media-wrapper ap-spotify-player">
                    <iframe
                      src="https://open.spotify.com/embed/playlist/5r7g5f5f5f5f5f5f5f5f5f?utm_source=generator&theme=0"
                      frameborder="0" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"
                      loading="lazy"></iframe>
                  </div>
                  <div class="ap-post-actions">
                    <button class="ap-action-btn"><i class="ri-heart-3-line"></i> 567</button>
                    <button class="ap-action-btn"><i class="ri-chat-3-line"></i> 89</button>
                  </div>
                </div>
              </article>

              <!-- 4. INTERNAL APOLLO EVENT SHARED -->
              <article class="ap-social-post" data-post="event">
                <div class="ap-social-avatar"
                  style="background-image: url('https://api.dicebear.com/7.x/avataaars/svg?seed=ApolloEvents');"></div>
                <div class="ap-social-card">
                  <section class="ap-social-user-data">
                    <p>
                      <span class="ap-social-username">Apollo Events</span>
                      <span class="ap-social-badge laranja">Organizer</span>
                      <span class="ap-social-badge azul">Host</span>
                    </p>
                    <p class="ap-social-second">
                      <span class="apollo">Núcleo Culture</span>
                      <i class="muted-spacer">•</i>
                      <span class="apollo">Núcleo Art</span>
                    </p>
                    <p class="ap-social-second">
                      <span class="ap-social-userid">@apolloevents</span>
                      ·
                      <span class="ap-social-second">6h</span>
                    </p>
                  </section>
                  <p class="ap-social-content">
                    Amanhã tem! Exposição + DJ Set + Performance ao vivo no Arcos da Lapa. Quem for, marca aqui embaixo
                    que eu coloco na lista cultural.
                  </p>
                  <div class="ap-event-banner"
                    style="background-image: url('https://images.unsplash.com/photo-1540039155730-7e10f3e08b9a?w=1200&q=80');">
                    <div>
                      <div class="ap-event-title">NOITE CULTURAL #37 — Arcos da Lapa</div>
                      <div class="ap-event-date">Sábado, 13 Dez • 22h–06h • Entrada FREE até 00h</div>
                    </div>
                  </div>
                  <div class="ap-post-actions">
                    <button class="ap-action-btn"><i class="ri-heart-3-line"></i> 1.2k</button>
                    <button class="ap-action-btn"><i class="ri-chat-3-line"></i> 234</button>
                    <button class="ap-action-btn text-orange-500 font-medium">Vou! (892)</button>
                  </div>
                </div>
              </article>

              <!-- 5. BASIC POST -->
              <article class="ap-social-post" data-post="basic">
                <div class="ap-social-avatar"
                  style="background-image: url('https://api.dicebear.com/7.x/avataaars/svg?seed=RafaelValle');"></div>
                <div class="ap-social-card">
                  <section class="ap-social-user-data">
                    <p>
                      <span class="ap-social-username">Rafael Valle</span>
                      <span class="ap-social-badge apollo">Apollo</span>
                      <span class="ap-social-badge cenaurio">DJ</span>
                      <span class="ap-social-badge designer">Designer & Graphics</span>
                      <span class="ap-social-badge cenaurio">Producer</span>
                    </p>
                    <p class="ap-social-second">
                      <span class="apollo">Núcleo Music</span>
                      <i class="muted-spacer">•</i>
                      <span class="apollo">Núcleo Art</span>
                      <i class="muted-spacer">•</i>
                      <span class="apollo">Núcleo Culture</span>
                    </p>
                    <p class="ap-social-second">
                      <span class="ap-social-userid">@rafaelvalle</span>
                      ·
                      <span class="ap-social-second">2h ago</span>
                    </p>
                  </section>
                  <p class="ap-social-content">
                    Write down 3 key tasks you want to accomplish today before checking your phone.
                  </p>
                  <figure class="ap-card-figure">
                    <img class="ap-card-img"
                      src="https://arman-borkhani.github.io/codepen-cpc-css-shape/assets/plan.jpg" alt="">
                  </figure>
                  <div class="ap-post-actions">
                    <button class="ap-action-btn"><i class="ri-heart-3-line"></i> 45</button>
                    <button class="ap-action-btn"><i class="ri-chat-3-line"></i> 28</button>
                  </div>
                </div>
              </article>

              <div class="no-support">
                Seu navegador não suporta clip-path: shape(). O cartão usa um fallback padrão.
              </div>
              <script>
                // Like animation
                document.querySelectorAll('.ri-heart-3-line').forEach(btn => {
                  btn.parentElement.addEventListener('click', function (e) {
                    e.stopPropagation();
                    const icon = this.querySelector('i');
                    const count = this.querySelector('span');
                    let n = parseInt(count.textContent);

                    if (icon.classList.contains('ri-heart-3-fill')) {
                      icon.classList.replace('ri-heart-3-fill', 'ri-heart-3-line');
                      icon.style.color = '';
                      count.textContent = n - 1;
                    } else {
                      icon.classList.replace('ri-heart-3-line', 'ri-heart-3-fill');
                      icon.style.color = '#ec4899';
                      count.textContent = n + 1;
                      icon.animate([{ transform: 'scale(1)' }, { transform: 'scale(1.4)' }, { transform: 'scale(1)' }], {
                        duration: 300,
                        easing: 'ease-out'
                      });
                    }
                  });
                });
              </script>


              <!-- ========================================================
                   @CARD: POST_CARD (Community Type)
                   @PHP: templates/cards/card-post-community.php
                   @VARS: $post, $author, $community_name, $tags
                   ======================================================== -->


              <!-- Loading Indicator -->
              <div id="loading-indicator" class="py-6 flex justify-center">
                <div class="flex items-center gap-2 text-slate-400 text-[12px]">
                  <i class="ri-loader-4-line animate-spin"></i> Carregando mais caos carioca...
                </div>
              </div>
            </div>
          </div>

          <!-- RIGHT COLUMN: SIDEBAR DIREITA (desktop) -->
          <aside class="hidden lg:block space-y-4">

            <!-- SEU RESUMO RÁPIDO (Eventos / Núcleos / Comunidades / Docs) -->
            <div class="aprioEXP-card-shell p-4">
              <div class="flex items-center justify-between mb-2">
                <h2 class="text-[12px] font-bold uppercase tracking-wider text-slate-500">Seu resumo rápido</h2>
                <span class="text-[10px] text-slate-400">Atalhos</span>
              </div>

              <div class="space-y-4 text-[12px]">
                <!-- Eventos / Interesses -->
                <section>
                  <div class="flex items-center justify-between mb-2">
                    <div class="flex items-center gap-2">
                      <span class="font-semibold text-slate-700">Eventos</span>
                      <span class="aprio-mini-pill">Interesses</span>
                    </div>
                    <button class="aprio-mini-link">
                      ver todos
                      <i class="ri-arrow-right-s-line text-xs"></i>
                    </button>
                  </div>
                  <div class="space-y-2">
                    <!-- @loop: {{#each upcoming_events}} (max 5) -->
                    <a href="#" class="flex gap-3 items-center p-2 hover:bg-slate-50 rounded-lg group">
                      <div
                        class="h-10 w-10 rounded-lg border border-slate-200 flex flex-col items-center justify-center bg-white text-slate-900">
                        <span class="text-[9px] uppercase font-bold">SEX</span>
                        <span class="text-[13px] font-bold">27</span>
                      </div>
                      <div class="min-w-0">
                        <div class="text-[12px] font-bold truncate">Festa Rara</div>
                        <div class="text-[10px] text-slate-500">3 amigos vão</div>
                      </div>
                    </a>
                    <a href="#" class="flex gap-3 items-center p-2 hover:bg-slate-50 rounded-lg group">
                      <div
                        class="h-10 w-10 rounded-lg border border-slate-200 flex flex-col items-center justify-center bg-white text-slate-900">
                        <span class="text-[9px] uppercase font-bold">SAB</span>
                        <span class="text-[13px] font-bold">30</span>
                      </div>
                      <div class="min-w-0">
                        <div class="text-[12px] font-bold truncate">Dismantle · Mainstage</div>
                        <div class="text-[10px] text-slate-500">12 amigos vão</div>
                      </div>
                    </a>
                    <a href="#" class="flex gap-3 items-center p-2 hover:bg-slate-50 rounded-lg group">
                      <div
                        class="h-10 w-10 rounded-lg border border-slate-200 flex flex-col items-center justify-center bg-white text-slate-900">
                        <span class="text-[9px] uppercase font-bold">SAB</span>
                        <span class="text-[13px] font-bold">07</span>
                      </div>
                      <div class="min-w-0">
                        <div class="text-[12px] font-bold truncate">Domply Mergulho</div>
                        <div class="text-[10px] text-slate-500">5 amigos vão</div>
                      </div>
                    </a>
                    <!-- {{/each}} -->
                  </div>
                </section>

                <hr class="border-slate-100">

                <!-- Núcleos -->
                <section>
                  <div class="flex items-center justify-between mb-1">
                    <div class="flex items-center gap-2">
                      <mark><span class="font-semibold text-slate-700">Núcleos</span></mark>
                      <span class="aprio-mini-pill">Grupos de atuação</span>
                    </div>
                    <button class="aprio-mini-link">
                      ver todos
                      <i class="ri-arrow-right-s-line text-xs"></i>
                    </button>
                  </div>
                  <div class="space-y-1">
                    <button class="w-full text-left aprio-mini-list-row">
                      <span>Núcleo Copacabana</span>
                      <i class="ri-arrow-right-s-line text-xs text-slate-400"></i>
                    </button>
                    <button class="w-full text-left aprio-mini-list-row">
                      <span>Núcleo Rio Noturno</span>
                      <i class="ri-arrow-right-s-line text-xs text-slate-400"></i>
                    </button>
                    <button class="w-full text-left aprio-mini-list-row">
                      <span>Núcleo Produtores RJ</span>
                      <i class="ri-arrow-right-s-line text-xs text-slate-400"></i>
                    </button>
                  </div>
                </section>

                <hr class="border-slate-100">

                <!-- Comunidades -->
                <section>
                  <div class="flex items-center justify-between mb-1">
                    <div class="flex items-center gap-2">
                      <mark><span class="font-semibold text-slate-700">Comunidades</span></mark>
                      <span class="aprio-mini-pill">Participando</span>
                    </div>
                    <button class="aprio-mini-link">
                      ver todas
                      <i class="ri-arrow-right-s-line text-xs"></i>
                    </button>
                  </div>
                  <div class="space-y-1">
                    <button class="w-full text-left aprio-mini-list-row">
                      <span>After Lovers ZS</span>
                      <i class="ri-arrow-right-s-line text-xs text-slate-400"></i>
                    </button>
                    <button class="w-full text-left aprio-mini-list-row">
                      <span>Gay Techno RJ</span>
                      <i class="ri-arrow-right-s-line text-xs text-slate-400"></i>
                    </button>
                    <button class="w-full text-left aprio-mini-list-row">
                      <span>Clubbers Copacabana</span>
                      <i class="ri-arrow-right-s-line text-xs text-slate-400"></i>
                    </button>
                  </div>
                </section>

                <hr class="border-slate-100">

                <!-- Docs -->
                <section>
                  <div class="flex items-center justify-between mb-1">
                    <div class="flex items-center gap-2">
                      <mark><span class="font-semibold text-slate-700">Docs</span><!--
                                                                mark--></mark>
                      <span class="aprio-mini-pill">recentes</span>
                    </div>
                    <button class="aprio-mini-link">
                      ver todos
                      <i class="ri-arrow-right-s-line text-xs"></i>
                    </button>
                  </div>
                  <div class="space-y-1">
                    <button class="w-full text-left aprio-mini-list-row">
                      <span class="flex items-center gap-2">
                        <i class="ri-file-text-line text-xs text-slate-400"></i>
                        <span>Contrato · DJ Dismantle 27/01</span>
                      </span>
                      <i class="ri-arrow-right-s-line text-xs text-slate-400"></i>
                    </button>
                    <button class="w-full text-left aprio-mini-list-row">
                      <span class="flex items-center gap-2">
                        <i class="ri-file-text-line text-xs text-slate-400"></i>
                        <span>Checklist · Festa Rara · Op.</span>
                      </span>
                      <i class="ri-arrow-right-s-line text-xs text-slate-400"></i>
                    </button>
                    <button class="w-full text-left aprio-mini-list-row">
                      <span class="flex items-center gap-2">
                        <i class="ri-file-text-line text-xs text-slate-400"></i>
                        <span>Termo · Comunidade Tropicalis</span>
                      </span>
                      <i class="ri-arrow-right-s-line text-xs text-slate-400"></i>
                    </button>
                  </div>
                </section>
              </div>
            </div>

            <!-- Próximos 7 dias (mantido, mas clean) -->
            <div class="aprioEXP-card-shell p-4">
              <div class="flex items-center justify-between mb-3">
                <h2 class="text-[12px] font-bold uppercase tracking-wider text-slate-500">Próximos 7 dias</h2>
                <a href="#" class="text-[11px] text-neutral-600 hover:underline">Ver agenda</a>
              </div>
              <div class="space-y-2">
                <a href="#" class="flex gap-3 items-center p-2 hover:bg-slate-50 rounded-lg transition-colors group">
                  <div
                    class="h-10 w-10 p-2 rounded-lg border border-slate-200 flex flex-col items-center justify-center bg-white text-slate-900 group-hover:border-slate-400 transition-colors">
                    <span class="text-[9px] uppercase font-bold">SEX</span>
                    <span class="text-[13px] font-bold">22</span>
                  </div>
                  <div class="min-w-0">
                    <div class="text-[12px] font-bold truncate">Dismantle Mainstage</div>
                    <div class="text-[10px] text-slate-500">14 vão</div>
                  </div>
                </a>
                <a href="#" class="flex gap-3 items-center p-2 hover:bg-slate-50 rounded-lg transition-colors group">
                  <div
                    class="h-10 w-10 rounded-lg border border-slate-200 flex flex-col items-center justify-center bg-white text-slate-900 group-hover:border-slate-400 transition-colors">
                    <span class="text-[9px] uppercase font-bold">SÁB</span>
                    <span class="text-[13px] font-bold">23</span>
                  </div>
                  <div class="min-w-0">
                    <div class="text-[12px] font-bold truncate">Gop Tun Showcase</div>
                    <div class="text-[10px] text-slate-500">32 vão</div>
                  </div>
                </a>
              </div>
            </div>

            <!-- Comunidades em alta -->
            <div class="aprioEXP-card-shell p-4">
              <h2 class="text-[12px] font-bold uppercase tracking-wider text-slate-500 mb-3">Comunidades em alta</h2>
              <div class="space-y-3">
                <div class="flex items-center gap-3">
                  <div class="h-8 w-8 rounded bg-purple-100 text-purple-600 flex items-center justify-center">
                    <i class="ri-group-line"></i>
                  </div>
                  <div class="flex-1">
                    <div class="text-[12px] font-bold">After Lovers ZS</div>
                    <div class="text-[10px] text-slate-500">120 membros</div>
                  </div>
                  <button class="text-[11px] font-semibold text-neutral-600">Entrar</button>
                </div>
                <div class="flex items-center gap-3">
                  <div class="h-8 w-8 rounded bg-pink-100 text-pink-600 flex items-center justify-center">
                    <i class="ri-music-2-line"></i>
                  </div>
                  <div class="flex-1">
                    <div class="text-[12px] font-bold">Produtores RJ</div>
                    <div class="text-[10px] text-slate-500">258 membros</div>
                  </div>
                  <button class="text-[11px] font-semibold text-neutral-600">Entrar</button>
                </div>
              </div>
            </div>

            <!-- Footer links -->
            <div class="flex flex-wrap gap-2 text-[10px] text-slate-400 px-2">
              <a href="#" class="hover:underline">Privacidade</a>
              <span>·</span>
              <a href="#" class="hover:underline">Termos</a>
              <span>·</span>
              <a href="#" class="hover:underline">Apollo Business</a>
              <span>·</span>
              <span>© 2024 Apollo Rio</span>
            </div>
          </aside>
        </div>
      </main>

      <!-- MOBILE BOTTOM NAV (apenas mobile) -->
      <nav class="md:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-slate-200 pb-safe-area z-50">
        <div class="grid grid-cols-5 h-14">
          <button class="flex flex-col items-center justify-center text-slate-900 gap-1">
            <i class="ri-home-5-fill text-xl"></i>
          </button>
          <button class="flex flex-col items-center justify-center text-slate-400 hover:text-slate-600 gap-1">
            <i class="ri-search-2-line text-xl"></i>
          </button>
          <button class="flex flex-col items-center justify-center text-slate-900 gap-1 -mt-6">
            <div
              class="h-12 w-12 bg-slate-900 text-white rounded-full flex items-center justify-center shadow-lg shadow-slate-900/20">
              <i class="ri-add-line text-2xl"></i>
            </div>
          </button>
          <button class="flex flex-col items-center justify-center text-slate-400 hover:text-slate-600 gap-1">
            <i class="ri-calendar-event-line text-xl"></i>
          </button>
          <button class="flex flex-col items-center justify-center text-slate-400 hover:text-slate-600 gap-1">
            <i class="ri-user-3-line text-xl"></i>
          </button>
        </div>
      </nav>

    </div> <!-- /flex shell -->

    <!-- JavaScript Logic -->
    <script type="module">
      import { animate, stagger } from "https://cdn.jsdelivr.net/npm/motion@10.17.0/dist/motion.js";

      // 1. Entry Animation for Feed Items
      animate(
        ".feed-item",
        { opacity: [0, 1], y: [20, 0] },
        { delay: stagger(0.08), duration: 0.35, easing: "ease-out" }
      );

      // 2. Tabs Logic
      const tabs = document.querySelectorAll('#feed-tabs button');
      const feedItems = document.querySelectorAll('.feed-item');
      let activeTab = 'all';

      tabs.forEach(tab => {
        tab.addEventListener('click', () => {
          tabs.forEach(t => t.setAttribute('data-active', 'false'));
          tab.setAttribute('data-active', 'true');
          activeTab = tab.getAttribute('data-target');
          localStorage.setItem('activeTab', activeTab);
          filterFeed();
        });
      });

      function filterFeed() {
        feedItems.forEach(item => {
          const itemType = item.getAttribute('data-type');
          if (activeTab === 'all' || itemType === activeTab) {
            item.style.display = 'flex';
            animate(item, { opacity: [0, 1], scale: [0.98, 1] }, { duration: 0.18 });
          } else {
            item.style.display = 'none';
          }
        });
      }

      const savedTab = localStorage.getItem('activeTab');
      if (savedTab) {
        const tab = Array.from(tabs).find(t => t.getAttribute('data-target') === savedTab);
        if (tab) tab.click();
      }

      // 3. Like Button Animation with Persistence
      const likeButtons = document.querySelectorAll('.ri-heart-3-line');
      likeButtons.forEach((icon, index) => {
        const likeKey = `like_${index}`;
        const isLiked = localStorage.getItem(likeKey) === 'true';
        const parent = icon.parentElement;
        const countSpan = parent.querySelector('span');
        let count = parseInt(countSpan.textContent);

        if (isLiked) {
          icon.classList.replace('ri-heart-3-line', 'ri-heart-3-fill');
          icon.classList.add('text-pink-600');
          countSpan.classList.add('text-pink-600');
        }

        parent.addEventListener('click', function () {
          const wasLiked = icon.classList.contains('ri-heart-3-fill');
          if (wasLiked) {
            icon.classList.replace('ri-heart-3-fill', 'ri-heart-3-line');
            icon.classList.remove('text-pink-600');
            countSpan.classList.remove('text-pink-600');
            count--;
            localStorage.setItem(likeKey, 'false');
          } else {
            icon.classList.replace('ri-heart-3-line', 'ri-heart-3-fill');
            icon.classList.add('text-pink-600');
            countSpan.classList.add('text-pink-600');
            count++;
            localStorage.setItem(likeKey, 'true');
            animate(icon, { scale: [1, 1.35, 1] }, { duration: 0.28 });
          }
          countSpan.textContent = count;
        });
      });

      // 4. Dynamic Greeting Based on Time
      const greetingSpan = document.getElementById('check-time-for-greetings');
      const hour = new Date().getHours();
      let greeting = 'bom dia';
      if (hour >= 12 && hour < 18) greeting = 'boa tarde';
      else if (hour >= 18) greeting = 'boa noite';
      greetingSpan.textContent = greeting;

      // 5. Dark Mode Toggle with Persistence
      const body = document.body;
      const darkButtons = document.querySelectorAll('#dark-toggle, #dark-toggle-mobile');
      const toggleDark = () => {
        body.classList.toggle('dark-mode');
        const isDark = body.classList.contains('dark-mode');
        localStorage.setItem('darkMode', isDark ? 'true' : 'false');
        const icons = document.querySelectorAll('#dark-toggle i, #dark-toggle-mobile i');
        icons.forEach(icon => {
          if (isDark) {
            icon.classList.replace('ri-moon-line', 'ri-sun-line');
          } else {
            icon.classList.replace('ri-sun-line', 'ri-moon-line');
          }
        });
        animate(body, { opacity: [0.9, 1] }, { duration: 0.35 });
      };
      darkButtons.forEach(btn => btn.addEventListener('click', toggleDark));
      if (localStorage.getItem('darkMode') === 'true') {
        body.classList.add('dark-mode');
        document.querySelectorAll('#dark-toggle i, #dark-toggle-mobile i').forEach(icon => {
          icon.classList.replace('ri-moon-line', 'ri-sun-line');
        });
      }

      // 6. Infinite Scroll Simulation
      const feedContainer = document.getElementById('feed-container');
      const loading = document.getElementById('loading-indicator');
      const originalPosts = Array.from(feedItems);
      let isLoading = false;

      window.addEventListener('scroll', () => {
        if (isLoading) return;
        if (window.innerHeight + window.scrollY >= document.body.offsetHeight - 200) {
          isLoading = true;
          loading.style.display = 'flex';
          setTimeout(() => {
            for (let i = 0; i < 3; i++) {
              const randomIndex = Math.floor(Math.random() * originalPosts.length);
              const clone = originalPosts[randomIndex].cloneNode(true);
              clone.setAttribute('data-type', originalPosts[randomIndex].getAttribute('data-type'));
              feedContainer.insertBefore(clone, loading);

              const clonedIcon = clone.querySelector('.ri-heart-3-line') || clone.querySelector('.ri-heart-3-fill');
              if (clonedIcon) {
                const clonedParent = clonedIcon.parentElement;
                const clonedCountSpan = clonedParent.querySelector('span');
                let clonedCount = parseInt(clonedCountSpan.textContent);
                clonedParent.addEventListener('click', function () {
                  const wasLiked = clonedIcon.classList.contains('ri-heart-3-fill');
                  if (wasLiked) {
                    clonedIcon.classList.replace('ri-heart-3-fill', 'ri-heart-3-line');
                    clonedIcon.classList.remove('text-pink-600');
                    clonedCountSpan.classList.remove('text-pink-600');
                    clonedCount--;
                  } else {
                    clonedIcon.classList.replace('ri-heart-3-line', 'ri-heart-3-fill');
                    clonedIcon.classList.add('text-pink-600');
                    clonedCountSpan.classList.add('text-pink-600');
                    clonedCount++;
                    animate(clonedIcon, { scale: [1, 1.35, 1] }, { duration: 0.28 });
                  }
                  clonedCountSpan.textContent = clonedCount;
                });
              }
              animate(clone, { opacity: [0, 1], y: [20, 0] }, { duration: 0.35 });
            }
            filterFeed();
            loading.style.display = 'none';
            isLoading = false;
          }, 1200);
        }
      });

      // 7. Pull-to-Refresh Simulation (mobile)
      let touchStartY = 0;
      let isPulling = false;
      document.addEventListener('touchstart', (e) => {
        if (window.scrollY === 0) {
          touchStartY = e.touches[0].clientY;
          isPulling = true;
        }
      });
      document.addEventListener('touchmove', (e) => {
        if (isPulling && window.scrollY === 0) {
          const pullDistance = e.touches[0].clientY - touchStartY;
          if (pullDistance > 100) {
            location.reload();
            isPulling = false;
          }
        }
      });
      document.addEventListener('touchend', () => {
        isPulling = false;
      });
    </script>


  </div>




              <!-- ========================================================
                  page to main of listing groups
                   ======================================================== -->



      <!-- MAIN CONTENT -->
      <main class="flex-1 px-0 md:px-6 py-4 md:py-6 pb-24 md:pb-8">
        <div class="w-full max-w-6xl mx-auto flex flex-col gap-4">

          <!-- Filters / header row -->
          <section
            class="bg-white/90 border border-slate-200 md:rounded-2xl px-4 py-3 md:px-5 md:py-4 flex flex-col md:flex-row md:items-center md:justify-between gap-3">
            <div class="flex items-center gap-2">
              <span
                class="inline-flex h-7 w-7 items-center justify-center rounded-full bg-slate-900 text-white text-xs">
                <i class="ri-hashtag"></i>
              </span>
              <div class="flex flex-col leading-tight">
                <span class="text-[12px] font-semibold text-slate-900">Comunidades públicas</span>
                <span class="text-[11px] text-slate-500">Entre, leia as regras e conecte-se com quem vive a mesma cena
                  que você.</span>
              </div>
            </div>

            <div class="flex flex-wrap items-center gap-2 text-[11px]">
              <button class="px-3 py-1 rounded-full border border-slate-900 bg-slate-900 text-white font-medium"
                data-filter="all">
                Todas
              </button>
              <button class="px-3 py-1 rounded-full border border-slate-200 text-slate-700 hover:bg-slate-50"
                data-filter="after">
                After / madrugada
              </button>
              <button class="px-3 py-1 rounded-full border border-slate-200 text-slate-700 hover:bg-slate-50"
                data-filter="produtores">
                Produtores
              </button>
              <button class="px-3 py-1 rounded-full border border-slate-200 text-slate-700 hover:bg-slate-50"
                data-filter="zona-sul">
                Zona Sul

              </button>
              <button class="px-3 py-1 rounded-full border border-slate-200 text-slate-700 hover:bg-slate-50"
                data-filter="direitos">
                Segurança &amp; Direitos
              </button>
            </div>
          </section>

          <!-- LISTA DE COMUNIDADES – FLEX START, GAP PEQUENO, 4–6 POR TELA DESKTOP -->
          <section class="mt-2">
            <div id="communities-grid" class="flex flex-wrap justify-start gap-4 md:gap-5" style="row-gap: 18px;">

              <!-- 1. After Lovers ZS -->
              <article class="community-card" data-tags="after,zona-sul,copacabana">
                <figure class="community-card__media">
                  <img class="community-card__avatar"
                    src="https://images.pexels.com/photos/167404/pexels-photo-167404.jpeg" alt="After Lovers ZS"
                    loading="lazy">
                </figure>
                <div class="community-card__body">
                  <div class="community-card__header">
                    <h2 class="community-card__name">After Lovers ZS</h2>
                    <svg fill="#22c55e" class="community-card__badge" xmlns="http://www.w3.org/2000/svg"
                      viewBox="0 0 24 24">
                      <path
                        d="M23,12L20.56,9.22L20.9,5.54L17.29,4.72L15.4,1.54L12,3L8.6,1.54L6.71,4.72L3.1,5.53L3.44,9.21L1,12L3.44,14.78L3.1,18.47L6.71,19.29L8.6,22.47L12,21L15.4,22.46L17.29,19.28L20.9,18.46L20.56,14.78L23,12M10,17L6,13L7.41,11.59L10,14.17L16.59,7.58L18,9L10,17Z">
                      </path>
                    </svg>
                  </div>
                  <p class="community-card__description">
                    After, táxi da madrugada, fofoca de pista e sobrevivência em Copacabana.
                  </p>
                  <div class="community-card__footer">
                    <div class="community-card__stats">
                      <div class="community-card__stat">
                        <i class="ri-user-community-fill"></i>
                        <span class="community-card__stat-value  text-[9.5px]">1.280 clubbers</span>
                      </div>
                      <div class="community-card__stat">
                        <i class="ri-chat-poll-fill"></i>
                        <span class=" text-[9.5px]">+120 posts</span>
                      </div>
                    </div>
                    <div class="community-card__actions">
                      <button type="button" class="community-card__follow-btn">
                        <i class="ri-add-fill text-white"></i>
                        <span class="text-white text-[9.5px]">Entrar</span>
                      </button>
                    </div>
                  </div>
                </div>
              </article>

              <!-- 2. Produtores RJ -->
              <article class="community-card" data-tags="produtores,networking,cenario">
                <figure class="community-card__media">
                  <img class="community-card__avatar"
                    src="https://images.pexels.com/photos/104743/crowd-silhouettes-party-dancing-104743.jpeg"
                    alt="Produtores RJ" loading="lazy">
                </figure>
                <div class="community-card__body">
                  <div class="community-card__header">
                    <h2 class="community-card__name">Produtores RJ</h2>
                    <svg fill="#fb923c" class="community-card__badge" xmlns="http://www.w3.org/2000/svg"
                      viewBox="0 0 24 24">
                      <path d="M12 2L15.09 8.26L22 9.27L17 14L18.18 21L12 17.77L5.82 21L7 14L2 9.27L8.91 8.26L12 2Z">
                      </path>
                    </svg>
                  </div>
                  <p class="community-card__description">
                    Bastidores, orçamentos, checklists, som, luz, bar e perrengues de produção.
                  </p>
                  <div class="community-card__footer">
                    <div class="community-card__stats">
                      <div class="community-card__stat">
                        <i class="ri-user-community-fill"></i>
                        <span class="community-card__stat-value  text-[9.5px]">1.280 clubbers</span>
                      </div>
                      <div class="community-card__stat">
                        <i class="ri-chat-poll-fill"></i>
                        <span class=" text-[9.5px]">+120 posts</span>
                      </div>
                    </div>
                    <div class="community-card__actions">
                      <button type="button" class="community-card__follow-btn">
                        <i class="ri-add-fill text-white"></i>
                        <span class="text-white text-[9.5px]">Solicitar</span>
                      </button>
                    </div>
                  </div>
                </div>
              </article>

              <!-- 3. Gay Techno RJ -->
              <article class="community-card" data-tags="zona-sul,lgbt,techno">
                <figure class="community-card__media">
                  <img class="community-card__avatar"
                    src="https://images.pexels.com/photos/2747449/pexels-photo-2747449.jpeg" alt="Gay Techno RJ"
                    loading="lazy">
                </figure>
                <div class="community-card__body">
                  <div class="community-card__header">
                    <h2 class="community-card__name">Gay Techno RJ</h2>
                    <svg fill="#6366f1" class="community-card__badge" xmlns="http://www.w3.org/2000/svg"
                      viewBox="0 0 24 24">
                      <path
                        d="M12 2C8.13 2 5 5.13 5 9C5 11.38 6.19 13.47 8 14.74V22L12 19.82L16 22V14.74C17.81 13.47 19 11.38 19 9C19 5.13 15.87 2 12 2Z">
                      </path>
                    </svg>
                  </div>
                  <p class="community-card__description">
                    Line-ups, rumores, pistas seguras e quem tá tocando o quê na cena queer.
                  </p>
                  <div class="community-card__footer">
                    <div class="community-card__stats">
                      <div class="community-card__stat">
                        <i class="ri-user-community-fill"></i>
                        <span class="community-card__stat-value  text-[9.5px]">1.280 clubbers</span>
                      </div>
                      <div class="community-card__stat">
                        <i class="ri-chat-poll-fill"></i>
                        <span class=" text-[9.5px]">+120 posts</span>
                      </div>
                    </div>
                    <div class="community-card__actions">
                      <button type="button" class="community-card__follow-btn">
                        <i class="ri-add-fill text-white"></i>
                        <span class="text-white text-[9.5px]">Entrar</span>
                      </button>
                    </div>
                  </div>
                </div>
              </article>

              <!-- 4. Clubbers Copacabana -->
              <article class="community-card" data-tags="zona-sul,copacabana,clubbers">
                <figure class="community-card__media">
                  <img class="community-card__avatar"
                    src="https://images.pexels.com/photos/1674040/pexels-photo-1674040.jpeg" alt="Clubbers Copacabana"
                    loading="lazy">
                </figure>
                <div class="community-card__body">
                  <div class="community-card__header">
                    <h2 class="community-card__name">Clubbers Copa</h2>
                  </div>
                  <p class="community-card__description">
                    Quem mora entre o posto 2 e o túnel, chama e combina pista junto.
                  </p>
                  <div class="community-card__footer">
                    <div class="community-card__stats">
                      <div class="community-card__stat">
                        <i class="ri-user-community-fill"></i>
                        <span class="community-card__stat-value  text-[9.5px]">1.280 clubbers</span>
                      </div>
                      <div class="community-card__stat">
                        <i class="ri-chat-poll-fill"></i>
                        <span class=" text-[9.5px]">+120 posts</span>
                      </div>
                    </div>
                    <div class="community-card__actions">
                      <button type="button" class="community-card__follow-btn">
                        <i class="ri-add-fill text-white"></i>
                        <span class="text-white text-[9.5px]">Entrar</span>
                      </button>
                    </div>
                  </div>
                </div>
              </article>

              <!-- 5. VJs & Luz RJ -->
              <article class="community-card" data-tags="produtores,tecnico,luz,vj">
                <figure class="community-card__media">
                  <img class="community-card__avatar"
                    src="https://images.pexels.com/photos/1047442/pexels-photo-1047442.jpeg" alt="VJs &amp; Luz RJ"
                    loading="lazy">
                </figure>
                <div class="community-card__body">
                  <div class="community-card__header">
                    <h2 class="community-card__name">VJs &amp; Luz RJ</h2>
                  </div>
                  <p class="community-card__description">
                    Gobo, LED, haze, mapping e gambiarra fina compartilhada.
                  </p>
                  <div class="community-card__footer">
                    <div class="community-card__stats">
                      <div class="community-card__stat">
                        <i class="ri-user-community-fill"></i>
                        <span class="community-card__stat-value  text-[9.5px]">1.280 clubbers</span>
                      </div>
                      <div class="community-card__stat">
                        <i class="ri-chat-poll-fill"></i>
                        <span class=" text-[9.5px]">+120 posts</span>
                      </div>
                    </div>
                    <div class="community-card__actions">
                      <button type="button" class="community-card__follow-btn">
                        <i class="ri-add-fill text-white"></i>
                        <span class="text-white text-[9.5px]">Entrar</span>
                      </button>
                    </div>
                  </div>
                </div>
              </article>

              <!-- 6. Cena Lapa & Centro -->
              <article class="community-card" data-tags="centro,lapa,rolês">
                <figure class="community-card__media">
                  <img class="community-card__avatar"
                    src="https://images.pexels.com/photos/799091/pexels-photo-799091.jpeg" alt="Cena Lapa &amp; Centro"
                    loading="lazy">
                </figure>
                <div class="community-card__body">
                  <div class="community-card__header">
                    <h2 class="community-card__name">Cena Lapa &amp; Centro</h2>
                  </div>
                  <p class="community-card__description">
                    Arcos, galpão, porão e baile escondido mapeados pela galera.
                  </p>
                  <div class="community-card__footer">
                    <div class="community-card__stats">
                      <div class="community-card__stat">
                        <i class="ri-user-community-fill"></i>
                        <span class="community-card__stat-value  text-[9.5px]">1.280 clubbers</span>
                      </div>
                      <div class="community-card__stat">
                        <i class="ri-chat-poll-fill"></i>
                        <span class=" text-[9.5px]">+120 posts</span>
                      </div>
                    </div>
                    <div class="community-card__actions">
                      <button type="button" class="community-card__follow-btn">
                        <i class="ri-add-fill text-white"></i>
                        <span class="text-white text-[9.5px]">Entrar</span>
                      </button>
                    </div>
                  </div>
                </div>
              </article>

              <!-- 7. Bass & Breaks BR -->
              <article class="community-card" data-tags="bass,breaks,uk,underground">
                <figure class="community-card__media">
                  <img class="community-card__avatar"
                    src="https://images.pexels.com/photos/7083920/pexels-photo-7083920.jpeg" alt="Bass &amp; Breaks BR"
                    loading="lazy">
                </figure>
                <div class="community-card__body">
                  <div class="community-card__header">
                    <h2 class="community-card__name">Bass &amp; Breaks BR</h2>
                  </div>
                  <p class="community-card__description">
                    UK vibes, grave torto, breakbeat e pista quebrada pelo Brasil.
                  </p>
                  <div class="community-card__footer">
                    <div class="community-card__stats">
                      <div class="community-card__stat">
                        <i class="ri-user-community-fill"></i>
                        <span class="community-card__stat-value  text-[9.5px]">1.280 clubbers</span>
                      </div>
                      <div class="community-card__stat">
                        <i class="ri-chat-poll-fill"></i>
                        <span class=" text-[9.5px]">+120 posts</span>
                      </div>
                    </div>
                    <div class="community-card__actions">
                      <button type="button" class="community-card__follow-btn">
                        <i class="ri-add-fill text-white"></i>
                        <span class="text-white text-[9.5px]">Entrar</span>
                      </button>
                    </div>
                  </div>
                </div>
              </article>

              <!-- 8. House de Boteco -->
              <article class="community-card" data-tags="house,bar,boteco">
                <figure class="community-card__media">
                  <img class="community-card__avatar"
                    src="https://images.pexels.com/photos/3009802/pexels-photo-3009802.jpeg" alt="House de Boteco"
                    loading="lazy">
                </figure>
                <div class="community-card__body">
                  <div class="community-card__header">
                    <h2 class="community-card__name">House de Boteco</h2>
                  </div>
                  <p class="community-card__description">
                    +XX postsFesta com gelo de isopor, groove fino e cerveja trincando.
                  </p>
                  <div class="community-card__footer">
                    <div class="community-card__stats">
                      <div class="community-card__stat">
                        <i class="ri-user-community-fill"></i>
                        <span class="community-card__stat-value  text-[9.5px]">1.280 clubbers</span>
                      </div>
                      <div class="community-card__stat">
                        <i class="ri-chat-poll-fill"></i>
                        <span class=" text-[9.5px]">+120 posts</span>
                      </div>
                    </div>
                    <div class="community-card__actions">
                      <button type="button" class="community-card__follow-btn">
                        <i class="ri-add-fill text-white"></i>
                        <span class="text-white text-[9.5px]">Entrar</span>
                      </button>
                    </div>
                  </div>
                </div>
              </article>

              <!-- 9. Ravers da Serra -->
              <article class="community-card" data-tags="outdoor,serra,rave">
                <figure class="community-card__media">
                  <img class="community-card__avatar"
                    src="https://images.pexels.com/photos/1674040/pexels-photo-1674040.jpeg" alt="Ravers da Serra"
                    loading="lazy">
                </figure>
                <div class="community-card__body">
                  <div class="community-card__header">
                    <h2 class="community-card__name">Ravers da Serra</h2>
                  </div>
                  <p class="community-card__description">
                    Trilha, van, vista absurda e som alto na beira do penhasco.
                  </p>
                  <div class="community-card__footer">
                    <div class="community-card__stats">
                      <div class="community-card__stat">
                        <i class="ri-user-community-fill"></i>
                        <span class="community-card__stat-value  text-[9.5px]">1.280 clubbers</span>
                      </div>
                      <div class="community-card__stat">
                        <i class="ri-chat-poll-fill"></i>
                        <span class=" text-[9.5px]">+120 posts</span>
                      </div>
                    </div>
                    <div class="community-card__actions">
                      <button type="button" class="community-card__follow-btn">
                        <i class="ri-add-fill text-white"></i>
                        <span class="text-white text-[9.5px]">Entrar</span>
                      </button>
                    </div>
                  </div>
                </div>
              </article>

              <!-- 10. Domply Lovers -->
              <article class="community-card" data-tags="domply,mergulho,afetos">
                <figure class="community-card__media">
                  <img class="community-card__avatar"
                    src="https://images.pexels.com/photos/1190298/pexels-photo-1190298.jpeg" alt="Domply Lovers"
                    loading="lazy">
                </figure>
                <div class="community-card__body">
                  <div class="community-card__header">
                    <h2 class="community-card__name">Domply Lovers</h2>
                  </div>
                  <p class="community-card__description">
                    Mixtapes, memes, mergulhos e lembranças de verão que não acabam.
                  </p>
                  <div class="community-card__footer">
                    <div class="community-card__stats">
                      <div class="community-card__stat">
                        <i class="ri-user-community-fill"></i>
                        <span class="community-card__stat-value  text-[9.5px]">1.280 clubbers</span>
                      </div>
                      <div class="community-card__stat">
                        <i class="ri-chat-poll-fill"></i>
                        <span class=" text-[9.5px]">+120 posts</span>
                      </div>
                    </div>
                    <div class="community-card__actions">
                      <button type="button" class="community-card__follow-btn">
                        <i class="ri-add-fill text-white"></i>
                        <span class="text-white text-[9.5px]">Entrar</span>
                      </button>
                    </div>
                  </div>
                </div>
              </article>

              <!-- 11. DJs Iniciantes RJ -->
              <article class="community-card" data-tags="djs,iniciantes,aprendizado">
                <figure class="community-card__media">
                  <img class="community-card__avatar"
                    src="https://images.pexels.com/photos/164745/pexels-photo-164745.jpeg" alt="DJs Iniciantes RJ"
                    loading="lazy">
                </figure>
                <div class="community-card__body">
                  <div class="community-card__header">
                    <h2 class="community-card__name">DJs Iniciantes RJ</h2>
                  </div>
                  <p class="community-card__description">
                    Set de estreia, dúvida de mixer, críticas honestas e acolhimento.
                  </p>
                  <div class="community-card__footer">
                    <div class="community-card__stats">
                      <div class="community-card__stat">
                        <i class="ri-user-community-fill"></i>
                        <span class="community-card__stat-value  text-[9.5px]">1.280 clubbers</span>
                      </div>
                      <div class="community-card__stat">
                        <i class="ri-chat-poll-fill"></i>
                        <span class=" text-[9.5px]">+120 posts</span>
                      </div>
                    </div>
                    <div class="community-card__actions">
                      <button type="button" class="community-card__follow-btn">
                        <i class="ri-add-fill text-white"></i>
                        <span class="text-white text-[9.5px]">Entrar</span>
                      </button>
                    </div>
                  </div>
                </div>
              </article>

              <!-- 12. Sapatão Techno -->
              <article class="community-card" data-tags="lgbt,sapatão,techno">
                <figure class="community-card__media">
                  <img class="community-card__avatar"
                    src="https://images.pexels.com/photos/1858175/pexels-photo-1858175.jpeg" alt="Sapatão Techno"
                    loading="lazy">
                </figure>
                <div class="community-card__body">
                  <div class="community-card__header">
                    <h2 class="community-card__name">Sapatão Techno</h2>
                  </div>
                  <p class="community-card__description">
                    Pista segura, mosh afetivo, crush de pista e som pesado.
                  </p>
                  <div class="community-card__footer">
                    <div class="community-card__stats">
                      <div class="community-card__stat">
                        <i class="ri-user-community-fill"></i>
                        <span class="community-card__stat-value  text-[9.5px]">1.280 clubbers</span>
                      </div>
                      <div class="community-card__stat">
                        <i class="ri-chat-poll-fill"></i>
                        <span class=" text-[9.5px]">+120 posts</span>
                      </div>
                    </div>
                    <div class="community-card__actions">
                      <button type="button" class="community-card__follow-btn">
                        <i class="ri-add-fill text-white"></i>
                        <span class="text-white text-[9.5px]">Entrar</span>
                      </button>
                    </div>
                  </div>
                </div>
              </article>

              <!-- 13. Queer Funk RJ -->
              <article class="community-card" data-tags="funk,lgbt,queer">
                <figure class="community-card__media">
                  <img class="community-card__avatar"
                    src="https://images.pexels.com/photos/1674042/pexels-photo-1674042.jpeg" alt="Queer Funk RJ"
                    loading="lazy">
                </figure>
                <div class="community-card__body">
                  <div class="community-card__header">
                    <h2 class="community-card__name">Queer Funk RJ</h2>
                  </div>
                  <p class="community-card__description">
                    Batidão, paredão, corpa livre e baile na favela sem homofobia.
                  </p>
                  <div class="community-card__footer">
                    <div class="community-card__stats">
                      <div class="community-card__stat">
                        <i class="ri-user-community-fill"></i>
                        <span class="community-card__stat-value  text-[9.5px]">1.280 clubbers</span>
                      </div>
                      <div class="community-card__stat">
                        <i class="ri-chat-poll-fill"></i>
                        <span class=" text-[9.5px]">+120 posts</span>
                      </div>
                    </div>
                    <div class="community-card__actions">
                      <button type="button" class="community-card__follow-btn">
                        <i class="ri-add-fill text-white"></i>
                        <span class="text-white text-[9.5px]">Entrar</span>
                      </button>
                    </div>
                  </div>
                </div>
              </article>

              <!-- 14. Festival Makers BR -->
              <article class="community-card" data-tags="produtores,festival,editais,direitos">
                <figure class="community-card__media">
                  <img class="community-card__avatar"
                    src="https://images.pexels.com/photos/1190297/pexels-photo-1190297.jpeg" alt="Festival Makers BR"
                    loading="lazy">
                </figure>
                <div class="community-card__body">
                  <div class="community-card__header">
                    <h2 class="community-card__name">Festival Makers BR</h2>
                  </div>
                  <p class="community-card__description">
                    Quem sonha grande, planilha maior ainda: tour, editais e operação.
                  </p>
                  <div class="community-card__footer">
                    <div class="community-card__stats">
                      <div class="community-card__stat">
                        <i class="ri-user-community-fill"></i>
                        <span class="community-card__stat-value  text-[9.5px]">1.280 clubbers</span>
                      </div>
                      <div class="community-card__stat">
                        <i class="ri-chat-poll-fill"></i>
                        <span class=" text-[9.5px]">+120 posts</span>
                      </div>
                    </div>
                    <div class="community-card__actions">
                      <button type="button" class="community-card__follow-btn">
                        <i class="ri-add-fill text-white"></i>
                        <span class="text-white text-[9.5px]">Entrar</span>
                      </button>
                    </div>
                  </div>
                </div>
              </article>

            </div>
          </section>
        </div>
      </main>

      <!-- BOTTOM NAV MOBILE -->
      <nav
        class="md:hidden fixed bottom-0 left-0 right-0 bg-white/95 backdrop-blur-xl border-t border-slate-200/50 pb-safe z-50">
        <div class="max-w-2xl mx-auto w-full px-4 py-2 flex items-end justify-between h-[60px]">
          <div class="nav-btn w-14 pb-1">
            <i class="ri-home-5-line"></i>
            <span>Feed</span>
          </div>
          <div class="nav-btn w-14 pb-1">
            <i class="ri-calendar-line"></i>
            <span>Agenda</span>
          </div>
          <div class="relative -top-5">
            <button
              class="h-14 w-14 rounded-full bg-slate-900 text-white flex items-center justify-center shadow-[0_8px_20px_-6px_rgba(15,23,42,0.6)]">
              <i class="ri-add-line text-3xl"></i>
            </button>
          </div>
          <div class="nav-btn active w-14 pb-1">
            <i class="ri-user-community-fill"></i>
            <span>Comunidades</span>
          </div>
          <div class="nav-btn w-14 pb-1">
            <i class="ri-user-3-line"></i>
            <span>Perfil</span>
          </div>
        </div>
      </nav>
    </div>
  </div>

  <script>
    // filtro simples por tags + busca
    document.addEventListener('DOMContentLoaded', () => {
      const buttons = document.querySelectorAll('[data-filter]');
      const cards = document.querySelectorAll('.community-card');
      const search = document.getElementById('search-communities');

      buttons.forEach(btn => {
        btn.addEventListener('click', () => {
          const filter = btn.getAttribute('data-filter');

          buttons.forEach(b => {
            b.classList.remove('bg-slate-900', 'text-white', 'border-slate-900');
            b.classList.add('border-slate-200', 'text-slate-700');
          });
          btn.classList.add('bg-slate-900', 'text-white', 'border-slate-900');

          cards.forEach(card => {
            const tags = (card.getAttribute('data-tags') || '').toLowerCase();
            if (filter === 'all' || tags.includes(filter)) {
              card.style.display = '';
            } else {
              card.style.display = 'none';
            }
          });
        });
      });

      if (search) {
        search.addEventListener('input', () => {
          const q = search.value.trim().toLowerCase();
          cards.forEach(card => {
            const name = (card.querySelector('.community-card__name')?.textContent || '').toLowerCase();
            const desc = (card.querySelector('.community-card__description')?.textContent || '').toLowerCase();
            if (!q || name.includes(q) || desc.includes(q)) {
              card.style.display = '';
            } else {
              card.style.display = 'none';
            }
          });
        });
      }
    });
  </script>





              <!-- ========================================================
                  page of single page of group (comuna comunidade nucleo)
                   ======================================================== -->

  <!-- MAIN CONTENT -->
      <main class="flex-1 px-0 md:px-6 py-4 md:py-6 pb-24 md:pb-8">
        <div class="w-full max-w-6xl mx-auto flex flex-col lg:flex-row gap-5 lg:gap-7">

          <!-- LEFT COLUMN · SOBRE / REGRAS / RESPONSÁVEIS / MEMBROS -->
          <section class="w-full lg:w-[360px] shrink-0 flex flex-col gap-0  lg:sticky lg:top-16 lg:self-start">

            <!-- Hero / capa comunidade -->
            <div class="overflow-hidden rounded-2xl bg-slate-900 border border-slate-800 relative">
              <div class="h-40 w-full bg-gradient-to-r from-fuchsia-500 via-sky-400 to-emerald-400 opacity-80"></div>
              <div
                class="absolute inset-0 flex flex-col justify-end p-4 bg-gradient-to-t from-slate-950/80 via-slate-950/40 to-transparent">
                <div class="inline-flex items-center gap-2 mt-4 mb-2">
                  <span
                    class="inline-flex h-8 w-8 items-center justify-center rounded-full bg-black/40 border border-white/20">
                    <i class="ri-user-community-fill text-lg text-white"></i>
                  </span>
                  <span
                    class="inline-flex items-center gap-1.5 rounded-full bg-black/40 border border-white/15 px-2.5 py-1">
                    <span class="h-1.5 w-1.5 rounded-full bg-emerald-400 animate-pulse"></span>
                    <span class="text-[11px] text-slate-100 font-medium uppercase tracking-wide">Comunidade ativa</span>
                  </span>
                </div>
                <h2 class="text-base md:text-lg font-semibold text-white leading-snug">
                  Gay Techno RJ
                </h2>
                <p class="text-[11px] text-slate-200 mt-1">
                  Line-ups, rumores, pistas seguras e quem tá tocando o quê na cena queer carioca.
                </p>
                <div class="mt-2 flex items-center gap-1 text-[11px] text-slate-300">
                  <span class="inline-flex items-center gap-1">
                    <i class="ri-user-3-line text-xs"></i> 2.340 membros
                  </span>
                  <span class="inline-flex items-center gap-1">
                    <i class="ri-hashtag text-xs"></i> #techno #queer #zonaSul
                  </span>
                </div>
              </div>
            </div>

            <!-- Sobre / descrição -->
            <div class="bg-white/95 border border-slate-200 rounded-2xl px-4 py-3 mt-2 shadow-sm">
              <div class="flex items-center justify-between mb-2.5">
                <h3 class="text-[12px] font-semibold text-slate-900 uppercase tracking-[0.16em]">
                  Sobre
                </h3>
                <span class="inline-flex items-center gap-1 text-[11px] text-slate-400">
                  <i class="ri-earth-line text-xs"></i>
                  Pública
                </span>
              </div>
              <p class="text-[13px] leading-relaxed text-slate-600">
                Espaço pra quem vive a noite queer, ama pista escura, som pesado e respeito mútuo.
                Compartilhe indicações de festas, feedback de rolês, alertas de perrengue
                e experiências boas de pista no Rio.
              </p>
            </div>

            <!-- Regras da comunidade -->
            <div class="bg-white/95 border border-slate-200 rounded-2xl px-4 py-3  mt-4  shadow-sm">
              <div class="flex items-center justify-between mb-2.5">
                <h3 class="text-[12px] font-semibold text-slate-900 uppercase tracking-[0.16em]">
                  Regras da comunidade
                </h3>
                <span class="text-[11px] text-slate-400">
                  Leitura obrigatória
                </span>
              </div>
              <ul class="space-y-2.5 text-[13px] text-slate-600">
                <li class="flex gap-2">
                  <span class="mt-[3px] h-1.5 w-1.5 rounded-full bg-emerald-500"></span>
                  <span>Respeito total a pessoas LGBTQIAPN+, corpos dissidentes, raça, gênero e crença.</span>
                </li>
                <li class="flex gap-2">
                  <span class="mt-[3px] h-1.5 w-1.5 rounded-full bg-emerald-500"></span>
                  <span>Zero tolerância a assédio, exposição de terceiros, discurso de ódio ou print maldoso.</span>
                </li>
                <li class="flex gap-2">
                  <span class="mt-[3px] h-1.5 w-1.5 rounded-full bg-emerald-500"></span>
                  <span>Divulgação é bem-vinda, mas sem spam: máximo 1 flyer por festa/semana.</span>
                </li>
                <li class="flex gap-2">
                  <span class="mt-[3px] h-1.5 w-1.5 rounded-full bg-emerald-500"></span>
                  <span>Nenhuma negociação de substâncias ilícitas dentro do grupo.</span>
                </li>
              </ul>
            </div>

            <!-- Responsáveis -->
            <div class="bg-white/95 border border-slate-200 rounded-2xl px-4 py-3  mt-4  shadow-sm">
              <div class="flex items-center justify-between mb-3">
                <h3 class="text-[12px] font-semibold text-slate-900 uppercase tracking-[0.16em]">
                  Responsáveis
                </h3>
                <span class="inline-flex items-center gap-1 text-[11px] text-slate-400">
                  <i class="ri-shield-user-line text-xs"></i>
                  Moderação
                </span>
              </div>
              <div class="space-y-2.5">
                <!-- owner -->
                <div class="flex items-center gap-3">
                  <div class="h-8 w-8 rounded-full overflow-hidden bg-slate-100">
                    <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Host1&amp;backgroundColor=e5e7eb"
                      class="w-full h-full object-cover">
                  </div>
                  <div class="flex-1">
                    <p class="text-[13px] font-semibold text-slate-900">Marta</p>
                    <p class="text-[11px] text-slate-500">@martatechno · Donx</p>
                  </div>
                  <span
                    class="inline-flex items-center gap-1 rounded-full bg-orange-500 text-white text-[10px] px-1.5 pt-0.5 pb-0">
                    <i class="ri-command-line text-[11px]"></i> Apollo
                  </span>
                </div>

                <!-- co 1 -->
                <div class="flex items-center gap-3">
                  <div class="h-8 w-8 rounded-full overflow-hidden bg-slate-100">
                    <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Valle&amp;backgroundColor=e5e7eb"
                      class="w-full h-full object-cover">
                  </div>
                  <div class="flex-1">
                    <p class="text-[13px] font-semibold text-slate-900">Valle</p>
                    <p class="text-[11px] text-slate-500">@valle · Co-responsável</p>
                  </div>
                  <span
                    class="inline-flex items-center gap-1 rounded-full bg-orange-500 text-white text-[10px] px-1.5 pt-0.5 pb-0">
                    <i class="ri-command-line text-[11px]"></i> Apollo
                  </span>
                </div>

                <!-- co 2 -->
                <div class="flex items-center gap-3">
                  <div class="h-8 w-8 rounded-full overflow-hidden bg-slate-100">
                    <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Host3&amp;backgroundColor=e5e7eb"
                      class="w-full h-full object-cover">
                  </div>
                  <div class="flex-1">
                    <p class="text-[13px] font-semibold text-slate-900">Nayara</p>
                    <p class="text-[11px] text-slate-500">@nay · Moderação</p>
                  </div>
                  <span
                    class="inline-flex items-center gap-1 rounded-full bg-emerald-50 text-emerald-700 text-[10px] px-2 py-0.5">
                    <span class="h-1.5 w-1.5 rounded-full bg-emerald-500"></span> online
                  </span>
                </div>
              </div>
            </div>

            <!-- Membros em destaque -->
            <div class="bg-white/95 border border-slate-200 rounded-2xl px-4 py-3  mt-4  shadow-sm">
              <div class="flex items-center justify-between mb-2.5">
                <h3 class="text-[12px] font-semibold text-slate-900 uppercase tracking-[0.16em]">
                  Membros
                </h3>
                <span class="text-[11px] text-slate-400">2.340 no total</span>
              </div>
              <div class="flex flex-wrap gap-2">
                <!-- chips simples -->
                <button
                  class="inline-flex items-center gap-1 rounded-full bg-slate-100 text-slate-700 text-[11px] px-2.5 py-1">
                  <span class="h-5 w-5 rounded-full bg-slate-300 overflow-hidden">
                    <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=User1&amp;backgroundColor=cbd5f5"
                      class="w-full h-full">
                  </span>
                  <span>@vini.rj</span>
                </button>
                <button
                  class="inline-flex items-center gap-1 rounded-full bg-slate-100 text-slate-700 text-[11px] px-2.5 py-1">
                  <span class="h-5 w-5 rounded-full bg-slate-300 overflow-hidden">
                    <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=User2&amp;backgroundColor=cbd5f5"
                      class="w-full h-full">
                  </span>
                  <span>@luquers</span>
                </button>
                <button
                  class="inline-flex items-center gap-1 rounded-full bg-slate-100 text-slate-700 text-[11px] px-2.5 py-1">
                  <span class="h-5 w-5 rounded-full bg-slate-300 overflow-hidden">
                    <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=User3&amp;backgroundColor=cbd5f5"
                      class="w-full h-full">
                  </span>
                  <span>@kaka.tech</span>
                </button>
                <button
                  class="inline-flex items-center gap-1 rounded-full bg-slate-100 text-slate-700 text-[11px] px-2.5 py-1">
                  <span class="h-5 w-5 rounded-full bg-slate-300 overflow-hidden">
                    <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=User4&amp;backgroundColor=cbd5f5"
                      class="w-full h-full">
                  </span>
                  <span>@ju_queer</span>
                </button>
                <button
                  class="inline-flex items-center gap-1 rounded-full bg-slate-900 text-white text-[11px] px-2.5 py-1">
                  <i class="ri-user-search-line text-xs"></i>
                  <span>Ver todos</span>
                </button>
              </div>
            </div>
          </section>

          <!-- RIGHT COLUMN · POSTS DA COMUNIDADE -->
          <section class="flex-1 flex flex-col gap-0">

            <!-- Caixa de novo post -->
            <div class="bg-white/95 border border-slate-200 rounded-2xl px-4 py-3  mt-4  shadow-sm">
              <div class="flex items-start gap-3">
                <div class="h-9 w-9 rounded-full overflow-hidden bg-slate-100 flex-shrink-0">
                  <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Valle&amp;backgroundColor=e5e7eb"
                    class="h-full w-full object-cover" alt="Você">
                </div>
                <div class="flex-1">
                  <textarea rows="2" placeholder="Compartilhe algo com a Gay Techno RJ..."
                    class="w-full resize-none border border-slate-200 rounded-2xl px-3 py-2 text-[13px] focus:outline-none focus:ring-2 focus:ring-slate-900/10 focus:border-slate-900/60"></textarea>
                  <div class="mt-2 flex items-center justify-between">
                    <div class="flex items-center gap-2 text-slate-400 text-[12px]">
                      <button class="inline-flex items-center gap-1 hover:text-slate-700">
                        <i class="ri-image-add-line text-sm"></i>
                        <span>Imagem</span>
                      </button>
                      <button class="inline-flex items-center gap-1 hover:text-slate-700">
                        <i class="ri-calendar-line text-sm"></i>
                        <span>Indicar festa</span>
                      </button>
                    </div>
                    <button
                      class="inline-flex items-center gap-1 rounded-full bg-slate-900 text-white text-[12px] px-3 py-1.5 font-semibold shadow-sm hover:bg-slate-800">
                      <i class="ri-send-plane-2-line text-xs"></i>
                      <span>Postar</span>
                    </button>
                  </div>
                </div>
              </div>
            </div>

            <!-- Post 1 -->
            <article class="bg-white/95 border border-slate-200 rounded-2xl px-4 py-3  mt-4  shadow-sm">
              <header class="flex items-start gap-3">
                <div class="h-9 w-9 rounded-full overflow-hidden bg-slate-100">
                  <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=UserPost1&amp;backgroundColor=e5e7eb"
                    class="h-full w-full object-cover">
                </div>
                <div class="flex-1">
                  <div class="flex items-center justify-between gap-2">
                    <div>
                      <div class="flex items-center gap-1.5">
                        <span class="text-[13px] font-semibold text-slate-900">Vini</span>
                        <span class="text-[11px] text-slate-400">@vini.rj</span>
                      </div>
                      <div class="flex items-center gap-2 text-[11px] text-slate-400">
                        <span>há 2 h</span>
                        <span class="h-1 w-1 rounded-full bg-slate-300"></span>
                        <span class="inline-flex items-center gap-1">
                          <i class="ri-map-pin-2-line text-[10px]"></i> Copacabana
                        </span>
                      </div>
                    </div>
                    <button class="text-slate-400 hover:text-slate-700">
                      <i class="ri-more-2-fill"></i>
                    </button>
                  </div>
                </div>
              </header>

              <div class="mt-3 text-[13px] text-slate-700 leading-relaxed">
                <p>
                  Pra quem quer pista mais queer friendly hoje à noite: alguém foi recentemente na festa <span
                    class="font-semibold">XXX</span> em Botafogo?
                  Curioso se a energia tá boa ou se ainda rola muita cara feia.
                </p>
              </div>

              <div class="mt-3 flex flex-wrap items-center justify-between gap-3">
                <div class="inline-flex flex-wrap gap-1.5 text-[11px]">
                  <span class="inline-flex items-center gap-1 rounded-full bg-slate-100 text-slate-700 px-2 py-0.5">
                    <i class="ri-hashtag text-[10px]"></i> review-de-festa
                  </span>
                  <span class="inline-flex items-center gap-1 rounded-full bg-slate-100 text-slate-700 px-2 py-0.5">
                    <i class="ri-hashtag text-[10px]"></i> pista-segura
                  </span>
                </div>
                <div class="flex items-center gap-4 text-[12px] text-slate-500">
                  <button class="inline-flex items-center gap-1 hover:text-slate-900">
                    <i class="ri-heart-3-line text-sm"></i> 37
                  </button>
                  <button class="inline-flex items-center gap-1 hover:text-slate-900">
                    <i class="ri-message-2-line text-sm"></i> 12
                  </button>
                  <button class="inline-flex items-center gap-1 hover:text-slate-900">
                    <i class="ri-share-forward-line text-sm"></i>
                  </button>
                </div>
              </div>

              <!-- Comentário em destaque -->
              <div class="mt-3 border-t border-dashed border-slate-200 pt-3">
                <div class="flex items-start gap-2.5">
                  <div class="h-7 w-7 rounded-full overflow-hidden bg-slate-100">
                    <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Reply1&amp;backgroundColor=e5e7eb"
                      class="h-full w-full object-cover">
                  </div>
                  <div class="flex-1">
                    <div class="flex items-center gap-1.5">
                      <span class="text-[12px] font-semibold text-slate-900">Ju</span>
                      <span class="text-[10px] text-slate-400">há 45 min</span>
                    </div>
                    <p class="text-[12px] text-slate-700 leading-relaxed">
                      Fui sábado passado, pista principal meio heterotope ainda, mas o segundo ambiente tava super de
                      boas, galera queer e som mais pesado.
                    </p>
                  </div>
                </div>
              </div>
            </article>

            <!-- Post 2 (com imagem) -->
            <article class="bg-white/95 border border-slate-200 rounded-2xl px-4 py-3  mt-4  shadow-sm">
              <header class="flex items-start gap-3">
                <div class="h-9 w-9 rounded-full overflow-hidden bg-slate-100">
                  <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=UserPost2&amp;backgroundColor=e5e7eb"
                    class="h-full w-full object-cover">
                </div>
                <div class="flex-1">
                  <div class="flex items-center justify-between gap-2">
                    <div>
                      <div class="flex items-center gap-1.5">
                        <span class="text-[13px] font-semibold text-slate-900">Marta</span>
                        <span class="text-[11px] text-slate-400">@martatechno · Responsável</span>
                      </div>
                      <div class="flex items-center gap-2 text-[11px] text-slate-400">
                        <span>há 5 h</span>
                      </div>
                    </div>
                    <button class="text-slate-400 hover:text-slate-700">
                      <i class="ri-more-2-fill"></i>
                    </button>
                  </div>
                </div>
              </header>

              <div class="mt-3 text-[13px] text-slate-700 leading-relaxed space-y-2">
                <p>
                  Galera, testamos esse novo rolê no Centro ontem e a pista tava
                  <span class="font-semibold">100% segura e diversa</span>. Vou deixar o flyer aqui, quem for hoje
                  comenta depois o que achou.
                </p>
              </div>

              <div class="mt-3 rounded-xl overflow-hidden border border-slate-200 bg-slate-900">
                <div
                  class="aspect-[16/9] bg-gradient-to-br from-fuchsia-500 via-slate-900 to-sky-400 flex items-center justify-center">
                  <span class="text-[11px] uppercase tracking-[0.18em] text-slate-100/80">
                    Flyer do rolê · preview
                  </span>
                </div>
              </div>

              <div class="mt-3 flex items-center justify-between text-[12px] text-slate-500">
                <div class="inline-flex flex-wrap gap-1.5">
                  <span class="inline-flex items-center gap-1 rounded-full bg-slate-100 text-slate-700 px-2 py-0.5">
                    <i class="ri-hashtag text-[10px]"></i> indicação
                  </span>
                  <span class="inline-flex items-center gap-1 rounded-full bg-slate-100 text-slate-700 px-2 py-0.5">
                    <i class="ri-hashtag text-[10px]"></i> centro
                  </span>
                </div>
                <div class="flex items-center gap-4">
                  <button class="inline-flex items-center gap-1 hover:text-slate-900">
                    <i class="ri-heart-3-line text-sm"></i> 89
                  </button>
                  <button class="inline-flex items-center gap-1 hover:text-slate-900">
                    <i class="ri-message-2-line text-sm"></i> 24
                  </button>
                </div>
              </div>
            </article>

            <!-- Post 3 (micro post) -->
            <article class="bg-white/95 border border-slate-200 rounded-2xl px-4 py-3  mt-4  shadow-sm">
              <header class="flex items-start gap-3">
                <div class="h-9 w-9 rounded-full overflow-hidden bg-slate-100">
                  <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=UserPost3&amp;backgroundColor=e5e7eb"
                    class="h-full w-full object-cover">
                </div>
                <div class="flex-1">
                  <div class="flex items-center justify-between gap-2">
                    <div>
                      <div class="flex items-center gap-1.5">
                        <span class="text-[13px] font-semibold text-slate-900">Nay</span>
                        <span class="text-[11px] text-slate-400">@nay · Moderação</span>
                      </div>
                      <div class="flex items-center gap-2 text-[11px] text-slate-400">
                        <span>há 1 dia</span>
                      </div>
                    </div>
                    <span
                      class="inline-flex items-center gap-1 rounded-full bg-amber-50 text-amber-700 text-[10px] px-2 py-0.5">
                      <i class="ri-notification-3-line text-[11px]"></i> aviso
                    </span>
                  </div>
                </div>
              </header>

              <div class="mt-3 text-[13px] text-slate-700 leading-relaxed">
                <p>
                  Lembrando: qualquer situação de assédio ou desconforto em rolê citado aqui, manda print da divulgação
                  + relato pra moderação no privado. A comunidade é pra cuidar umas das outras também.
                </p>
              </div>

              <div class="mt-3 flex items-center justify-end text-[12px] text-slate-500">
                <button class="inline-flex items-center gap-1 hover:text-slate-900">
                  <i class="ri-heart-3-line text-sm"></i> 120
                </button>
              </div>
            </article>

          </section>
        </div>
      </main>

      <!-- BOTTOM NAV MOBILE -->
      <nav
        class="md:hidden fixed bottom-0 left-0 right-0 bg-white/95 backdrop-blur-xl border-t border-slate-200/50 pb-safe z-50">
        <div class="max-w-2xl mx-auto w-full px-4 py-2 flex items-end justify-between h-[60px]">
          <div class="nav-btn w-14 pb-1">
            <i class="ri-home-5-line"></i>
            <span>Feed</span>
          </div>
          <div class="nav-btn w-14 pb-1">
            <i class="ri-calendar-line"></i>
            <span>Eventos</span>
          </div>
          <div class="relative -top-5">
            <button
              class="h-14 w-14 rounded-full bg-slate-900 text-white flex items-center justify-center shadow-[0_8px_20px_-6px_rgba(15,23,42,0.6)]">
              <i class="ri-add-line text-3xl"></i>
            </button>
          </div>
          <div class="nav-btn active w-14 pb-1">
            <i class="ri-user-community-fill"></i>
            <span>Comunidade</span>
          </div>
          <div class="nav-btn w-14 pb-1">
            <i class="ri-user-3-line"></i>
            <span>Perfil</span>
          </div>
        </div>
      </nav>
    </div>
  </div>


