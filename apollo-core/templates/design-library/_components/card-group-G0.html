<!-- REQUIRES: https://assets.apollo.rio.br/uni.css + https://assets.apollo.rio.br/base.js -->
<!--
  Component: card-group-G0
  Type: G0 (First design variant)
  Description: Group/Community card for listings
  Used in: Communities listing, Nucleos listing
  
  IMPORTANT: All elements MUST have data-tooltip for accessibility and UX
  NOTE: NO followers/friends count - Apollo is against ego/status culture
  
  Placeholders:
  - {{group_id}} - Group post ID
  - {{group_title}} - Group name
  - {{group_permalink}} - Group URL
  - {{group_cover}} - Cover image URL
  - {{group_description}} - Short description
  - {{members_count}} - Number of members (displayed as "clubbers")
  - {{posts_count}} - Number of posts
  - {{is_verified}} - true/false
  - {{is_private}} - true/false (nucleo)
  - {{tags}} - comma-separated tags
  - Use inline-user-mention-U0 for admin/member displays
-->

<article 
  class="community-card" 
  data-group-id="{{group_id}}"
  data-tags="{{tags}}"
  data-component="card-group"
  data-type="G0"
  data-tooltip="{{group_title}}"
>
  <!-- Cover Image -->
  <figure class="community-card__media">
    <img
      class="community-card__avatar"
      src="{{group_cover}}"
      alt="{{group_title}}"
      loading="lazy"
      data-tooltip="{{group_title}}"
    />
  </figure>
  
  <!-- Card Body (Overlaid) -->
  <div class="community-card__body">
    
    <!-- Header with Name & Badge -->
    <div class="community-card__header">
      <h2 class="community-card__name" data-tooltip="{{group_title}}">{{group_title}}</h2>
      
      <!-- Verified Badge -->
      <template data-if="{{is_verified}}">
        <svg fill="#22c55e" class="community-card__badge" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" data-tooltip="Grupo verificado">
          <path d="M23,12L20.56,9.22L20.9,5.54L17.29,4.72L15.4,1.54L12,3L8.6,1.54L6.71,4.72L3.1,5.53L3.44,9.21L1,12L3.44,14.78L3.1,18.47L6.71,19.29L8.6,22.47L12,21L15.4,22.46L17.29,19.28L20.9,18.46L20.56,14.78L23,12M10,17L6,13L7.41,11.59L10,14.17L16.59,7.58L18,9L10,17Z" />
        </svg>
      </template>
      
      <!-- Private Badge -->
      <template data-if="{{is_private}}">
        <svg fill="#f97316" class="community-card__badge" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" data-tooltip="Núcleo privado">
          <path d="M12 2L15.09 8.26L22 9.27L17 14L18.18 21L12 17.77L5.82 21L7 14L2 9.27L8.91 8.26L12 2Z" />
        </svg>
      </template>
    </div>
    
    <!-- Description -->
    <p class="community-card__description" data-tooltip="{{group_description}}">
      {{group_description}}
    </p>
    
    <!-- Footer with Stats & Actions -->
    <div class="community-card__footer">
      
      <!-- Stats -->
      <div class="community-card__stats">
        <div class="community-card__stat" data-tooltip="{{members_count}} membros">
          <i class="ri-user-community-fill"></i>
          <span class="community-card__stat-value text-[9.5px]">{{members_count}} clubbers</span>
        </div>
        <div class="community-card__stat" data-tooltip="{{posts_count}} publicações">
          <i class="ri-chat-poll-fill"></i>
          <span class="text-[9.5px]">+{{posts_count}} posts</span>
        </div>
      </div>
      
      <!-- Action Button -->
      <div class="community-card__actions">
        <button type="button" class="community-card__follow-btn" data-action="join-group" data-group-id="{{group_id}}" data-tooltip="Entrar no grupo">
          <i class="ri-add-fill text-white"></i>
          <span class="text-white text-[9.5px]">Entrar</span>
        </button>
      </div>
    </div>
  </div>
</article>

<style>
/* Community Card - Type G0 */
.community-card {
  position: relative;
  width: 100%;
  max-width: 230px;
  aspect-ratio: 4 / 5;
  border: 8px solid #ffffff;
  border-radius: 22px;
  overflow: hidden;
  box-shadow: 0 12px 30px rgba(15, 23, 42, 0.2);
  background: #000;
  isolation: isolate;
  flex: 0 0 auto;
}

.community-card__media {
  margin: 0;
  height: 100%;
  width: 100%;
}

.community-card__avatar {
  display: block;
  width: 100%;
  height: 100%;
  object-fit: cover;
}

/* Gradient Overlay */
.community-card::after {
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
  backdrop-filter: blur(24px) saturate(190%);
  background: linear-gradient(
    to bottom,
    rgba(15, 23, 42, 0.0) 0%,
    rgba(15, 23, 42, 0.08) 32%,
    rgba(15, 23, 42, 0.4) 62%,
    rgba(15, 23, 42, 0.78) 85%,
    rgba(15, 23, 42, 0.93) 100%
  );
  mask-image: linear-gradient(
    to bottom,
    transparent 0%,
    rgba(0, 0, 0, 0.25) 40%,
    rgba(0, 0, 0, 0.75) 60%,
    black 80%
  );
}

/* Card Body */
.community-card__body {
  position: absolute;
  inset-inline: 14px;
  bottom: 14px;
  color: #e5e7eb;
  z-index: 1;
  font-family: var(--font-primary, "Urbanist", system-ui, sans-serif);
}

.community-card__header {
  display: flex;
  gap: 6px;
  align-items: center;
  margin-bottom: 4px;
}

.community-card__name {
  font-size: 0.95rem;
  line-height: 1.1;
  font-weight: 700;
  margin: 0;
}

.community-card__badge {
  width: 18px;
  height: 18px;
  flex-shrink: 0;
}

.community-card__description {
  font-size: 0.76rem;
  letter-spacing: 0.03em;
  color: #e5e7eb;
  margin: 0;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

/* Footer */
.community-card__footer {
  margin-top: 0.75rem;
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 6px;
}

.community-card__stats {
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.community-card__stat {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  font-size: 0.7rem;
  padding: 0.2rem 0.55rem;
  border-radius: 999px;
  background-color: rgba(248, 250, 252, 0.16);
  color: #f9fafb;
  backdrop-filter: blur(10px);
  box-shadow: 0 4px 10px rgba(15, 23, 42, 0.4);
  font-weight: 500;
}

.community-card__stat i {
  font-size: 12px;
}

/* Follow Button */
.community-card__follow-btn {
  background-color: rgba(248, 250, 252, 0.18);
  color: #0f172a;
  border-radius: 999px;
  font-family: inherit;
  font-size: 0.75rem;
  display: inline-flex;
  line-height: 1;
  align-items: center;
  gap: 4px;
  padding: 0.32rem 0.7rem;
  border: none;
  cursor: pointer;
  font-weight: 700;
  box-shadow: 0 5px 16px rgba(15, 23, 42, 0.45);
  transition: background 0.2s ease, transform 0.2s ease, box-shadow 0.2s ease;
  white-space: nowrap;
}

.community-card__follow-btn:hover {
  background-color: rgba(248, 250, 252, 0.35);
  transform: translateY(-1px) scale(1.03);
  box-shadow: 0 8px 20px rgba(15, 23, 42, 0.55);
}

.community-card__follow-btn:active {
  transform: translateY(0);
  box-shadow: 0 4px 10px rgba(15, 23, 42, 0.4);
}

/* Mobile Responsive */
@media (max-width: 640px) {
  .community-card {
    max-width: 190px;
    border-width: 7px;
    border-radius: 20px;
  }
  
  .community-card__name {
    font-size: 0.9rem;
  }
  
  .community-card__description {
    font-size: 0.72rem;
  }
  
  .community-card__follow-btn {
    font-size: 0.7rem;
    padding-inline: 0.6rem;
  }
}
</style>

