<!-- REQUIRES: https://assets.apollo.rio.br/uni.css + https://assets.apollo.rio.br/base.js -->
<!--
  Component: card-event-cutout-C1
  Type: C1 (Cutout mask design - PRIMARY/FIRST CHOICE)
  Version: 2.0.0
  Last Updated: 2025-12-03
  Description: Event card with cutout mask effect for date box - Portal style
  Used in: Events discover portal, Event listings, Feed

  IMPORTANT: All elements MUST have data-tooltip for accessibility and UX
  NOTE: NO followers/friends count - Apollo is against ego/status culture
  NOTE: This is the PRIMARY event card type (TYPE-1). Use card-event-C0 as secondary.

  Placeholders:
  - {{event_id}} - Event post ID
  - {{event_title}} - Event title
  - {{event_permalink}} - Event URL
  - {{event_image}} - Banner/thumbnail URL
  - {{event_day}} - Day number (e.g., "15")
  - {{event_month}} - Month abbr (e.g., "dez")
  - {{event_time}} - Start time (e.g., "23h00")
  - {{event_venue}} - Venue name
  - {{event_genres}} - Array of genre tags
  - {{dj_names}} - DJ lineup names
  - {{event_category}} - Category slug for filtering
  - {{event_month_str}} - Month string for filtering

  CSS Dependencies:
  - uni.css section 14.1-14.4 (Event Card Cutout styles)
  - Custom properties: --r, --s, --x, --y for mask
-->

<a href="{{event_permalink}}" class="event_listing" data-event-id="{{event_id}}" data-category="{{event_category}}"
    data-month-str="{{event_month_str}}" data-component="card-event-cutout" data-type="C1"
    data-tooltip="{{event_title}}">
    <!-- Date Box with Cutout Effect -->
    <div class="box-date-event" data-tooltip="Data: {{event_day}} de {{event_month}}">
        <span class="date-day">{{event_day}}</span>
        <span class="date-month">{{event_month}}</span>
    </div>

    <!-- Picture with Cutout Mask -->
    <div class="picture" data-tooltip="Imagem do evento">
        <img src="{{event_image}}" alt="{{event_title}}" loading="lazy" data-tooltip="{{event_title}}" />

        <!-- Genre Tags -->
        <div class="event-card-tags" data-tooltip="Gêneros musicais">
            <!-- Loop through genres -->
            <template data-loop="{{event_genres}}">
                <span data-tooltip="Filtrar por {{genre}}">{{genre}}</span>
            </template>
        </div>
    </div>

    <!-- Event Info Lines -->
    <div class="event-line">
        <div class="box-info-event">
            <h2 class="event-li-title afasta-bmin" data-tooltip="Título do evento">{{event_title}}</h2>

            <!-- DJs Line -->
            <template data-if="{{dj_names}}">
                <p class="event-li-detail of-dj afasta-bmin" data-tooltip="DJs confirmados">
                    <i class="ri-sound-module-fill"></i>
                    <span data-tooltip="Line-up: {{dj_names}}">{{dj_names}}</span>
                </p>
            </template>

            <!-- Location Line -->
            <p class="event-li-detail of-location afasta-bmin" data-tooltip="Local do evento">
                <i class="ri-map-pin-2-line"></i>
                <span data-tooltip="Local: {{event_venue}}">{{event_venue}}</span>
            </p>
        </div>
    </div>
</a>

<!--
  @styles
  Note: Primary styles are in uni.css section 14.1-14.4
  Below are supplementary styles for this component only
-->
<style>
    /* Event Card Cutout - Type C1 Supplementary */

    /* Ensure proper cutout mask */
    .event_listing {
        --r: 14px;
        /* border-radius */
        --s: 14px;
        /* size of cutout */
        --x: 48px;
        /* horizontal position */
        --y: 42px;
        /* vertical position */
    }

    /* Picture container with mask */
    .event_listing .picture {
        position: relative;
        aspect-ratio: 16/10;
        overflow: hidden;
        border-radius: var(--r);
        mask: radial-gradient(var(--s) at var(--x) calc(100% + var(--y)), #0000 98%, #000 101%) 100% 100% / 100% no-repeat,
            linear-gradient(#000 0 0) 0 0 / calc(100% - var(--x) + var(--s)) 100% no-repeat;
        -webkit-mask: radial-gradient(var(--s) at var(--x) calc(100% + var(--y)), #0000 98%, #000 101%) 100% 100% / 100% no-repeat,
            linear-gradient(#000 0 0) 0 0 / calc(100% - var(--x) + var(--s)) 100% no-repeat;
    }

    .event_listing .picture img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        transition: transform 0.5s ease;
    }

    .event_listing:hover .picture img {
        transform: scale(1.05);
    }

    /* Date Box Styling */
    .event_listing .box-date-event {
        position: absolute;
        bottom: 0;
        left: 0;
        width: calc(var(--x) + var(--s) - 6px);
        padding: 8px 12px;
        background: var(--ap-bg-main, #fff);
        border-radius: 0 var(--r) 0 var(--r);
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        z-index: 2;
        transition: background 0.3s ease;
    }

    .event_listing .date-day {
        font-size: 1.5rem;
        font-weight: 800;
        line-height: 1;
        color: var(--ap-text-primary, #0f172a);
    }

    .event_listing .date-month {
        font-size: 0.7rem;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 0.05em;
        color: var(--ap-text-secondary, #64748b);
    }

    /* Genre Tags */
    .event_listing .event-card-tags {
        position: absolute;
        bottom: 12px;
        left: calc(var(--x) + var(--s) + 8px);
        display: flex;
        gap: 6px;
        flex-wrap: wrap;
        z-index: 2;
    }

    .event_listing .event-card-tags span {
        padding: 4px 10px;
        background: rgba(255, 255, 255, 0.9);
        backdrop-filter: blur(4px);
        border-radius: 999px;
        font-size: 10px;
        font-weight: 600;
        color: #0f172a;
    }

    /* Info Section */
    .event_listing .event-line {
        padding: 12px 0 0 0;
    }

    .event_listing .box-info-event {
        display: flex;
        flex-direction: column;
        gap: 4px;
    }

    .event_listing .event-li-title {
        font-size: 1rem;
        font-weight: 700;
        color: var(--ap-text-primary, #0f172a);
        line-height: 1.3;
        margin: 0;
    }

    .event_listing .event-li-detail {
        display: flex;
        align-items: center;
        gap: 6px;
        font-size: 0.8rem;
        color: var(--ap-text-secondary, #64748b);
        margin: 0;
    }

    .event_listing .event-li-detail i {
        font-size: 14px;
        opacity: 0.7;
    }

    .event_listing .event-li-detail.of-dj i {
        color: #8b5cf6;
    }

    .event_listing .event-li-detail.of-location i {
        color: #f97316;
    }

    .afasta-bmin {
        margin-bottom: 2px;
    }

    /* Hover Effects */
    .event_listing:hover {
        transform: translateY(-4px);
    }

    .event_listing:hover .event-li-title {
        color: var(--ap-accent, #f97316);
    }

    /* Dark Mode */
    body.dark-mode .event_listing .box-date-event {
        background: var(--ap-bg-main, #131517);
    }

    body.dark-mode .event_listing .date-day {
        color: #f1f5f9;
    }

    body.dark-mode .event_listing .event-li-title {
        color: #f1f5f9;
    }

    body.dark-mode .event_listing .event-card-tags span {
        background: rgba(15, 23, 42, 0.9);
        color: #f1f5f9;
    }
</style>