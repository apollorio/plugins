<!--
  Component: layout-dj-single-D0
  Type: D0 (First design variant)
  Description: Full page layout for DJ single page (event_dj CPT)
  Used in: single-event_dj.php template
  
  IMPORTANT: All elements MUST have data-tooltip for accessibility and UX
  NOTE: NO followers/friends count - Apollo is against ego/status culture
  
  Placeholders:
  - {{dj_id}} - DJ post ID
  - {{dj_name}} - DJ display name
  - {{dj_tagline}} - Short tagline
  - {{dj_bio}} - Full biography
  - {{dj_image_url}} - Profile/cover image
  - {{dj_music_genres}} - Array of music genres
  - {{dj_social_links}} - Array of social media links
  - {{dj_soundcloud_url}} - SoundCloud track URL
  - {{dj_upcoming_events}} - Array of upcoming events
  - {{dj_badges}} - Membership badges (use badge-* classes)
  - {{dj_verified}} - Boolean: is verified (show verified-icon)
  - {{dj_nucleos}} - Array of núcleo memberships
-->

<main class="mobile-container dj-single-layout" data-component="layout-dj-single" data-type="D0" data-dj-id="{{dj_id}}">
  
  <!-- Hero Section with Vinyl Effect -->
  <section class="dj-hero" data-tooltip="Perfil do DJ">
    <!-- Background Image with Blur -->
    <div class="dj-hero-bg">
      <img src="{{dj_image_url}}" alt="{{dj_name}}" data-tooltip="Imagem de capa">
    </div>
    
    <!-- Vinyl Record Animation -->
    <div class="vinyl-container">
      <div class="vinyl-record" id="vinylRecord" data-tooltip="Disco de vinil">
        <div class="vinyl-label">
          <img src="{{dj_image_url}}" alt="{{dj_name}}" class="vinyl-avatar">
        </div>
        <div class="vinyl-grooves"></div>
      </div>
      <div class="vinyl-arm" id="vinylArm"></div>
    </div>
    
    <!-- DJ Info Overlay -->
    <div class="dj-hero-content">
      <span class="dj-badge" data-tooltip="Tipo de artista">DJ</span>
      <h1 class="dj-name" data-tooltip="Nome do DJ">{{dj_name}}</h1>
      <p class="dj-tagline" data-tooltip="Tagline">{{dj_tagline}}</p>
      
      <!-- Music Genres -->
      <div class="dj-genres" data-tooltip="Estilos musicais">
        <template data-loop="{{dj_music_genres}}">
          <span class="genre-tag">{{genre_name}}</span>
        </template>
      </div>
    </div>
  </section>
  
  <!-- SoundCloud Player Section -->
  <section class="section dj-player-section" data-tooltip="Player de música">
    <h2 class="section-title">
      <i class="ri-music-2-line"></i>
      Tocando Agora
    </h2>
    
    <div class="vinyl-player-wrapper">
      <!-- Include block-vinyl-player-V0 here -->
      <div class="vinyl-player" id="vinylPlayer">
        <div class="player-controls">
          <button class="player-btn player-prev" id="playerPrev" data-tooltip="Faixa anterior">
            <i class="ri-skip-back-fill"></i>
          </button>
          <button class="player-btn player-play" id="playerPlay" data-tooltip="Play/Pause">
            <i class="ri-play-fill" id="playIcon"></i>
          </button>
          <button class="player-btn player-next" id="playerNext" data-tooltip="Próxima faixa">
            <i class="ri-skip-forward-fill"></i>
          </button>
        </div>
        
        <div class="player-progress">
          <span class="player-time" id="currentTime">0:00</span>
          <div class="progress-bar">
            <div class="progress-fill" id="progressFill"></div>
          </div>
          <span class="player-time" id="totalTime">0:00</span>
        </div>
        
        <div class="player-track-info">
          <span class="track-title" id="trackTitle" data-tooltip="Nome da faixa">{{current_track_title}}</span>
          <span class="track-artist" data-tooltip="Artista">{{dj_name}}</span>
        </div>
      </div>
      
      <input type="hidden" id="soundcloudUrl" value="{{dj_soundcloud_url}}">
    </div>
  </section>
  
  <!-- Biography Section -->
  <section class="section dj-bio-section">
    <h2 class="section-title" data-tooltip="Biografia do DJ">
      <i class="ri-user-line"></i>
      Sobre
    </h2>
    <div class="bio-content glass-card" data-tooltip="Bio completa">
      <p>{{dj_bio}}</p>
    </div>
  </section>
  
  <!-- Social Links -->
  <section class="section dj-social-section">
    <h2 class="section-title" data-tooltip="Redes sociais">
      <i class="ri-links-line"></i>
      Conecte-se
    </h2>
    <div class="social-links-grid" data-tooltip="Links de redes sociais">
      <template data-loop="{{dj_social_links}}">
        <a href="{{social_url}}" target="_blank" rel="noopener" class="social-link-card" data-platform="{{social_platform}}" data-tooltip="{{social_platform}}">
          <i class="ri-{{social_icon}}-fill"></i>
          <span>{{social_platform}}</span>
        </a>
      </template>
    </div>
  </section>
  
  <!-- Upcoming Events -->
  <section class="section dj-events-section">
    <h2 class="section-title" data-tooltip="Próximos eventos">
      <i class="ri-calendar-event-line"></i>
      Próximos Eventos
    </h2>
    <div class="events-timeline" data-tooltip="Timeline de eventos">
      <template data-loop="{{dj_upcoming_events}}">
        <a href="{{event_permalink}}" class="event-timeline-item">
          <div class="event-date-badge">
            <span class="event-day">{{event_day}}</span>
            <span class="event-month">{{event_month}}</span>
          </div>
          <div class="event-details">
            <h3 class="event-name" data-tooltip="{{event_title}}">{{event_title}}</h3>
            <p class="event-venue" data-tooltip="Local">
              <i class="ri-map-pin-line"></i>
              {{event_venue}}
            </p>
          </div>
          <i class="ri-arrow-right-s-line event-arrow"></i>
        </a>
      </template>
      
      <template data-if="{{dj_upcoming_events_count}} == 0">
        <p class="no-events-msg">Nenhum evento agendado</p>
      </template>
    </div>
  </section>
  
  <!-- Bottom Actions -->
  <div class="bottom-bar dj-actions">
    <button class="bottom-btn btn-follow" id="btnFollowDJ" data-dj-id="{{dj_id}}" data-tooltip="Seguir este DJ">
      <i class="ri-user-follow-line"></i>
      Seguir
    </button>
    <button class="bottom-btn btn-share" id="btnShareDJ" data-tooltip="Compartilhar perfil">
      <i class="ri-share-line"></i>
      Compartilhar
    </button>
  </div>
  
</main>

<style>
/* DJ Single Layout - Type D0 */
.dj-single-layout {
  min-height: 100vh;
  padding-bottom: 80px;
}

/* Hero Section */
.dj-hero {
  position: relative;
  height: 60vh;
  min-height: 400px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: flex-end;
  padding: 24px;
  overflow: hidden;
}

.dj-hero-bg {
  position: absolute;
  inset: 0;
  z-index: 0;
}

.dj-hero-bg img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  filter: blur(20px) brightness(0.4);
  transform: scale(1.1);
}

.dj-hero-content {
  position: relative;
  z-index: 10;
  text-align: center;
  color: white;
}

.dj-badge {
  display: inline-block;
  padding: 4px 12px;
  background: linear-gradient(135deg, #f97316, #ea580c);
  border-radius: 999px;
  font-size: 11px;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 1px;
  margin-bottom: 12px;
}

.dj-name {
  font-size: 36px;
  font-weight: 800;
  margin-bottom: 8px;
  text-shadow: 0 2px 20px rgba(0,0,0,0.5);
}

.dj-tagline {
  font-size: 16px;
  opacity: 0.9;
  margin-bottom: 16px;
}

.dj-genres {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  justify-content: center;
}

.genre-tag {
  padding: 4px 12px;
  background: rgba(255,255,255,0.2);
  backdrop-filter: blur(8px);
  border-radius: 999px;
  font-size: 12px;
  font-weight: 500;
}

/* Vinyl Container */
.vinyl-container {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -60%);
  z-index: 5;
}

.vinyl-record {
  width: 200px;
  height: 200px;
  border-radius: 50%;
  background: 
    radial-gradient(circle at center, #0a0a0a 30%, transparent 31%),
    repeating-radial-gradient(circle at center, #1a1a1a 0px, #1a1a1a 1px, #0d0d0d 2px, #0d0d0d 3px);
  box-shadow: 0 0 30px rgba(0,0,0,0.5);
  animation: spin 4s linear infinite paused;
}

.vinyl-record.playing {
  animation-play-state: running;
}

.vinyl-label {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 60px;
  height: 60px;
  border-radius: 50%;
  overflow: hidden;
  background: #f97316;
}

.vinyl-avatar {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

@keyframes spin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

/* Player Section */
.vinyl-player-wrapper {
  background: linear-gradient(135deg, #1e293b, #0f172a);
  border-radius: 16px;
  padding: 24px;
}

.player-controls {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 16px;
  margin-bottom: 16px;
}

.player-btn {
  display: flex;
  align-items: center;
  justify-content: center;
  background: transparent;
  border: none;
  color: white;
  cursor: pointer;
  transition: all 0.2s ease;
}

.player-prev,
.player-next {
  width: 40px;
  height: 40px;
  font-size: 20px;
  opacity: 0.7;
}

.player-prev:hover,
.player-next:hover {
  opacity: 1;
}

.player-play {
  width: 56px;
  height: 56px;
  background: #f97316;
  border-radius: 50%;
  font-size: 24px;
}

.player-play:hover {
  transform: scale(1.1);
  background: #ea580c;
}

.player-progress {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-bottom: 12px;
}

.player-time {
  font-size: 11px;
  color: rgba(255,255,255,0.6);
  font-variant-numeric: tabular-nums;
  min-width: 35px;
}

.progress-bar {
  flex: 1;
  height: 4px;
  background: rgba(255,255,255,0.2);
  border-radius: 2px;
  overflow: hidden;
  cursor: pointer;
}

.progress-fill {
  height: 100%;
  background: #f97316;
  width: 0%;
  transition: width 0.1s linear;
}

.player-track-info {
  text-align: center;
}

.track-title {
  display: block;
  font-size: 14px;
  font-weight: 600;
  color: white;
  margin-bottom: 4px;
}

.track-artist {
  font-size: 12px;
  color: rgba(255,255,255,0.6);
}

/* Bio Section */
.bio-content {
  background: rgba(255,255,255,0.05);
  backdrop-filter: blur(12px);
  border: 1px solid rgba(255,255,255,0.1);
  border-radius: 16px;
  padding: 20px;
}

.bio-content p {
  color: #cbd5e1;
  line-height: 1.7;
}

/* Social Links */
.social-links-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
  gap: 12px;
}

.social-link-card {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 8px;
  padding: 16px;
  background: rgba(255,255,255,0.05);
  border: 1px solid rgba(255,255,255,0.1);
  border-radius: 12px;
  text-decoration: none;
  color: white;
  transition: all 0.2s ease;
}

.social-link-card:hover {
  background: rgba(255,255,255,0.1);
  transform: translateY(-2px);
}

.social-link-card i {
  font-size: 24px;
}

.social-link-card span {
  font-size: 12px;
  opacity: 0.8;
}

.social-link-card[data-platform="instagram"] i { color: #E4405F; }
.social-link-card[data-platform="soundcloud"] i { color: #FF5500; }
.social-link-card[data-platform="spotify"] i { color: #1DB954; }
.social-link-card[data-platform="facebook"] i { color: #1877F2; }

/* Events Timeline */
.events-timeline {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.event-timeline-item {
  display: flex;
  align-items: center;
  gap: 16px;
  padding: 16px;
  background: rgba(255,255,255,0.05);
  border: 1px solid rgba(255,255,255,0.1);
  border-radius: 12px;
  text-decoration: none;
  color: white;
  transition: all 0.2s ease;
}

.event-timeline-item:hover {
  background: rgba(255,255,255,0.1);
}

.event-date-badge {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  width: 48px;
  height: 48px;
  background: #f97316;
  border-radius: 8px;
}

.event-day {
  font-size: 18px;
  font-weight: 800;
  line-height: 1;
}

.event-month {
  font-size: 10px;
  text-transform: uppercase;
  opacity: 0.9;
}

.event-details {
  flex: 1;
  min-width: 0;
}

.event-name {
  font-size: 14px;
  font-weight: 600;
  margin-bottom: 4px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.event-venue {
  font-size: 12px;
  color: rgba(255,255,255,0.6);
  display: flex;
  align-items: center;
  gap: 4px;
}

.event-arrow {
  font-size: 20px;
  opacity: 0.5;
}

.no-events-msg {
  text-align: center;
  color: rgba(255,255,255,0.5);
  padding: 24px;
}

/* Bottom Bar */
.dj-actions {
  display: flex;
  gap: 12px;
  justify-content: center;
}

.btn-follow {
  background: #f97316;
  flex: 1;
}

.btn-share {
  background: rgba(255,255,255,0.1);
  flex: 1;
}

/* Responsive */
@media (min-width: 768px) {
  .dj-hero {
    height: 70vh;
  }
  
  .dj-name {
    font-size: 48px;
  }
  
  .vinyl-record {
    width: 280px;
    height: 280px;
  }
  
  .vinyl-label {
    width: 80px;
    height: 80px;
  }
}
</style>

