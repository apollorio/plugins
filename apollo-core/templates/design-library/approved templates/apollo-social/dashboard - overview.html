<html lang="pt-BR">

<head>
  <link rel="stylesheet" href="https://assets.apollo.rio.br/uni.css" data-apollo-uni="">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Apollo :: Dashboard</title>

  <!-- UNI.CSS Global Design System -->
  <link rel="stylesheet" href="https://assets.apollo.rio.br/uni.css">
  <script src="https://assets.apollo.rio.br/base.js" defer=""></script>

  <!-- RemixIcon -->
  <script src="https://assets.apollo.rio.br/icon.js" defer></script>

  <!-- Chart.js for Analytics -->
  <script src="https://assets.apollo.rio.br/npm/chart.js@4.4.1/chart.umd.min.js"></script>
  <script src="https://assets.apollo.rio.br/icon.js" defer=""></script>
  <script src="https://assets.apollo.rio.br/dark-mode.js" defer=""></script>
  <script src="https://assets.apollo.rio.br/clock.js" defer=""></script>
  <style>
    i[class] {
      display: inline-block;
      width: 1em;
      height: 1em;
      background-color: currentColor;
      mask-size: contain;
      mask-repeat: no-repeat;
      mask-position: center;
      -webkit-mask-size: contain;
      -webkit-mask-repeat: no-repeat;
      -webkit-mask-position: center;
    }
  </style>
  <style>
    .ri-rocket-2-fill {
      mask-image: url(https://assets.apollo.rio.br/i/rocket-2-s.svg);
      -webkit-mask-image: url(https://assets.apollo.rio.br/i/rocket-2-s.svg);
    }
  </style>
  <style>
    .ri-moon-line {
      mask-image: url(https://assets.apollo.rio.br/i/moon-v.svg);
      -webkit-mask-image: url(https://assets.apollo.rio.br/i/moon-v.svg);
    }
  </style>
  <style>
    .ri-notification-3-line {
      mask-image: url(https://assets.apollo.rio.br/i/notification-3-v.svg);
      -webkit-mask-image: url(https://assets.apollo.rio.br/i/notification-3-v.svg);
    }
  </style>
  <style>
    .ri-dashboard-3-line {
      mask-image: url(https://assets.apollo.rio.br/i/dashboard-3-v.svg);
      -webkit-mask-image: url(https://assets.apollo.rio.br/i/dashboard-3-v.svg);
    }
  </style>
  <style>
    .ri-task-line {
      mask-image: url(https://assets.apollo.rio.br/i/task-v.svg);
      -webkit-mask-image: url(https://assets.apollo.rio.br/i/task-v.svg);
    }
  </style>
  <style>
    .ri-bar-chart-2-line {
      mask-image: url(https://assets.apollo.rio.br/i/bar-chart-2-v.svg);
      -webkit-mask-image: url(https://assets.apollo.rio.br/i/bar-chart-2-v.svg);
    }
  </style>
  <style>
    .ri-git-branch-line {
      mask-image: url(https://assets.apollo.rio.br/i/git-branch-v.svg);
      -webkit-mask-image: url(https://assets.apollo.rio.br/i/git-branch-v.svg);
    }
  </style>
  <style>
    .ri-calendar-schedule-line {
      mask-image: url(https://assets.apollo.rio.br/i/calendar-schedule-v.svg);
      -webkit-mask-image: url(https://assets.apollo.rio.br/i/calendar-schedule-v.svg);
    }
  </style>
  <style>
    .ri-team-line {
      mask-image: url(https://assets.apollo.rio.br/i/team-v.svg);
      -webkit-mask-image: url(https://assets.apollo.rio.br/i/team-v.svg);
    }
  </style>
  <style>
    .ri-cpu-line {
      mask-image: url(https://assets.apollo.rio.br/i/cpu-v.svg);
      -webkit-mask-image: url(https://assets.apollo.rio.br/i/cpu-v.svg);
    }
  </style>
  <style>
    .ri-menu-line {
      mask-image: url(https://assets.apollo.rio.br/i/menu-v.svg);
      -webkit-mask-image: url(https://assets.apollo.rio.br/i/menu-v.svg);
    }
  </style>
  <style>
    .ri-calendar-event-line {
      mask-image: url(https://assets.apollo.rio.br/i/calendar-event-v.svg);
      -webkit-mask-image: url(https://assets.apollo.rio.br/i/calendar-event-v.svg);
    }
  </style>
  <style>
    .ri-arrow-up-line {
      mask-image: url(https://assets.apollo.rio.br/i/arrow-up-v.svg);
      -webkit-mask-image: url(https://assets.apollo.rio.br/i/arrow-up-v.svg);
    }
  </style>
  <style>
    .ri-checkbox-circle-line {
      mask-image: url(https://assets.apollo.rio.br/i/checkbox-circle-v.svg);
      -webkit-mask-image: url(https://assets.apollo.rio.br/i/checkbox-circle-v.svg);
    }
  </style>
  <style>
    .ri-group-line {
      mask-image: url(https://assets.apollo.rio.br/i/group-v.svg);
      -webkit-mask-image: url(https://assets.apollo.rio.br/i/group-v.svg);
    }
  </style>
  <style>
    .ri-alarm-warning-line {
      mask-image: url(https://assets.apollo.rio.br/i/alarm-warning-v.svg);
      -webkit-mask-image: url(https://assets.apollo.rio.br/i/alarm-warning-v.svg);
    }
  </style>
  <style>
    .ri-error-warning-line {
      mask-image: url(https://assets.apollo.rio.br/i/error-warning-v.svg);
      -webkit-mask-image: url(https://assets.apollo.rio.br/i/error-warning-v.svg);
    }
  </style>
  <style>
    .ri-file-text-line {
      mask-image: url(https://assets.apollo.rio.br/i/file-text-v.svg);
      -webkit-mask-image: url(https://assets.apollo.rio.br/i/file-text-v.svg);
    }
  </style>
  <style>
    .ri-check-line {
      mask-image: url(https://assets.apollo.rio.br/i/check-v.svg);
      -webkit-mask-image: url(https://assets.apollo.rio.br/i/check-v.svg);
    }
  </style>
  <style>
    .ri-chat-3-line {
      mask-image: url(https://assets.apollo.rio.br/i/chat-3-v.svg);
      -webkit-mask-image: url(https://assets.apollo.rio.br/i/chat-3-v.svg);
    }
  </style>
  <style>
    .ri-user-add-line {
      mask-image: url(https://assets.apollo.rio.br/i/user-add-v.svg);
      -webkit-mask-image: url(https://assets.apollo.rio.br/i/user-add-v.svg);
    }
  </style>
  <style>
    .ri-add-line {
      mask-image: url(https://assets.apollo.rio.br/i/add-v.svg);
      -webkit-mask-image: url(https://assets.apollo.rio.br/i/add-v.svg);
    }
  </style>
  <style>
    .ri-search-line {
      mask-image: url(https://assets.apollo.rio.br/i/search-v.svg);
      -webkit-mask-image: url(https://assets.apollo.rio.br/i/search-v.svg);
    }
  </style>
  <style>
    .ri-time-line {
      mask-image: url(https://assets.apollo.rio.br/i/time-v.svg);
      -webkit-mask-image: url(https://assets.apollo.rio.br/i/time-v.svg);
    }
  </style>
  <style>
    .ri-line-chart-line {
      mask-image: url(https://assets.apollo.rio.br/i/line-chart-v.svg);
      -webkit-mask-image: url(https://assets.apollo.rio.br/i/line-chart-v.svg);
    }
  </style>
  <style>
    .ri-money-dollar-circle-line {
      mask-image: url(https://assets.apollo.rio.br/i/money-dollar-circle-v.svg);
      -webkit-mask-image: url(https://assets.apollo.rio.br/i/money-dollar-circle-v.svg);
    }
  </style>
  <style>
    .ri-download-line {
      mask-image: url(https://assets.apollo.rio.br/i/download-v.svg);
      -webkit-mask-image: url(https://assets.apollo.rio.br/i/download-v.svg);
    }
  </style>
  <style>
    .ri-zoom-out-line {
      mask-image: url(https://assets.apollo.rio.br/i/zoom-out-v.svg);
      -webkit-mask-image: url(https://assets.apollo.rio.br/i/zoom-out-v.svg);
    }
  </style>
  <style>
    .ri-zoom-in-line {
      mask-image: url(https://assets.apollo.rio.br/i/zoom-in-v.svg);
      -webkit-mask-image: url(https://assets.apollo.rio.br/i/zoom-in-v.svg);
    }
  </style>
  <style>
    .ri-arrow-left-s-line {
      mask-image: url(https://assets.apollo.rio.br/i/arrow-left-s-v.svg);
      -webkit-mask-image: url(https://assets.apollo.rio.br/i/arrow-left-s-v.svg);
    }
  </style>
  <style>
    .ri-arrow-right-s-line {
      mask-image: url(https://assets.apollo.rio.br/i/arrow-right-s-v.svg);
      -webkit-mask-image: url(https://assets.apollo.rio.br/i/arrow-right-s-v.svg);
    }
  </style>
  <style>
    .ri-arrow-down-s-line {
      mask-image: url(https://assets.apollo.rio.br/i/arrow-down-s-v.svg);
      -webkit-mask-image: url(https://assets.apollo.rio.br/i/arrow-down-s-v.svg);
    }
  </style>
  <style>
    .ri-vidicon-line {
      mask-image: url(https://assets.apollo.rio.br/i/vidicon-v.svg);
      -webkit-mask-image: url(https://assets.apollo.rio.br/i/vidicon-v.svg);
    }
  </style>
  <style>
    .ri-phone-line {
      mask-image: url(https://assets.apollo.rio.br/i/phone-v.svg);
      -webkit-mask-image: url(https://assets.apollo.rio.br/i/phone-v.svg);
    }
  </style>
  <style>
    .ri-emotion-line {
      mask-image: url(https://assets.apollo.rio.br/i/emotion-v.svg);
      -webkit-mask-image: url(https://assets.apollo.rio.br/i/emotion-v.svg);
    }
  </style>
  <style>
    .ri-send-plane-fill {
      mask-image: url(https://assets.apollo.rio.br/i/send-plane-s.svg);
      -webkit-mask-image: url(https://assets.apollo.rio.br/i/send-plane-s.svg);
    }
  </style>
  <style>
    .ri-close-line {
      mask-image: url(https://assets.apollo.rio.br/i/close-v.svg);
      -webkit-mask-image: url(https://assets.apollo.rio.br/i/close-v.svg);
    }
  </style>
</head>

<body class="ap-dashboard-body">
  <div id="app" class="ap-dashboard">

    <!-- ====================================================================
         [HEADER] Top Navigation Bar
         PHP: get_template_part('templates/auth/parts/header')
         ==================================================================== -->
    <header class="ap-dash-header">
      <div class="ap-dash-header-inner">
        <!-- Logo -->
        <div class="ap-dash-logo">
          <a href="/" class="ap-logo-link">
            <div class="ap-logo-icon">
              <i class="ri-rocket-2-fill"></i>
            </div>
            <span class="ap-logo-text">Apollo<span class="ap-logo-accent">::</span>Dashboard</span>
          </a>
        </div>

        <!-- Right Actions -->
        <div class="ap-dash-actions">
          <!-- Dark Mode Toggle -->
          <!-- @PHP: Use apollo_dark_mode_toggle() -->
          <button class="ap-btn-icon ap-dark-mode-toggle" data-ap-tooltip="Alternar tema">
            <i class="ri-moon-line"></i>
          </button>

          <!-- Notifications -->
          <!-- @PHP: apollo_notifications_bell($user_id) -->
          <button class="ap-btn-icon ap-notifications-btn" data-ap-tooltip="Notificações">
            <i class="ri-notification-3-line"></i>
            <span class="ap-notification-badge">3</span>
          </button>

          <!-- User Menu -->
          <!-- @PHP: $avatar_url = get_avatar_url($user_id, ['size' => 64]) -->
          <div class="ap-user-menu">
            <button class="ap-user-menu-trigger">
              <div class="ap-avatar ap-avatar-sm">
                <!-- @PHP: echo get_avatar($user_id, 32) -->
                <span>AP</span>
              </div>
            </button>
          </div>
        </div>
      </div>
    </header>

    <!-- Main App Layout -->
    <div class="ap-dash-layout">

      <!-- ====================================================================
           [SIDEBAR] Left Navigation
           ==================================================================== -->


      <!-- Mobile Sidebar Toggle -->
      <button class="ap-mobile-sidebar-toggle" id="mobileSidebarToggle">
        <i class="ri-menu-line"></i>
      </button>

      <!-- ====================================================================
           [CONTENT] Main Content Area
           ==================================================================== -->
      <main class="ap-dash-content">

        <!-- ================================================================
             TAB: DASHBOARD (Overview)
             ================================================================ -->
        <div id="dashboard" class="ap-tab-content active">
          <div class="ap-page-header">
            <h1 class="ap-heading-1">Dashboard</h1>
            <!-- @PHP: echo 'Bem-vindo(a), ' . esc_html($current_user->display_name) -->
            <p class="ap-text-muted">Bem-vindo(a) de volta, Apollo User</p>
          </div>

          <!-- Stats Grid -->
          <!-- @PHP: foreach($stats as $stat) -->
          <div class="ap-stats-grid">
            <!-- Stat Card 1: Events in Progress -->
            <div class="ap-stat-card">
              <div class="ap-stat-header">
                <div class="ap-stat-info">
                  <p class="ap-stat-label">Eventos em Andamento</p>
                  <!-- @PHP: echo esc_html($stats['events_in_progress']) -->
                  <p class="ap-stat-value">8</p>
                </div>
                <div class="ap-stat-icon ap-stat-icon-blue">
                  <i class="ri-calendar-event-line"></i>
                </div>
              </div>
              <div class="ap-stat-footer">
                <span class="ap-stat-change ap-stat-change-up">
                  <i class="ri-arrow-up-line"></i> 12%
                </span>
                <span class="ap-stat-period">vs semana passada</span>
              </div>
            </div>

            <!-- Stat Card 2: Completed Tasks -->
            <div class="ap-stat-card">
              <div class="ap-stat-header">
                <div class="ap-stat-info">
                  <p class="ap-stat-label">Tarefas Concluídas</p>
                  <p class="ap-stat-value">21</p>
                </div>
                <div class="ap-stat-icon ap-stat-icon-green">
                  <i class="ri-checkbox-circle-line"></i>
                </div>
              </div>
              <div class="ap-stat-footer">
                <span class="ap-stat-change ap-stat-change-up">
                  <i class="ri-arrow-up-line"></i> 8%
                </span>
                <span class="ap-stat-period">vs semana passada</span>
              </div>
            </div>

            <!-- Stat Card 3: Team Members -->
            <div class="ap-stat-card">
              <div class="ap-stat-header">
                <div class="ap-stat-info">
                  <p class="ap-stat-label">Membros da Equipe</p>
                  <p class="ap-stat-value">12</p>
                </div>
                <div class="ap-stat-icon ap-stat-icon-purple">
                  <i class="ri-group-line"></i>
                </div>
              </div>
              <div class="ap-stat-footer">
                <span class="ap-stat-change ap-stat-change-up">
                  <i class="ri-arrow-up-line"></i> 2
                </span>
                <span class="ap-stat-period">novos este mês</span>
              </div>
            </div>

            <!-- Stat Card 4: Upcoming Deadlines -->
            <div class="ap-stat-card">
              <div class="ap-stat-header">
                <div class="ap-stat-info">
                  <p class="ap-stat-label">Próximos Prazos</p>
                  <p class="ap-stat-value">5</p>
                </div>
                <div class="ap-stat-icon ap-stat-icon-red">
                  <i class="ri-alarm-warning-line"></i>
                </div>
              </div>
              <div class="ap-stat-footer">
                <span class="ap-stat-change ap-stat-change-warning">
                  <i class="ri-error-warning-line"></i> 2
                </span>
                <span class="ap-stat-period">urgentes (&lt; 2 dias)</span>
              </div>
            </div>
          </div>

          <!-- Progress & Activity Row -->
          <div class="ap-dash-row">
            <!-- Progress Chart -->
            <div class="ap-card ap-card-chart">
              <div class="ap-card-header">
                <h2 class="ap-card-title">Progresso dos Projetos</h2>
                <select class="ap-select-mini">
                  <option>Últimos 7 dias</option>
                  <option>Últimos 30 dias</option>
                  <option>Últimos 90 dias</option>
                </select>
              </div>
              <div class="ap-card-body">
                <canvas id="progressChart" height="496" width="1884"
                  style="display: block; box-sizing: border-box; height: 248px; width: 942px;"></canvas>
              </div>
            </div>

            <!-- Activity Feed -->
            <div class="ap-card ap-card-activity">
              <div class="ap-card-header">
                <h2 class="ap-card-title">Atividade Recente</h2>
                <button class="ap-btn-text">Ver tudo</button>
              </div>
              <div class="ap-card-body">
                <!-- @LOOP: ACTIVITY_ITEMS -->
                <div class="ap-activity-feed">
                  <div class="ap-activity-item">
                    <div class="ap-activity-icon ap-activity-icon-blue">
                      <i class="ri-file-text-line"></i>
                    </div>
                    <div class="ap-activity-content">
                      <p class="ap-activity-text"><strong>Sarah</strong> criou "Plano de Marketing Q4"</p>
                      <span class="ap-activity-time">2 horas atrás</span>
                    </div>
                  </div>
                  <div class="ap-activity-item">
                    <div class="ap-activity-icon ap-activity-icon-green">
                      <i class="ri-check-line"></i>
                    </div>
                    <div class="ap-activity-content">
                      <p class="ap-activity-text"><strong>Mike</strong> concluiu "Atualizar Documentação"</p>
                      <span class="ap-activity-time">3 horas atrás</span>
                    </div>
                  </div>
                  <div class="ap-activity-item">
                    <div class="ap-activity-icon ap-activity-icon-yellow">
                      <i class="ri-chat-3-line"></i>
                    </div>
                    <div class="ap-activity-content">
                      <p class="ap-activity-text"><strong>Jennifer</strong> comentou em "Redesign do Site"</p>
                      <span class="ap-activity-time">5 horas atrás</span>
                    </div>
                  </div>
                  <div class="ap-activity-item">
                    <div class="ap-activity-icon ap-activity-icon-purple">
                      <i class="ri-user-add-line"></i>
                    </div>
                    <div class="ap-activity-content">
                      <p class="ap-activity-text"><strong>Alex</strong> entrou no projeto "App Mobile"</p>
                      <span class="ap-activity-time">1 dia atrás</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- ================================================================
             TAB: TASKS (Kanban Board)
             ================================================================ -->
        <div id="tasks" class="ap-tab-content">
          <div class="ap-page-header">
            <div>
              <h1 class="ap-heading-1">Tarefas</h1>
              <p class="ap-text-muted">Organize e acompanhe suas tarefas</p>
            </div>
            <button class="ap-btn ap-btn-primary" id="addTaskBtn" data-ap-tooltip="Criar nova tarefa">
              <i class="ri-add-line"></i>
              <span>Nova Tarefa</span>
            </button>
          </div>

          <!-- Filters -->
          <div class="ap-filters-bar">
            <div class="ap-search-form">
              <i class="ri-search-line"></i>
              <input type="text" class="ap-search-input" placeholder="Buscar tarefas...">
            </div>
            <div class="ap-filters-group">
              <select class="ap-select">
                <option>Todas Categorias</option>
                <option>Desenvolvimento</option>
                <option>Design</option>
                <option>Marketing</option>
              </select>
              <select class="ap-select">
                <option>Todas Prioridades</option>
                <option>Alta</option>
                <option>Média</option>
                <option>Baixa</option>
              </select>
            </div>
          </div>

          <!-- Kanban Board -->
          <div class="ap-kanban">
            <!-- Column: To Do -->
            <div class="ap-kanban-column" data-column="todo">
              <div class="ap-kanban-header">
                <span class="ap-kanban-status ap-status-blue"></span>
                <h3>A Fazer</h3>
                <span class="ap-kanban-count">4</span>
              </div>
              <div class="ap-kanban-tasks">
                <!-- @LOOP: TASKS where status = 'todo' -->
                <div class="ap-task-card" draggable="true" data-task-id="1">
                  <div class="ap-task-header">
                    <span class="ap-badge ap-badge-dev">Desenvolvimento</span>
                    <span class="ap-task-priority ap-priority-high">Alta</span>
                  </div>
                  <h4 class="ap-task-title">Integração com API</h4>
                  <p class="ap-task-desc">Integrar gateway de pagamento com checkout</p>
                  <div class="ap-task-footer">
                    <div class="ap-avatar-stack">
                      <div class="ap-avatar ap-avatar-xs" style="background: #6366f1;">MJ</div>
                    </div>
                    <span class="ap-task-due">Vence em 2 dias</span>
                  </div>
                </div>

                <div class="ap-task-card" draggable="true" data-task-id="2">
                  <div class="ap-task-header">
                    <span class="ap-badge ap-badge-design">Design</span>
                    <span class="ap-task-priority ap-priority-medium">Média</span>
                  </div>
                  <h4 class="ap-task-title">Mockup Dashboard</h4>
                  <p class="ap-task-desc">Criar mockups do dashboard de analytics</p>
                  <div class="ap-task-footer">
                    <div class="ap-avatar-stack">
                      <div class="ap-avatar ap-avatar-xs" style="background: #ec4899;">AK</div>
                    </div>
                    <span class="ap-task-due">Vence em 3 dias</span>
                  </div>
                </div>
              </div>
            </div>

            <!-- Column: In Progress -->
            <div class="ap-kanban-column" data-column="in-progress">
              <div class="ap-kanban-header">
                <span class="ap-kanban-status ap-status-yellow"></span>
                <h3>Em Progresso</h3>
                <span class="ap-kanban-count">3</span>
              </div>
              <div class="ap-kanban-tasks">
                <div class="ap-task-card" draggable="true" data-task-id="3">
                  <div class="ap-task-header">
                    <span class="ap-badge ap-badge-dev">Desenvolvimento</span>
                    <span class="ap-task-priority ap-priority-high">Alta</span>
                  </div>
                  <h4 class="ap-task-title">Autenticação OAuth 2.0</h4>
                  <p class="ap-task-desc">Implementar fluxo OAuth completo</p>
                  <div class="ap-task-footer">
                    <div class="ap-avatar-stack">
                      <div class="ap-avatar ap-avatar-xs" style="background: #ef4444;">RS</div>
                    </div>
                    <span class="ap-task-due ap-due-urgent">Vence amanhã</span>
                  </div>
                </div>

                <div class="ap-task-card" draggable="true" data-task-id="4">
                  <div class="ap-task-header">
                    <span class="ap-badge ap-badge-design">Design</span>
                    <span class="ap-task-priority ap-priority-medium">Média</span>
                  </div>
                  <h4 class="ap-task-title">Design Responsivo Mobile</h4>
                  <p class="ap-task-desc">Ajustar layout para dispositivos móveis</p>
                  <div class="ap-task-footer">
                    <div class="ap-avatar-stack">
                      <div class="ap-avatar ap-avatar-xs" style="background: #ec4899;">AK</div>
                    </div>
                    <span class="ap-task-due">Vence em 4 dias</span>
                  </div>
                </div>
              </div>
            </div>

            <!-- Column: Completed -->
            <div class="ap-kanban-column" data-column="completed">
              <div class="ap-kanban-header">
                <span class="ap-kanban-status ap-status-green"></span>
                <h3>Concluído</h3>
                <span class="ap-kanban-count">3</span>
              </div>
              <div class="ap-kanban-tasks">
                <div class="ap-task-card" draggable="true" data-task-id="5">
                  <div class="ap-task-header">
                    <span class="ap-badge ap-badge-design">Design</span>
                    <span class="ap-task-priority ap-priority-high">Alta</span>
                  </div>
                  <h4 class="ap-task-title">Design Landing Page</h4>
                  <p class="ap-task-desc">Nova landing page para lançamento</p>
                  <div class="ap-task-footer">
                    <div class="ap-avatar-stack">
                      <div class="ap-avatar ap-avatar-xs" style="background: #ec4899;">AK</div>
                    </div>
                    <span class="ap-task-due ap-due-complete">Concluído</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- ================================================================
             TAB: ANALYTICS
             ================================================================ -->
        <div id="analytics" class="ap-tab-content">
          <div class="ap-page-header">
            <h1 class="ap-heading-1">Analytics</h1>
            <p class="ap-text-muted">Acompanhe o desempenho da equipe e progresso dos projetos</p>
          </div>

          <!-- Analytics Stats -->
          <div class="ap-stats-grid">
            <div class="ap-stat-card">
              <div class="ap-stat-header">
                <div class="ap-stat-info">
                  <p class="ap-stat-label">Tarefas Concluídas</p>
                  <p class="ap-stat-value">68%</p>
                </div>
                <div class="ap-stat-icon ap-stat-icon-green">
                  <i class="ri-task-line"></i>
                </div>
              </div>
              <div class="ap-progress-bar">
                <div class="ap-progress-value ap-progress-green" style="width: 68%"></div>
              </div>
            </div>

            <div class="ap-stat-card">
              <div class="ap-stat-header">
                <div class="ap-stat-info">
                  <p class="ap-stat-label">Tempo Investido</p>
                  <p class="ap-stat-value">126h</p>
                </div>
                <div class="ap-stat-icon ap-stat-icon-blue">
                  <i class="ri-time-line"></i>
                </div>
              </div>
              <div class="ap-stat-footer">
                <span class="ap-stat-change ap-stat-change-up">
                  <i class="ri-arrow-up-line"></i> 12%
                </span>
                <span class="ap-stat-period">vs mês passado</span>
              </div>
            </div>

            <div class="ap-stat-card">
              <div class="ap-stat-header">
                <div class="ap-stat-info">
                  <p class="ap-stat-label">Produtividade</p>
                  <p class="ap-stat-value">85%</p>
                </div>
                <div class="ap-stat-icon ap-stat-icon-purple">
                  <i class="ri-line-chart-line"></i>
                </div>
              </div>
              <div class="ap-progress-bar">
                <div class="ap-progress-value ap-progress-purple" style="width: 85%"></div>
              </div>
            </div>

            <div class="ap-stat-card">
              <div class="ap-stat-header">
                <div class="ap-stat-info">
                  <p class="ap-stat-label">Orçamento Usado</p>
                  <p class="ap-stat-value">R$ 12.450</p>
                </div>
                <div class="ap-stat-icon ap-stat-icon-yellow">
                  <i class="ri-money-dollar-circle-line"></i>
                </div>
              </div>
              <div class="ap-stat-footer">
                <span class="ap-stat-change ap-stat-change-warning">
                  <i class="ri-arrow-up-line"></i> 8%
                </span>
                <span class="ap-stat-period">vs projetado</span>
              </div>
            </div>
          </div>

          <!-- Charts Row -->
          <div class="ap-dash-row">
            <div class="ap-card ap-card-chart">
              <div class="ap-card-header">
                <h2 class="ap-card-title">Taxa de Conclusão de Tarefas</h2>
                <select class="ap-select-mini">
                  <option>Últimos 7 dias</option>
                  <option>Últimos 30 dias</option>
                </select>
              </div>
              <div class="ap-card-body">
                <canvas id="tasksCompletionChart" height="0"
                  style="display: block; box-sizing: border-box; height: 0px; width: 0px;" width="0"></canvas>
              </div>
            </div>

            <div class="ap-card ap-card-chart">
              <div class="ap-card-header">
                <h2 class="ap-card-title">Alocação de Recursos</h2>
                <select class="ap-select-mini">
                  <option>Todos Projetos</option>
                  <option>Site Redesign</option>
                  <option>App Mobile</option>
                </select>
              </div>
              <div class="ap-card-body">
                <canvas id="resourceAllocationChart" height="0"
                  style="display: block; box-sizing: border-box; height: 0px; width: 0px;" width="0"></canvas>
              </div>
            </div>
          </div>

          <!-- Team Performance Table -->
          <div class="ap-card">
            <div class="ap-card-header">
              <h2 class="ap-card-title">Desempenho da Equipe</h2>
              <button class="ap-btn ap-btn-outline-sm">
                <i class="ri-download-line"></i> Exportar
              </button>
            </div>
            <div class="ap-card-body ap-card-body-flush">
              <div class="ap-table-responsive">
                <table class="ap-table">
                  <thead>
                    <tr>
                      <th>Membro</th>
                      <th>Tarefas</th>
                      <th>Pontualidade</th>
                      <th>Horas</th>
                      <th>Score</th>
                    </tr>
                  </thead>
                  <tbody>
                    <!-- @LOOP: TEAM_MEMBERS -->
                    <tr>
                      <td>
                        <div class="ap-table-user">
                          <div class="ap-avatar ap-avatar-sm" style="background: #6366f1;">MJ</div>
                          <div>
                            <strong>Michael Johnson</strong>
                            <span>Desenvolvedor</span>
                          </div>
                        </div>
                      </td>
                      <td>
                        <span class="ap-text-bold">42 / 45</span>
                        <span class="ap-text-muted">93%</span>
                      </td>
                      <td><span class="ap-text-success">98%</span></td>
                      <td>132h</td>
                      <td>
                        <div class="ap-score-bar">
                          <span>92</span>
                          <div class="ap-progress-bar ap-progress-mini">
                            <div class="ap-progress-value ap-progress-green" style="width: 92%"></div>
                          </div>
                        </div>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <div class="ap-table-user">
                          <div class="ap-avatar ap-avatar-sm" style="background: #ec4899;">AK</div>
                          <div>
                            <strong>Anna Kim</strong>
                            <span>Designer</span>
                          </div>
                        </div>
                      </td>
                      <td>
                        <span class="ap-text-bold">38 / 40</span>
                        <span class="ap-text-muted">95%</span>
                      </td>
                      <td><span class="ap-text-success">94%</span></td>
                      <td>112h</td>
                      <td>
                        <div class="ap-score-bar">
                          <span>89</span>
                          <div class="ap-progress-bar ap-progress-mini">
                            <div class="ap-progress-value ap-progress-green" style="width: 89%"></div>
                          </div>
                        </div>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <div class="ap-table-user">
                          <div class="ap-avatar ap-avatar-sm" style="background: #a855f7;">SL</div>
                          <div>
                            <strong>Sarah Lee</strong>
                            <span>Marketing</span>
                          </div>
                        </div>
                      </td>
                      <td>
                        <span class="ap-text-bold">31 / 35</span>
                        <span class="ap-text-muted">89%</span>
                      </td>
                      <td><span class="ap-text-warning">85%</span></td>
                      <td>98h</td>
                      <td>
                        <div class="ap-score-bar">
                          <span>81</span>
                          <div class="ap-progress-bar ap-progress-mini">
                            <div class="ap-progress-value ap-progress-yellow" style="width: 81%"></div>
                          </div>
                        </div>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>

        <!-- ================================================================
             TAB: RESOURCES
             ================================================================ -->
        <div id="resources" class="ap-tab-content">
          <div class="ap-page-header">
            <h1 class="ap-heading-1">Recursos</h1>
            <p class="ap-text-muted">Aloque e monitore recursos de forma eficiente</p>
          </div>

          <!-- Resources Table -->
          <div class="ap-card">
            <div class="ap-card-header">
              <h2 class="ap-card-title">Alocação por Projeto</h2>
              <button class="ap-btn ap-btn-primary">
                <i class="ri-add-line"></i> Alocar Recursos
              </button>
            </div>
            <div class="ap-card-body ap-card-body-flush">
              <div class="ap-table-responsive">
                <table class="ap-table">
                  <thead>
                    <tr>
                      <th>Projeto</th>
                      <th>Equipe</th>
                      <th>Orçamento</th>
                      <th>Timeline</th>
                      <th>Status</th>
                      <th>Ações</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td>
                        <div>
                          <strong>Redesign do Site</strong>
                          <span class="ap-text-muted">Frontend overhaul</span>
                        </div>
                      </td>
                      <td>
                        <div class="ap-avatar-stack">
                          <div class="ap-avatar ap-avatar-xs" style="background: #6366f1;">MJ</div>
                          <div class="ap-avatar ap-avatar-xs" style="background: #ec4899;">AK</div>
                          <div class="ap-avatar ap-avatar-xs ap-avatar-more">+2</div>
                        </div>
                      </td>
                      <td>
                        <div>
                          <span class="ap-text-bold">R$ 25.000</span>
                          <span class="ap-text-muted">R$ 18.500 gastos</span>
                          <div class="ap-progress-bar ap-progress-mini">
                            <div class="ap-progress-value ap-progress-yellow" style="width: 74%"></div>
                          </div>
                        </div>
                      </td>
                      <td>
                        <div>
                          <span>15 Mai - 30 Jul</span>
                          <span class="ap-text-muted">15 dias restantes</span>
                        </div>
                      </td>
                      <td><span class="ap-badge ap-badge-warning">Em Progresso</span></td>
                      <td><button class="ap-btn-text">Ver Detalhes</button></td>
                    </tr>
                    <tr>
                      <td>
                        <div>
                          <strong>App Mobile</strong>
                          <span class="ap-text-muted">iOS e Android</span>
                        </div>
                      </td>
                      <td>
                        <div class="ap-avatar-stack">
                          <div class="ap-avatar ap-avatar-xs" style="background: #ef4444;">RS</div>
                          <div class="ap-avatar ap-avatar-xs" style="background: #6366f1;">MJ</div>
                          <div class="ap-avatar ap-avatar-xs" style="background: #3b82f6;">TW</div>
                        </div>
                      </td>
                      <td>
                        <div>
                          <span class="ap-text-bold">R$ 42.000</span>
                          <span class="ap-text-muted">R$ 12.600 gastos</span>
                          <div class="ap-progress-bar ap-progress-mini">
                            <div class="ap-progress-value ap-progress-green" style="width: 30%"></div>
                          </div>
                        </div>
                      </td>
                      <td>
                        <div>
                          <span>1 Jun - 31 Out</span>
                          <span class="ap-text-muted">108 dias restantes</span>
                        </div>
                      </td>
                      <td><span class="ap-badge ap-badge-info">Planejamento</span></td>
                      <td><button class="ap-btn-text">Ver Detalhes</button></td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>

          <!-- Utilization Charts -->
          <div class="ap-dash-row">
            <div class="ap-card ap-card-chart">
              <div class="ap-card-header">
                <h2 class="ap-card-title">Utilização da Equipe</h2>
                <select class="ap-select-mini">
                  <option>Este Mês</option>
                  <option>Mês Passado</option>
                </select>
              </div>
              <div class="ap-card-body">
                <canvas id="teamUtilizationChart" height="0"
                  style="display: block; box-sizing: border-box; height: 0px; width: 0px;" width="0"></canvas>
              </div>
            </div>

            <div class="ap-card ap-card-chart">
              <div class="ap-card-header">
                <h2 class="ap-card-title">Utilização do Orçamento</h2>
                <select class="ap-select-mini">
                  <option>Todos Projetos</option>
                </select>
              </div>
              <div class="ap-card-body">
                <canvas id="budgetUtilizationChart" height="0"
                  style="display: block; box-sizing: border-box; height: 0px; width: 0px;" width="0"></canvas>
              </div>
            </div>
          </div>
        </div>

        <!-- ================================================================
             TAB: GANTT
             ================================================================ -->
        <div id="gantt" class="ap-tab-content">
          <div class="ap-page-header">
            <div>
              <h1 class="ap-heading-1">Cronograma</h1>
              <p class="ap-text-muted">Visualize timelines e dependências dos projetos</p>
            </div>
            <div class="ap-gantt-controls">
              <button class="ap-btn ap-btn-primary">
                <i class="ri-add-line"></i> Nova Tarefa
              </button>
              <select class="ap-select">
                <option>Todos Projetos</option>
                <option>Redesign do Site</option>
                <option>App Mobile</option>
              </select>
            </div>
          </div>

          <!-- Gantt Chart -->
          <div class="ap-card ap-card-gantt">
            <div class="ap-gantt-toolbar">
              <div class="ap-gantt-zoom">
                <span>Zoom:</span>
                <button class="ap-btn-icon-sm"><i class="ri-zoom-out-line"></i></button>
                <button class="ap-btn-icon-sm"><i class="ri-zoom-in-line"></i></button>
              </div>
              <div class="ap-gantt-nav">
                <button class="ap-btn-icon-sm"><i class="ri-arrow-left-s-line"></i></button>
                <span class="ap-gantt-period">Julho 2024</span>
                <button class="ap-btn-icon-sm"><i class="ri-arrow-right-s-line"></i></button>
              </div>
              <select class="ap-select-mini">
                <option>Dias</option>
                <option>Semanas</option>
                <option>Meses</option>
              </select>
            </div>

            <div class="ap-gantt-container">
              <!-- Gantt Header (Days) -->
              <div class="ap-gantt-header-row">
                <div class="ap-gantt-task-col"></div>
                <div class="ap-gantt-timeline">
                  <div class="ap-gantt-day">10</div>
                  <div class="ap-gantt-day">11</div>
                  <div class="ap-gantt-day">12</div>
                  <div class="ap-gantt-day">13</div>
                  <div class="ap-gantt-day">14</div>
                  <div class="ap-gantt-day">15</div>
                  <div class="ap-gantt-day">16</div>
                  <div class="ap-gantt-day">17</div>
                  <div class="ap-gantt-day">18</div>
                  <div class="ap-gantt-day">19</div>
                  <div class="ap-gantt-day">20</div>
                </div>
              </div>

              <!-- Project 1 -->
              <div class="ap-gantt-project">
                <div class="ap-gantt-project-header">
                  <button class="ap-gantt-toggle"><i class="ri-arrow-down-s-line"></i></button>
                  <span>Redesign do Site</span>
                </div>
                <div class="ap-gantt-tasks">
                  <div class="ap-gantt-row">
                    <div class="ap-gantt-task-col">Design homepage mockup</div>
                    <div class="ap-gantt-timeline">
                      <div class="ap-gantt-bar ap-gantt-bar-pink" style="width: 120px; margin-left: 20px;">
                        <span>3 dias</span>
                      </div>
                    </div>
                  </div>
                  <div class="ap-gantt-row">
                    <div class="ap-gantt-task-col">Frontend implementation</div>
                    <div class="ap-gantt-timeline">
                      <div class="ap-gantt-bar ap-gantt-bar-indigo" style="width: 160px; margin-left: 140px;">
                        <span>4 dias</span>
                      </div>
                    </div>
                  </div>
                  <div class="ap-gantt-row">
                    <div class="ap-gantt-task-col">Testing &amp; QA</div>
                    <div class="ap-gantt-timeline">
                      <div class="ap-gantt-bar ap-gantt-bar-green" style="width: 80px; margin-left: 300px;">
                        <span>2 dias</span>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Project 2 -->
              <div class="ap-gantt-project">
                <div class="ap-gantt-project-header">
                  <button class="ap-gantt-toggle"><i class="ri-arrow-down-s-line"></i></button>
                  <span>App Mobile</span>
                </div>
                <div class="ap-gantt-tasks">
                  <div class="ap-gantt-row">
                    <div class="ap-gantt-task-col">Requirements gathering</div>
                    <div class="ap-gantt-timeline">
                      <div class="ap-gantt-bar ap-gantt-bar-blue" style="width: 80px; margin-left: 60px;">
                        <span>2 dias</span>
                      </div>
                    </div>
                  </div>
                  <div class="ap-gantt-row">
                    <div class="ap-gantt-task-col">UI Design</div>
                    <div class="ap-gantt-timeline">
                      <div class="ap-gantt-bar ap-gantt-bar-purple" style="width: 120px; margin-left: 140px;">
                        <span>3 dias</span>
                      </div>
                    </div>
                  </div>
                  <div class="ap-gantt-row">
                    <div class="ap-gantt-task-col">Backend API</div>
                    <div class="ap-gantt-timeline">
                      <div class="ap-gantt-bar ap-gantt-bar-red" style="width: 200px; margin-left: 140px;">
                        <span>5 dias</span>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- ================================================================
             TAB: TEAM (Collaboration)
             ================================================================ -->
        <div id="team" class="ap-tab-content">
          <div class="ap-page-header">
            <h1 class="ap-heading-1">Equipe</h1>
            <p class="ap-text-muted">Comunique e colabore com sua equipe</p>
          </div>

          <div class="ap-team-layout">
            <!-- Team Members List -->
            <div class="ap-card ap-team-members">
              <div class="ap-card-header">
                <h2 class="ap-card-title">Membros</h2>
                <button class="ap-btn-icon" data-ap-tooltip="Adicionar membro">
                  <i class="ri-user-add-line"></i>
                </button>
              </div>
              <div class="ap-card-body">
                <div class="ap-team-list">
                  <!-- @LOOP: TEAM_MEMBERS -->
                  <div class="ap-team-item">
                    <div class="ap-team-item-info">
                      <div class="ap-avatar ap-avatar-md" style="background: #6366f1;">MJ</div>
                      <div>
                        <strong>Michael Johnson</strong>
                        <span>Lead Developer</span>
                      </div>
                    </div>
                    <div class="ap-team-item-status">
                      <span class="ap-online-indicator ap-online"></span>
                      <button class="ap-btn-icon-sm"><i class="ri-chat-3-line"></i></button>
                    </div>
                  </div>
                  <div class="ap-team-item">
                    <div class="ap-team-item-info">
                      <div class="ap-avatar ap-avatar-md" style="background: #ec4899;">AK</div>
                      <div>
                        <strong>Anna Kim</strong>
                        <span>UI/UX Designer</span>
                      </div>
                    </div>
                    <div class="ap-team-item-status">
                      <span class="ap-online-indicator ap-online"></span>
                      <button class="ap-btn-icon-sm"><i class="ri-chat-3-line"></i></button>
                    </div>
                  </div>
                  <div class="ap-team-item">
                    <div class="ap-team-item-info">
                      <div class="ap-avatar ap-avatar-md" style="background: #a855f7;">SL</div>
                      <div>
                        <strong>Sarah Lee</strong>
                        <span>Marketing</span>
                      </div>
                    </div>
                    <div class="ap-team-item-status">
                      <span class="ap-online-indicator ap-offline"></span>
                      <button class="ap-btn-icon-sm"><i class="ri-chat-3-line"></i></button>
                    </div>
                  </div>
                  <div class="ap-team-item">
                    <div class="ap-team-item-info">
                      <div class="ap-avatar ap-avatar-md" style="background: #ef4444;">RS</div>
                      <div>
                        <strong>Robert Smith</strong>
                        <span>Backend Developer</span>
                      </div>
                    </div>
                    <div class="ap-team-item-status">
                      <span class="ap-online-indicator ap-online"></span>
                      <button class="ap-btn-icon-sm"><i class="ri-chat-3-line"></i></button>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Team Chat -->
            <div class="ap-card ap-chat-panel">
              <div class="ap-card-header">
                <div class="ap-chat-header-info">
                  <h2 class="ap-card-title">Chat da Equipe</h2>
                  <span class="ap-badge ap-badge-success">3 online</span>
                </div>
                <div class="ap-chat-header-actions">
                  <button class="ap-btn-icon"><i class="ri-vidicon-line"></i></button>
                  <button class="ap-btn-icon"><i class="ri-phone-line"></i></button>
                </div>
              </div>
              <div class="ap-chat-messages">
                <!-- @LOOP: CHAT_MESSAGES -->
                <div class="ap-chat-message">
                  <div class="ap-avatar ap-avatar-sm" style="background: #6366f1;">MJ</div>
                  <div class="ap-chat-bubble">
                    <div class="ap-chat-meta">
                      <strong>Michael Johnson</strong>
                      <span>10:23</span>
                    </div>
                    <p>Olá equipe! Atualizei a documentação da API. Alguém pode revisar antes de enviar ao cliente?</p>
                  </div>
                </div>
                <div class="ap-chat-message">
                  <div class="ap-avatar ap-avatar-sm" style="background: #ef4444;">RS</div>
                  <div class="ap-chat-bubble">
                    <div class="ap-chat-meta">
                      <strong>Robert Smith</strong>
                      <span>10:25</span>
                    </div>
                    <p>Posso revisar hoje à tarde. Onde salvou?</p>
                  </div>
                </div>
                <div class="ap-chat-message ap-chat-message-own">
                  <div class="ap-chat-bubble ap-chat-bubble-own">
                    <p>Vou atrasar 5 minutos para a reunião - terminando uma call com o cliente.</p>
                    <span class="ap-chat-time">11:45</span>
                  </div>
                </div>
              </div>
              <div class="ap-chat-input">
                <div class="ap-chat-input-wrapper">
                  <textarea placeholder="Digite uma mensagem..." rows="1"></textarea>
                  <div class="ap-chat-input-actions">
                    <button class="ap-btn-icon-sm"><i class="ri-attachment-2"></i></button>
                    <button class="ap-btn-icon-sm"><i class="ri-emotion-line"></i></button>
                  </div>
                </div>
                <button class="ap-btn ap-btn-primary ap-btn-icon">
                  <i class="ri-send-plane-fill"></i>
                </button>
              </div>
            </div>
          </div>
        </div>

      </main>
    </div>

    <!-- ====================================================================
         [MODAL] Add Task Modal
         ==================================================================== -->
    <div class="ap-modal" id="addTaskModal">

      <div class="ap-modal-container">
        <div class="ap-modal-header">
          <h3 class="ap-modal-title">Nova Tarefa</h3>
          <button class="ap-modal-close" data-ap-modal-close="">
            <i class="ri-close-line"></i>
          </button>
        </div>
        <form class="ap-modal-body">
          <div class="ap-form-group">
            <label class="ap-label">Título da Tarefa</label>
            <input type="text" class="ap-input" placeholder="Digite o título">
          </div>
          <div class="ap-form-group">
            <label class="ap-label">Descrição</label>
            <textarea class="ap-textarea" rows="3" placeholder="Descreva a tarefa"></textarea>
          </div>
          <div class="ap-form-row">
            <div class="ap-form-group">
              <label class="ap-label">Categoria</label>
              <select class="ap-select">
                <option>Desenvolvimento</option>
                <option>Design</option>
                <option>Marketing</option>
              </select>
            </div>
            <div class="ap-form-group">
              <label class="ap-label">Prioridade</label>
              <select class="ap-select">
                <option>Baixa</option>
                <option>Média</option>
                <option>Alta</option>
              </select>
            </div>
          </div>
          <div class="ap-form-row">
            <div class="ap-form-group">
              <label class="ap-label">Data de Entrega</label>
              <input type="date" class="ap-input">
            </div>
            <div class="ap-form-group">
              <label class="ap-label">Responsável</label>
              <select class="ap-select">
                <option>Michael Johnson</option>
                <option>Anna Kim</option>
                <option>Sarah Lee</option>
              </select>
            </div>
          </div>
        </form>
        <div class="ap-modal-footer">
          <button class="ap-btn ap-btn-outline" data-ap-modal-close="">Cancelar</button>
          <button class="ap-btn ap-btn-primary">Criar Tarefa</button>
        </div>
      </div>
    </div>

  </div>

  <!-- ====================================================================
       [SCRIPTS] Dashboard JavaScript
       PHP: Use wp_enqueue_script() with dependencies
       ==================================================================== -->
  <script>
    /**
     * APOLLO DASHBOARD - JavaScript Controller
     * Handles tabs, kanban, charts, modals, and interactions
     */
    document.addEventListener('DOMContentLoaded', function () {

      // ========================================
      // TAB NAVIGATION
      // ========================================
      const tabBtns = document.querySelectorAll('.ap-tab-btn');
      const tabContents = document.querySelectorAll('.ap-tab-content');

      tabBtns.forEach(btn => {
        btn.addEventListener('click', () => {
          const tabId = btn.dataset.tab;

          // Update active states
          tabBtns.forEach(b => b.classList.remove('active'));
          tabContents.forEach(c => c.classList.remove('active'));

          btn.classList.add('active');
          document.getElementById(tabId)?.classList.add('active');
        });
      });

      // ========================================
      // MOBILE SIDEBAR TOGGLE
      // ========================================
      const mobileSidebarToggle = document.getElementById('mobileSidebarToggle');
      const sidebar = document.querySelector('.ap-dash-sidebar');

      mobileSidebarToggle?.addEventListener('click', () => {
        sidebar?.classList.toggle('open');
      });

      // ========================================
      // KANBAN DRAG & DROP
      // ========================================
      const taskCards = document.querySelectorAll('.ap-task-card');
      const kanbanColumns = document.querySelectorAll('.ap-kanban-tasks');

      taskCards.forEach(card => {
        card.addEventListener('dragstart', (e) => {
          card.classList.add('dragging');
          e.dataTransfer.setData('text/plain', card.dataset.taskId);
        });

        card.addEventListener('dragend', () => {
          card.classList.remove('dragging');
        });
      });

      kanbanColumns.forEach(column => {
        column.addEventListener('dragover', (e) => {
          e.preventDefault();
          column.classList.add('drag-over');
        });

        column.addEventListener('dragleave', () => {
          column.classList.remove('drag-over');
        });

        column.addEventListener('drop', (e) => {
          e.preventDefault();
          column.classList.remove('drag-over');
          const taskId = e.dataTransfer.getData('text/plain');
          const task = document.querySelector(`[data-task-id="${taskId}"]`);
          if (task) {
            column.appendChild(task);
            // @PHP: Update task status via AJAX
          }
        });
      });

      // ========================================
      // MODAL HANDLING
      // ========================================
      const addTaskBtn = document.getElementById('addTaskBtn');
      const addTaskModal = document.getElementById('addTaskModal');
      const modalCloseButtons = document.querySelectorAll('[data-ap-modal-close]');
      const modalOverlay = document.querySelector('.ap-modal-overlay');

      addTaskBtn?.addEventListener('click', () => {
        addTaskModal?.classList.add('active');
      });

      modalCloseButtons.forEach(btn => {
        btn.addEventListener('click', () => {
          addTaskModal?.classList.remove('active');
        });
      });

      modalOverlay?.addEventListener('click', () => {
        addTaskModal?.classList.remove('active');
      });

      // ========================================
      // CHARTS INITIALIZATION
      // ========================================
      // Progress Chart
      const progressCtx = document.getElementById('progressChart')?.getContext('2d');
      if (progressCtx) {
        new Chart(progressCtx, {
          type: 'line',
          data: {
            labels: ['Seg', 'Ter', 'Qua', 'Qui', 'Sex', 'Sáb', 'Dom'],
            datasets: [{
              label: 'Tarefas Concluídas',
              data: [12, 19, 15, 25, 22, 30, 28],
              borderColor: '#f97316',
              backgroundColor: 'rgba(249, 115, 22, 0.1)',
              fill: true,
              tension: 0.4
            }]
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
              legend: { display: false }
            },
            scales: {
              y: { beginAtZero: true }
            }
          }
        });
      }

      // Tasks Completion Chart
      const tasksCtx = document.getElementById('tasksCompletionChart')?.getContext('2d');
      if (tasksCtx) {
        new Chart(tasksCtx, {
          type: 'bar',
          data: {
            labels: ['Seg', 'Ter', 'Qua', 'Qui', 'Sex'],
            datasets: [{
              label: 'Concluídas',
              data: [8, 12, 6, 9, 11],
              backgroundColor: '#22c55e'
            }, {
              label: 'Pendentes',
              data: [4, 3, 5, 3, 2],
              backgroundColor: '#f97316'
            }]
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
              legend: { position: 'bottom' }
            }
          }
        });
      }

      // Resource Allocation Chart
      const resourceCtx = document.getElementById('resourceAllocationChart')?.getContext('2d');
      if (resourceCtx) {
        new Chart(resourceCtx, {
          type: 'doughnut',
          data: {
            labels: ['Desenvolvimento', 'Design', 'Marketing', 'QA'],
            datasets: [{
              data: [40, 25, 20, 15],
              backgroundColor: ['#6366f1', '#ec4899', '#f59e0b', '#22c55e']
            }]
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
              legend: { position: 'bottom' }
            }
          }
        });
      }

      // Team Utilization Chart
      const teamCtx = document.getElementById('teamUtilizationChart')?.getContext('2d');
      if (teamCtx) {
        new Chart(teamCtx, {
          type: 'bar',
          data: {
            labels: ['Michael', 'Anna', 'Sarah', 'Robert', 'Tom'],
            datasets: [{
              label: 'Utilização %',
              data: [92, 85, 78, 88, 70],
              backgroundColor: ['#6366f1', '#ec4899', '#a855f7', '#ef4444', '#3b82f6']
            }]
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            indexAxis: 'y',
            plugins: {
              legend: { display: false }
            }
          }
        });
      }

      // Budget Utilization Chart
      const budgetCtx = document.getElementById('budgetUtilizationChart')?.getContext('2d');
      if (budgetCtx) {
        new Chart(budgetCtx, {
          type: 'pie',
          data: {
            labels: ['Site Redesign', 'App Mobile', 'Marketing', 'Customer Portal'],
            datasets: [{
              data: [25000, 42000, 18000, 32000],
              backgroundColor: ['#f59e0b', '#3b82f6', '#a855f7', '#22c55e']
            }]
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
              legend: { position: 'bottom' }
            }
          }
        });
      }

    });
  </script>



</body>

</html>