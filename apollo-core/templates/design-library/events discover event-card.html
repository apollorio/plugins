<!DOCTYPE html>
<html lang="pt-BR">
<!--
================================================================================
  APOLLO TEMPLATE: EVENTS DISCOVER - EVENT CARDS LISTING
  Version: 1.0.0
  Plugin: apollo-events-manager
  PHP File: templates/shortcode-discover-events.php
  Shortcode: [discover-events-now]
  
  STRUCTURE INDEX:
  ================
  [HEAD]       → Meta tags, Assets (uni.css)
  [HEADER]     → Fixed site header with navigation
  [LAYOUT]     → Main container for shortcode output
  [HERO]       → Hero section with title & subtitle
  [FILTERS]    → Category filter chips + date picker + layout toggle
  [CONTROLS]   → Search bar
  [CARDS]      → Event listing grid with cards
  [BANNER]     → Promotional highlight banner
  [WIDGETS]    → Dark mode toggle
  [SCRIPTS]    → base.js for interactivity
  
  PHP VARIABLES TO REPLACE:
  =========================
  - $events_query (WP_Query for event_listing post type)
  - $categories (get_terms('event_category'))
  - $current_month (filter month)
  - $search_keywords ($_GET['search_keywords'])
  - $view_mode (list/grid)
  
================================================================================
-->
<head>
    <meta charset="UTF-8">

    <!-- ====================================================================
         [HEAD::VIEWPORT] Mobile-First Meta Tags
         ==================================================================== -->
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no" />
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="format-detection" content="telephone=no">
    
    <title>Discover Events - Apollo::rio</title>

    <!-- ====================================================================
         [HEAD::ASSETS] External Dependencies
         PHP: Use apollo_enqueue_global_assets() instead
         ==================================================================== -->
    <link rel="icon" href="https://assets.apollo.rio.br/img/neon-green.webp" type="image/webp">
    <link href="https://assets.apollo.rio.br/uni.css" rel="stylesheet"> 
</head>

<body>

    <!-- ======================================================================
         [HEADER::FIXED] Fixed Site Header
         PHP BLOCK: templates/partials/header-site.php
         VARIABLES: $current_user, $is_logged_in, $current_time
         ====================================================================== -->
    <header class="site-header">
        
        <!-- [HEADER::BLUR_BACKGROUND] Glassmorphism Background -->
        <div class="menu-h-apollo-blur"></div>
        
        <!-- [HEADER::LOGO] Apollo Logo Link -->
        <a href="https://apollo.rio.br/" class="menu-apollo-logo"></a>
        
        <!-- [HEADER::NAV] Main Navigation -->
        <nav class="main-nav">
            <!-- [NAV_ITEM] Current Time Display -->
            <!-- PHP: echo date('H:i'); -->
            <a class="a-hover off"><span id="agoraH">--:--</span> RJ</a>
            
            <!-- [NAV_ITEM] Events Portal Link -->
            <a href="#" class="ario-eve" title="Portal de Eventos">Eventos<i class="ri-arrow-right-up-line"></i></a>
            
            <!-- [WIDGET::USER_MENU] User Menu Dropdown -->
            <!-- PHP: if ( is_user_logged_in() ): -->
            <div class="menu-h-lista">
                <button class="menu-h-apollo-button caption" id="userMenuTrigger">Login</button>
                <div class="list">
                    <div class="item ok"><i class="ri-global-line"></i> Explorer</div>
                    <hr>
                    <div class="item ok"><i class="ri-fingerprint-2-fill"></i> My Apollo</div>
                    <div class="item ok"><i class="ri-logout-box-r-line"></i> Logout</div>
                </div>
            </div>
            <!-- PHP: endif; -->
        </nav>
    </header>
    <!-- [/HEADER::FIXED] -->

    <!-- ======================================================================
         [LAYOUT::MAIN] Main Content Container
         ====================================================================== -->
    <main class="main-container">
        
        <!-- ==================================================================
             [BLOCK::SHORTCODE_WRAPPER] Shortcode Output Container
             PHP: Start of shortcode function output
             ================================================================== -->
        <div class="event-manager-shortcode-wrapper discover-events-now-shortcode">

            <!-- ==============================================================
                 [BLOCK::HERO] Hero Section
                 PHP BLOCK: templates/partials/hero-discover.php
                 ============================================================== -->
            <section class="hero-section">
                <h1 class="title-page">Experience Tomorrow's Events</h1>
                <p class="subtitle-page">Um novo <mark>&nbsp;hub digital que conecta cultura,&nbsp;</mark> tecnologia e experiências em tempo real... <mark>&nbsp;O futuro da cultura carioca começa aqui!&nbsp;</mark></p>
            </section>
            <!-- [/BLOCK::HERO] -->

            <!-- ==============================================================
                 [BLOCK::FILTERS] Filters & Search Section
                 PHP BLOCK: templates/partials/filters-events.php
                 ============================================================== -->
            <div class="filters-and-search">
                
                <!-- [ELEMENT::CATEGORY_CHIPS] Category Filter Buttons -->
                <!-- PHP: foreach( $categories as $cat ): -->
                <div class="menutags event_types">
                    <button class="menutag event-category active" data-slug="all">
                        <span id="xxall" class="xxall" style="opacity: 1;">Todos</span>
                    </button>
                    <button class="menutag event-category" data-slug="music">House</button>
                    <button class="menutag event-category" data-slug="art-culture">PsyTrance</button>
                    <button class="menutag event-category" data-slug="mainstream">Techno</button>
                    <button class="menutag event-category" data-slug="workshops">D-Edge club</button>
                </div>
                <!-- PHP: endforeach; -->
  
                <!-- [WIDGET::DATE_PICKER] Month Selector -->
                <!--
                  PHP VARIABLES:
                  - $current_month_abbr (date('M'))
                  - $prev_month_url
                  - $next_month_url
                -->
                <div class="date-chip" id="eventDatePicker">
                    <button type="button" class="date-arrow" id="datePrev" aria-label="Mês anterior">‹</button>
                    <!-- PHP: echo esc_html( $current_month_abbr ); -->
                    <span class="date-display" id="dateDisplay" aria-live="polite">Out</span>
                    <button type="button" class="date-arrow" id="dateNext" aria-label="Próximo mês">›</button>
                </div>

                <!-- [BUTTON::LAYOUT_TOGGLE] List/Grid View Toggle -->
                <button
                    type="button"
                    class="layout-toggle"
                    id="wpem-event-toggle-layout"
                    title="Events List View"
                    aria-pressed="true"
                    onclick="toggleLayout(this)">
                    <i class="ri-list-view" aria-hidden="true"></i>
                    <span class="visually-hidden">Alternar layout</span>
                </button>           
                
            </div>
            
            <!-- [ELEMENT::SEARCH_BAR] Search Input -->
            <div class="controls-bar" id="apollo-controls-bar">
                <form class="box-search" role="search" id="eventSearchForm">
                    <label for="eventSearchInput" class="visually-hidden">Procurar</label>
                    <i class="ri-search-line" aria-hidden="true"></i>
                    <!-- PHP: value="<?php echo esc_attr( $_GET['search_keywords'] ?? '' ); ?>" -->
                    <input
                        type="text"
                        name="search_keywords"
                        id="eventSearchInput"
                        placeholder=""
                        inputmode="search"
                        autocomplete="off">
                    <input type="hidden" name="post_type" value="event_listing">
                </form>
            </div>
            <!-- [/BLOCK::FILTERS] -->

            <p style="margin-bottom:15px;"></p>

            <!-- ==============================================================
                 [BLOCK::EVENT_GRID] Event Listing Grid (4-5 cards per row)
                 PHP BLOCK: templates/partials/event-cards-grid.php
                 CSS: .ap-event-grid (uni.css) - responsive 2→3→4→5 cols
                 ============================================================== -->
            <div class="event_listings ap-event-grid">
                
                <!--
                  [CARD::EVENT] Event Card Structure
                  
                  PHP: foreach( $events_query->posts as $event ):
                  
                  PHP VARIABLES PER CARD:
                  =======================
                  - $event->ID
                  - $event_date (timestamp)
                  - $event_day (date('d', $event_date))
                  - $event_month (date('M', $event_date))
                  - $event_month_str (strtolower for filter)
                  - $event_category_slug
                  - $event_thumbnail_url
                  - $event_tags (array)
                  - $event_title
                  - $dj_name (from meta or related DJ post)
                  - $venue_name (from meta or related Venue post)
                  - $event_permalink
                  
                  DATA ATTRIBUTES FOR FILTERING:
                  - data-event-id="<?php echo $event->ID; ?>"
                  - data-category="<?php echo $event_category_slug; ?>"
                  - data-month-str="<?php echo $event_month_str; ?>"
                -->
                
                <!-- [CARD::EVENT] Example Card 1 -->
                <a href="#" class="event_listing" data-event-id="1" data-category="music" data-month-str="out">
                    
                    <!-- [ELEMENT::DATE_BOX] Event Date Badge -->
                    <div class="box-date-event">
                        <!-- PHP: echo date('j', $event_date); -->
                        <span class="date-day">25</span>
                        <!-- PHP: echo strtolower(date('M', $event_date)); -->
                        <span class="date-month">out</span>
                    </div>
                    
                    <!-- [ELEMENT::EVENT_IMAGE] Event Thumbnail -->
                    <div class="picture">
                        <!-- PHP: echo esc_url( $event_thumbnail_url ); -->
                        <img src="https://galeria.dismantle.com.br/foto/bonyinc/_MG_0338.jpg" alt="Techno Event" loading="lazy">              
                        
                        <!-- [ELEMENT::EVENT_TAGS] Category Tags -->
                        <!-- PHP: foreach( $event_tags as $tag ): -->
                        <div class="event-card-tags">
                            <span>House</span>
                            <span>Disco</span>
                            <span>Techno</span>
                        </div>
                        <!-- PHP: endforeach; -->
                    </div>
                    
                    <!-- [ELEMENT::EVENT_INFO] Event Details -->
                    <div class="event-line">
                        <div class="box-info-event">
                            <!-- [ELEMENT::EVENT_TITLE] -->
                            <!-- PHP: echo esc_html( $event_title ); -->
                            <h2 class="event-li-title afasta-bmin">Festa Dismantle #1</h2>
                            
                            <!-- [ELEMENT::DJ_NAME] -->
                            <p class="event-li-detail of-dj afasta-bmin">
                                <i class="ri-sound-module-fill"></i>
                                <!-- PHP: echo esc_html( $dj_name ); -->
                                <span>DJ Name Here</span>
                            </p>
                            
                            <!-- [ELEMENT::VENUE_NAME] -->
                            <p class="event-li-detail of-location afasta-bmin">
                                <i class="ri-map-pin-2-line"></i>
                                <!-- PHP: echo esc_html( $venue_name ); -->
                                <span id="local_nome">Venue Name</span>
                            </p>
                        </div>
                    </div>
                </a>
                <!-- PHP: endforeach; -->
                
                <!-- More event cards... -->
                
            </div>
            <!-- [/BLOCK::EVENT_GRID] -->
            
            <!-- ==============================================================
                 [BLOCK::BANNER] Highlight/Promotional Banner
                 PHP BLOCK: templates/partials/banner-highlight.php
                 ============================================================== -->
            <section class="banner-ario-1-wrapper" style="margin-top: 80px;">
                <!--
                  PHP VARIABLES:
                  - $banner_image_url
                  - $banner_subtitle
                  - $banner_title
                  - $banner_description
                  - $banner_cta_url
                  - $banner_cta_text
                -->
                <img src="https://images.unsplash.com/photo-1506157786151-b8491531f063?q=80&w=2070&auto=format&fit=crop" class="ban-ario-1-img" alt="Upcoming Festival">
                <div class="ban-ario-1-content">
                    <h3 class="ban-ario-1-subtit">Extra! Extra!</h3>
                    <h2 class="ban-ario-1-titl">Retrospectiva Clubbe::rio 2026</h2>
                    <p class="ban-ario-1-txt">
                        A Retrospectiva Clubber 2026 está chegando! E em breve vamos liberar as primeiras novidades... Fique ligado, porque essa publicação promete celebrar tudo o que fez o coração da pista bater mais forte! Spoilers?
                    </p>
                    <a href="#" class="ban-ario-1-btn">
                        Saiba Mais <i class="ri-arrow-right-long-line"></i>
                    </a>
                </div>
            </section>
            <!-- [/BLOCK::BANNER] -->

        </div>
        <!-- [/BLOCK::SHORTCODE_WRAPPER] -->
    </main>
    <!-- [/LAYOUT::MAIN] -->

    <!-- ======================================================================
         [WIDGET::DARK_MODE] Dark Mode Toggle Button
         PHP: Included globally via theme or UNI.CSS
         ====================================================================== -->
    <div class="dark-mode-toggle" id="darkModeToggle" role="button" aria-label="Toggle dark mode">
        <i class="ri-sun-line"></i>
        <i class="ri-moon-line"></i>
    </div>

    <!-- ======================================================================
         [SCRIPTS::BASE] Global JavaScript
         PHP: wp_enqueue_script('apollo-base-js');
         ====================================================================== -->
    <script src="https://assets.apollo.rio.br/base.js"></script>

</body>
</html>
