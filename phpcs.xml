<?xml version="1.0"?>
<ruleset name="Apollo Plugins">
    <description>WordPress + Extra + VIP-Go focado em segurança para Apollo.</description>

    <!-- Diretórios dos plugins Apollo -->
    <file>./</file>


    <!-- Ignorar terceiros / build -->
    <exclude-pattern>*/vendor/*</exclude-pattern>
    <exclude-pattern>*/dev-vendor/*</exclude-pattern>
    <exclude-pattern>*/tests/*</exclude-pattern>
    <exclude-pattern>*/node_modules/*</exclude-pattern>
    <exclude-pattern>*/docs/*</exclude-pattern>

    <!-- Config global -->
     <arg name="colors"/>
    <arg name="extensions" value="php"/>
    <arg name="parallel" value="12"/>

    <!-- Standards base -->
    <rule ref="WordPress"/>
    <rule ref="WordPress-Extra"/>
    <rule ref="WordPress-VIP-Go"/>

    <!-- i18n com múltiplos text-domains Apollo -->
    <rule ref="WordPress.WP.I18n">
        <properties>
            <!-- múltiplos text-domains separados por vírgula, sem espaço -->
            <property name="text_domain" value="apollo-core,apollo-events-manager,apollo-social"/>
        </properties>
    </rule>

    <!-- 1) Comentários obrigatórios: RELAXAR -->
    <rule ref="Squiz.Commenting">
        <exclude name="Squiz.Commenting.FileComment.Missing"/>
        <exclude name="Squiz.Commenting.ClassComment.Missing"/>
        <exclude name="Squiz.Commenting.FunctionComment.Missing"/>
        <exclude name="Squiz.Commenting.VariableComment.Missing"/>
    </rule>

    <!-- 2) Naming de função: NÃO forçar snake_case em métodos -->
    <rule ref="WordPress.NamingConventions.ValidFunctionName">
        <exclude name="WordPress.NamingConventions.ValidFunctionName.MethodNameInvalid"/>
    </rule>

    <!-- 3) Naming de variáveis: NÃO forçar snake_case -->
    <rule ref="WordPress.NamingConventions.ValidVariableName">
        <exclude name="WordPress.NamingConventions.ValidVariableName.VariableNotSnakeCase"/>
    </rule>

    <!-- 4) File names: NÃO exigir tudo minúsculo class-*.php -->
    <rule ref="WordPress.Files.FileName">
        <exclude name="WordPress.Files.FileName.NotHyphenatedLowercase"/>
        <exclude name="WordPress.Files.FileName.InvalidClassFileName"/>
    </rule>

    <!-- 5) Alinhamento de múltiplas declarações: RELAXAR -->
    <rule ref="Generic.Formatting.MultipleStatementAlignment">
        <exclude name="Generic.Formatting.MultipleStatementAlignment.NotSameWarning"/>
    </rule>
    <rule ref="WordPress.Arrays.MultipleStatementAlignment"/>


    <!-- 6) Yoda Conditions: NÃO exigir Yoda -->
    <rule ref="WordPress.PHP.YodaConditions">
        <exclude name="WordPress.PHP.YodaConditions.NotYoda"/>
    </rule>

</ruleset>
