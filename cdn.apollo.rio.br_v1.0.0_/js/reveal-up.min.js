/* 
 *  EFFECT (FX): REVEAL UP by Apollo::rio
 *   - 1s transition for smoother fade
 *   - Cubic-bezier easing for UI&UX motion curve
 *   - 400ms stagger balanced sequential timing
 *   - Separate opacity/transform transitions for refined control
 */ 
 (()=>{"use strict";const e=document.createElement("style");e.textContent=".reveal-up{opacity:0;transform:translateY(50px);transition:all .6s ease-out}.reveal-up.active{opacity:1;transform:translateY(0)}.reveal-up.active-no-anim{opacity:1!important;transform:none!important;transition:none!important}.apollo-card.active{transform:scale(1.05);box-shadow:0 4px 8px rgba(0,0,0,.2)}",document.head.appendChild(e);const t=window.matchMedia("(prefers-reduced-motion:reduce)").matches;let o=0,r="down";const a=new WeakSet,n=new IntersectionObserver((e=>{if(t)e.forEach((e=>{e.isIntersecting?e.target.classList.add("active-no-anim"):e.target.classList.remove("active","active-no-anim")}));else{const t=e.filter((e=>e.isIntersecting)),o=e.filter((e=>!e.isIntersecting));if(o.length&&o.forEach((e=>e.target.classList.remove("active","active-no-anim"))),t.length){const e="up"===r?t.sort(((e,t)=>(t.target.dataset.idx||0)-(e.target.dataset.idx||0))):t.sort(((e,t)=>(e.target.dataset.idx||0)-(t.target.dataset.idx||0)));e.forEach(((e,t)=>{setTimeout((()=>e.target.classList.add("active")),750*t)}))}}}),{threshold:.1,rootMargin:"0px 0px -50px 0px"}),s=()=>{const e=Array.from(document.querySelectorAll(".reveal-up"));e.forEach(((e,t)=>{a.has(e)||(e.dataset.idx=t,a.add(e),n.observe(e))}))};let c,i=null;const l=()=>{i&&(i.disconnect(),i=null),window.innerWidth<=768&&(i=new IntersectionObserver((e=>{e.forEach((e=>{if(e.isIntersecting){const t=document.querySelectorAll(".apollo-card");t.forEach((e=>e.classList.remove("active"))),e.target.classList.add("active")}}))}),{root:null,rootMargin:"-75% 0px 0px 0px",threshold:0}),document.querySelectorAll(".apollo-card").forEach((e=>i.observe(e))))},d=()=>{const e=window.scrollY;r=e>o?"down":"up",o=e},u=()=>{clearTimeout(c),c=setTimeout(d,50)};window.addEventListener("scroll",u,{passive:!0}),window.addEventListener("resize",(()=>{clearTimeout(c),c=setTimeout(l,300)}),{passive:!0}),new MutationObserver(s).observe(document.body,{childList:!0,subtree:!0}),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",(()=>{s(),l()})):requestAnimationFrame((()=>{s(),l()}))})();