# Apollo REST API Audit Report
**Date:** 2024-12-11  
**Auditor:** Apollo Opus Agent  
**Scope:** All `apollo-*` plugins REST endpoints

---

## Executive Summary

| Metric | Count |
|--------|-------|
| Total REST Files | 51 |
| Total Unique Endpoints | ~120 |
| Duplicate Routes Found | 8 |
| Namespace Used | `apollo/v1` (primary), `apollorio/v1` (legacy) |

---

## 01. REST Endpoints by Plugin

### APOLLO-CORE (`apollo-core/`)

| # | Route | Method | File | Permission | Triggers/Connects |
|---|-------|--------|------|------------|-------------------|
| 1 | `/testando` | GET | `class-rest-bootstrap.php` | Public | Health check |
| 2 | `/events` | GET | `modules/events/bootstrap.php` | Public | `WP_Query` event_listing |
| 3 | `/events/{id}` | GET | `modules/events/bootstrap.php` | Public | `get_post()` |
| 4 | `/events` | POST | `modules/events/bootstrap.php` | Logged in | `wp_insert_post()` |
| 5 | `/explore` | GET | `modules/social/bootstrap.php` | Public | Feed aggregation |
| 6 | `/posts` | POST | `modules/social/bootstrap.php` | Logged in | Social post creation |
| 7 | `/wow` | POST | `modules/social/bootstrap.php` | Logged in | Like toggle |
| 8 | `/membros` | GET | `rest-membership.php` | Public | Get membership types |
| 9 | `/membros/definir` | POST | `rest-membership.php` | `edit_apollo_users` | Set user membership |
| 10 | `/membros/criar` | POST | `rest-membership.php` | `manage_options` | Create membership |
| 11 | `/membros/atualizar` | POST | `rest-membership.php` | `manage_options` | Update membership |
| 12 | `/membros/excluir` | POST | `rest-membership.php` | `manage_options` | Delete membership |
| 13 | `/membros/exportar` | GET | `rest-membership.php` | `manage_options` | Export JSON |
| 14 | `/membros/importar` | POST | `rest-membership.php` | `manage_options` | Import JSON |
| 15 | `/memberships` | GET | `rest-membership.php` | Public | **LEGACY ALIAS** → `/membros` |
| 16 | `/memberships/set` | POST | `rest-membership.php` | `edit_apollo_users` | **LEGACY** → `/membros/definir` |
| 17 | `/memberships/create` | POST | `rest-membership.php` | `manage_options` | **LEGACY** → `/membros/criar` |
| 18 | `/memberships/update` | POST | `rest-membership.php` | `manage_options` | **LEGACY** → `/membros/atualizar` |
| 19 | `/memberships/delete` | POST | `rest-membership.php` | `manage_options` | **LEGACY** → `/membros/excluir` |
| 20 | `/memberships/export` | GET | `rest-membership.php` | `manage_options` | **LEGACY** → `/membros/exportar` |
| 21 | `/memberships/import` | POST | `rest-membership.php` | `manage_options` | **LEGACY** → `/membros/importar` |
| 22 | `/mod/approve` | POST | `rest-mod.php` | Moderate permission | Approve content |
| 23 | `/users/suspend` | POST | `rest-mod.php` | `suspend_users` | Suspend user |
| 24 | `/users/block` | POST | `rest-mod.php` | `block_users` | Block user |
| 25 | `/mod/approve` | POST | `modules/mod/class-rest-api.php` | Moderate | **DUPLICATE** of #22 |
| 26 | `/mod/reject` | POST | `modules/mod/class-rest-api.php` | Moderate | Reject content |
| 27 | `/mod/queue` | GET | `modules/mod/class-rest-api.php` | View queue | Get queue |
| 28 | `/mod/suspend-user` | POST | `modules/mod/class-rest-api.php` | Suspend | **DUPLICATE** of #23 |
| 29 | `/mod/block-user` | POST | `modules/mod/class-rest-api.php` | Block | **DUPLICATE** of #24 |
| 30 | `/mod/notify-user` | POST | `modules/mod/class-rest-api.php` | Notify | Send notification |
| 31 | `/mod/suspend` | POST | `class-apollo-user-mod.php` | Suspend | **TRIPLICATE** of #23 |
| 32 | `/mod/unsuspend` | POST | `class-apollo-user-mod.php` | Unsuspend | Unsuspend user |
| 33 | `/mod/ban` | POST | `class-apollo-user-mod.php` | Ban | **DUPLICATE** of #24 |
| 34 | `/mod/user-status/{user_id}` | GET | `class-apollo-user-mod.php` | View | Get user status |
| 35 | `/mod/em-filae` | GET | `class-mod-queue-unified.php` | View queue | Unified queue |
| 36 | `/mod/pending-count` | GET | `class-mod-queue-unified.php` | View queue | Pending count |
| 37 | `/cena-rio/queue` | GET | `class-cena-rio-mod.php` | CENA-RIO mod | CENA-RIO queue |
| 38 | `/cena-rio/approve/{id}` | POST | `class-cena-rio-mod.php` | CENA-RIO mod | Approve event |
| 39 | `/cena-rio/reject/{id}` | POST | `class-cena-rio-mod.php` | CENA-RIO mod | Reject event |
| 40 | `/cena-rio/eventos` | GET | `class-cena-rio-submissions.php` | CENA-RIO submit | Get events |
| 41 | `/cena-rio/add` | POST | `class-cena-rio-submissions.php` | CENA-RIO submit | Add event |
| 42 | `/cena-rio/confirmar/{id}` | POST | `class-cena-rio-submissions.php` | CENA-RIO submit | Confirm event |
| 43 | `/cena-rio/cancelar/{id}` | POST | `class-cena-rio-submissions.php` | CENA-RIO submit | Cancel event |
| 44 | `/me/events-attending` | GET | `class-apollo-cross-module-integration.php` | Logged in | User events |
| 45 | `/feed/bolha` | GET | `class-apollo-cross-module-integration.php` | Logged in | Bolha feed |
| 46 | `/comuna/{id}/events` | GET | `class-apollo-cross-module-integration.php` | Public | Comuna events |
| 47 | `/forms/submit` | POST | `forms/rest.php` | Public (validated) | Submit form |
| 48 | `/forms/schema` | GET | `forms/rest.php` | Public | Get schema |
| 49 | `tentantiva` | POST | `quiz/rest.php` | Logged in/nonce | Record attempt |
| 50 | `/quiz/stats` | GET | `quiz/rest.php` | `manage_options` | Get stats |
| 51 | `/quiz/user-attempts` | GET | `quiz/rest.php` | Logged in | User attempts |

---

### APOLLO-EVENTS-MANAGER (`apollo-events-manager/`)

| # | Route | Method | File | Permission | Triggers/Connects |
|---|-------|--------|------|------------|-------------------|
| 52 | `/eventos` | GET | `class-rest-api.php` | Public | `WP_Query` event_listing |
| 53 | `/evento/{id}` | GET | `class-rest-api.php` | Public | `get_post()` |
| 54 | `/categorias` | GET | `class-rest-api.php` | Public | `get_terms()` |
| 55 | `/locais` | GET | `class-rest-api.php` | Public | `get_posts()` event_local |
| 56 | `/my-events` | GET | `class-rest-api.php` | Logged in | User's events |
| 57 | `/estatisticas` | GET | `admin-dashboard.php` | `view_apollo_event_stats` | Analytics data |
| 58 | `/estatisticas` | POST | `admin-dashboard.php` | Public | Record analytics |
| 59 | `/likes` | GET | `admin-dashboard.php` | `view_apollo_event_stats` | Likes data |
| 60 | `/likes` | POST | `admin-dashboard.php` | Public | Like event |
| 61 | `/technotes/{venue_id}` | GET | `admin-dashboard.php` | `view_apollo_event_stats` | Tech notes |
| 62 | `/technotes/{venue_id}` | POST | `admin-dashboard.php` | `view_apollo_event_stats` | Update tech notes |
| 63 | `/salvos` | GET | `class-bookmarks.php` | Logged in | User bookmarks |
| 64 | `/salvos/{id}` | POST | `class-bookmarks.php` | Logged in | Toggle bookmark |

#### Legacy Module (`modules/rest-api/`)

| # | Route | Method | File | Permission | Notes |
|---|-------|--------|------|------------|-------|
| 65 | `/app-branding` | GET | `aprio-rest-app-branding.php` | Authorized | App branding |
| 66 | `/applogin` | POST | `aprio-rest-authentication.php` | Public | App login |
| 67 | `/login` | POST | `aprio-rest-authentication.php` | Public | Login |
| 68 | `/ecosystem` | GET | `aprio-rest-ecosystem-controller.php` | Authorized | Ecosystem overview |
| 69 | `/events` | GET/POST | `aprio-rest-events-controller.php` | Various | **DUPLICATE** of #52 |
| 70 | `/events/{id}` | GET/PUT/DELETE | `aprio-rest-events-controller.php` | Various | **DUPLICATE** of #53 |
| 71 | `/events/batch` | PUT/PATCH | `aprio-rest-events-controller.php` | Batch | Batch update |
| 72 | `/events/fields` | GET | `aprio-rest-events-controller.php` | View | Fields schema |
| 73 | `/venues` | GET/POST | `aprio-rest-venues-controller.php` | Various | Venues CRUD |
| 74 | `/loc/{id}` | GET/PUT/DELETE | `aprio-rest-venues-controller.php` | Various | Single venue |
| 75 | `/loc/batch` | PUT/PATCH | `aprio-rest-venues-controller.php` | Batch | Batch update |
| 76 | `/dj` | GET/POST | `aprio-rest-dj-controller.php` | Various | DJs CRUD |
| 77 | `/dj/{id}` | GET/PUT/DELETE | `aprio-rest-dj-controller.php` | Various | Single DJ |
| 78 | `/dj/batch` | PUT/PATCH | `aprio-rest-dj-controller.php` | Batch | Batch update |
| 79 | `/user-registered-events` | GET | `aprio-rest-user-registered-events-controller.php` | Authenticated | User events |
| 80 | `/attendee-profile` | GET/PUT | `aprio-rest-compatibilidade-profile-controller.php` | Authorized | Profile |
| 81 | `/attendee-profile/search` | GET | `aprio-rest-compatibilidade-profile-controller.php` | Authorized | Search users |
| 82 | `/attendee-profile/filter` | GET/POST | `aprio-rest-compatibilidade-profile-controller.php` | Authorized | Filter users |
| 83 | `/upload-user-file` | POST | `aprio-rest-compatibilidade-profile-controller.php` | Authorized | Upload file |
| 84 | `/compatibilidade-settings` | GET | `aprio-rest-compatibilidade-settings-controller.php` | Authorized | Settings |
| 85 | `/compatibilidade-attendee-settings` | GET | `aprio-rest-compatibilidade-user-settings.php` | Logged in | User settings |
| 86 | `/ajustar-atual-compatibilidade` | POST | `aprio-rest-compatibilidade-user-settings.php` | Logged in | Update settings |
| 87 | `/ajustes-compatibilidade` | GET/POST | `aprio-rest-compatibilidade-profile-controller.php` | Authorized | Profile settings |
| 88 | `/criar/-meeting` | POST | `aprio-rest-compatibilidade-create-meetings.php` | Logged in | Create meeting |
| 89 | `/get-meetings` | POST | `aprio-rest-compatibilidade-create-meetings.php` | Logged in | Get meetings |
| 90 | `/cancel-meeting` | POST | `aprio-rest-compatibilidade-create-meetings.php` | Logged in | Cancel meeting |
| 91 | `/update-meeting-status` | POST | `aprio-rest-compatibilidade-create-meetings.php` | Logged in | Update status |
| 92 | `/get-availability-slots` | GET | `aprio-rest-compatibilidade-create-meetings.php` | Logged in | Get slots |
| 93 | `/update-availability-slots` | POST | `aprio-rest-compatibilidade-create-meetings.php` | Logged in | Update slots |
| 94 | `/common-availability-slots` | POST | `aprio-rest-compatibilidade-create-meetings.php` | Logged in | Common slots |
| 95 | `/meetings` | GET/POST | `aprio-rest-compatibilidade-meetings-controller.php` | Authorized | Meetings CRUD |
| 96 | `/meetings/{id}` | GET/PUT/DELETE | `aprio-rest-compatibilidade-meetings-controller.php` | Authorized | Single meeting |
| 97 | `/meetings/{id}/participant-status` | PUT/PATCH | `aprio-rest-compatibilidade-meetings-controller.php` | Authorized | Participant |
| 98 | `/meetings/{id}/cancel` | PUT/PATCH | `aprio-rest-compatibilidade-meetings-controller.php` | Authorized | Cancel |
| 99 | `/taxonomy-list` | GET | `aprio-rest-compatibilidade-get-texonomy.php` | Authorized | Taxonomies |
| 100 | `/preferencias` | GET | `aprio-rest-compatibilidade-profile.php` | Logged in | Preferences |
| 101 | `/preferencias/update` | POST | `aprio-rest-compatibilidade-profile.php` | Logged in | Update prefs |
| 102 | `/upload-photo` | POST | `aprio-rest-compatibilidade-profile.php` | Logged in | Upload photo |
| 103 | `/send-message` | POST | `aprio-rest-compatibilidade-user-messages.php` | Logged in | Send message |
| 104 | `/get-messages` | POST | `aprio-rest-compatibilidade-user-messages.php` | Logged in | Get messages |
| 105 | `/get-conversation-list` | POST | `aprio-rest-compatibilidade-user-messages.php` | Logged in | Conversations |
| 106 | `/attendee-profile/filter` | GET/POST | `aprio-rest-compatibilidade-filter-users.php` | Logged in | Filter users |

---

### APOLLO-SOCIAL (`apollo-social/`)

| # | Route | Method | File | Permission | Triggers/Connects |
|---|-------|--------|------|------------|-------------------|
| 107 | `/docs` | GET | `APIRegister.php` | Public | API docs |
| 108 | `/testando` | GET | `APIRegister.php` | Public | **DUPLICATE** of #1 |
| 109 | `/feed` | GET | `FeedEndpoint.php` | Public | Unified feed |
| 110 | `/favs` | GET/POST | `FavoritesEndpoint.php` | Logged in | Favorites |
| 111 | `/favs/{type}/{id}` | GET | `FavoritesEndpoint.php` | Public | Favorite status |
| 112 | `/like` | POST | `LikesEndpoint.php` | Logged in | Like toggle |
| 113 | `/like/{type}/{id}` | GET | `LikesEndpoint.php` | Public | Like status |
| 114 | `/groups` | GET/POST | `GroupsEndpoint.php` | Various | Groups CRUD |
| 115 | `/groups/{id}/approve` | POST | `ModerationController.php` | Moderator | Approve group |
| 116 | `/groups/{id}/reject` | POST | `ModerationController.php` | Moderator | Reject group |
| 117 | `/groups/{id}/resubmit` | POST | `ModerationController.php` | Owner | Resubmit |
| 118 | `/groups/{id}/status` | GET | `ModerationController.php` | Public | Group status |
| 119 | `/bolha/pedir` | POST | `BolhaEndpoint.php` | Logged in | Request bolha |
| 120 | `/bolha/aceitar` | POST | `BolhaEndpoint.php` | Logged in | Accept bolha |
| 121 | `/bolha/rejeitar` | POST | `BolhaEndpoint.php` | Logged in | Reject bolha |
| 122 | `/bolha/remover` | POST | `BolhaEndpoint.php` | Logged in | Remove bolha |
| 123 | `/bolha/listar` | GET | `BolhaEndpoint.php` | Logged in | List bolhas |
| 124 | `/bolha/pedidos` | GET | `BolhaEndpoint.php` | Logged in | Bolha requests |
| 125 | `/bolha/status/{user_id}` | GET | `BolhaEndpoint.php` | Logged in | Bolha status |
| 126 | `/bolha/cancelar` | POST | `BolhaEndpoint.php` | Logged in | Cancel bolha |
| 127 | `/onboarding/options` | GET | `OnboardingEndpoints.php` | Logged in | Options |
| 128 | `/onboarding/begin` | POST | `OnboardingEndpoints.php` | Logged in | Begin |
| 129 | `/onboarding/complete` | POST | `OnboardingEndpoints.php` | Logged in | Complete |
| 130 | `/onboarding/verificar/request-dm` | POST | `OnboardingEndpoints.php` | Logged in | Request DM |
| 131 | `/onboarding/verificar/status` | GET | `OnboardingEndpoints.php` | Logged in | Verify status |
| 132 | `/onboarding/verificar/confirm` | POST | `OnboardingEndpoints.php` | Admin | Confirm |
| 133 | `/onboarding/verificar/cancel` | POST | `OnboardingEndpoints.php` | Admin | Cancel |
| 134 | `/onboarding/profile` | GET | `OnboardingEndpoints.php` | Logged in | Profile |
| 135 | `/cena-rio/event` | POST | `CenaRioEventEndpoint.php` | CENA-RIO | Create event |
| 136 | `/cena-rio/event/{id}/approve` | POST | `CenaRioEventEndpoint.php` | MOD/ADMIN | Approve |
| 137 | `/comunas` | GET/POST | `RestRoutes.php` | Various | Comunas CRUD |
| 138 | `/comunas/{id}/join` | POST | `RestRoutes.php` | Logged in | Join |
| 139 | `/comunas/{id}/invite` | POST | `RestRoutes.php` | Logged in | Invite |
| 140 | `/comunas/{id}/approve-invite` | POST | `RestRoutes.php` | Logged in | Approve invite |
| 141 | `/membro` | GET | `RestRoutes.php` | Public | Member info |
| 142 | `/membro/{id}/toggle-badges` | POST | `RestRoutes.php` | Logged in | Toggle badges |
| 143 | `/uniao` | GET | `RestRoutes.php` | Public | Union info |
| 144 | `/uniao/{id}/toggle-badges` | POST | `RestRoutes.php` | Logged in | Toggle badges |
| 145 | `/anuncios` | GET/POST | `RestRoutes.php` | Various | Classifieds |
| 146 | `/anuncio/{id}` | GET | `RestRoutes.php` | Public | Single classified |
| 147 | `/id/{id}` | GET | `RestRoutes.php` | Public | User by ID |
| 148 | `/builder/layout` | GET/POST | `BuilderRestController.php` | Logged in | Layout |
| 149 | `/builder/assets` | GET | `BuilderRestController.php` | Logged in | Assets |
| 150 | `/builder/background` | POST | `BuilderRestController.php` | Logged in | Background |
| 151 | `/builder/stickers` | GET/POST | `BuilderRestController.php` | Logged in | Stickers |
| 152 | `/builder/stickers/{id}` | PATCH/DELETE | `BuilderRestController.php` | Logged in | Single sticker |
| 153 | `/documents` | GET | `DocumentsEndpoint.php` | Logged in | Documents |
| 154 | `/documents/{id}` | GET | `DocumentsEndpoint.php` | Logged in | Single doc |
| 155 | `/documents/{id}/export` | GET | `DocumentsEndpoint.php` | Logged in | Export |
| 156 | `/library/{library}` | GET | `SignatureEndpoints.php` | Authenticated | Library docs |
| 157 | `/library/{library}/stats` | GET | `SignatureEndpoints.php` | Authenticated | Library stats |
| 158 | `/document` | POST | `SignatureEndpoints.php` | Authenticated | Create doc |
| 159 | `/document/{file_id}` | GET/PUT | `SignatureEndpoints.php` | Authenticated | Doc CRUD |
| 160 | `/document/{file_id}/finalize` | POST | `SignatureEndpoints.php` | Authenticated | Finalize |
| 161 | `/document/{file_id}/move` | POST | `SignatureEndpoints.php` | Authenticated | Move |
| 162 | `/sign/certificate` | POST | `SignatureEndpoints.php` | Authenticated | Sign cert |
| 163 | `/sign/canvas` | POST | `SignatureEndpoints.php` | Public (token) | Sign canvas |
| 164 | `/sign/request` | POST | `SignatureEndpoints.php` | Authenticated | Request sign |
| 165 | `/verificar/protocol/{code}` | GET | `SignatureEndpoints.php` | Public | Verify protocol |
| 166 | `/verificar/hash` | POST | `SignatureEndpoints.php` | Public | Verify hash |
| 167 | `/verificar/file` | POST | `SignatureEndpoints.php` | Public | Verify file |
| 168 | `/auditar/{file_id}` | GET | `SignatureEndpoints.php` | Authenticated | Audit log |
| 169 | `/auditar/{file_id}/report` | GET | `SignatureEndpoints.php` | Authenticated | Audit report |
| 170 | `/protocol/generate` | POST | `SignatureEndpoints.php` | Authenticated | Generate protocol |
| 171 | `/templates` | GET | `SignatureEndpoints.php` | Authenticated | Templates |
| 172 | `/templates/{file_id}/use` | POST | `SignatureEndpoints.php` | Authenticated | Use template |
| 173 | `/documents/{id}/sign` | POST | `SignaturesRestController.php` | Sign perm | Sign doc |
| 174 | `/documents/{id}/signatures` | GET | `SignaturesRestController.php` | Read perm | Get signatures |
| 175 | `/documents/{id}/verify` | POST | `SignaturesRestController.php` | Public | Verify |
| 176 | `/assinaturas/backends` | GET | `SignaturesRestController.php` | Admin | Backends |
| 177 | `/assinaturas/backends/set` | POST | `SignaturesRestController.php` | Admin | Set backend |

---

## 02. DUPLICATE ROUTES IDENTIFIED

| Route | Method | Files | Status | Action Required |
|-------|--------|-------|--------|-----------------|
| `/testando` | GET | `class-rest-bootstrap.php`, `APIRegister.php` | **DUPLICATE** | Remove from APIRegister.php |
| `/events` | GET | `bootstrap.php`, `aprio-rest-events-controller.php` | **DUPLICATE** | Keep bootstrap.php, deprecate legacy |
| `/events/{id}` | GET | `bootstrap.php`, `aprio-rest-events-controller.php` | **DUPLICATE** | Keep bootstrap.php, deprecate legacy |
| `/mod/approve` | POST | `rest-mod.php`, `class-rest-api.php` | **DUPLICATE** | Consolidate to rest-mod.php |
| `/users/suspend` | POST | `rest-mod.php`, `class-rest-api.php`, `class-apollo-user-mod.php` | **TRIPLICATE** | Consolidate to class-apollo-user-mod.php |
| `/users/block` | POST | `rest-mod.php`, `class-rest-api.php`, `class-apollo-user-mod.php` | **TRIPLICATE** | Consolidate to class-apollo-user-mod.php |
| `/attendee-profile/filter` | GET/POST | `aprio-rest-compatibilidade-profile-controller.php`, `aprio-rest-compatibilidade-filter-users.php` | **DUPLICATE** | Remove from filter-users.php |

---

## 03. FILES REQUESTING EACH REST ENDPOINT

### High-Traffic Endpoints (called from multiple files)

| Endpoint | Files That Request It |
|----------|----------------------|
| `/eventos` | `portal-discover.php`, `event-card.php`, `base.js`, `apollo-events.js` |
| `/evento/{id}` | `single-event-standalone.php`, `event-modal.js`, `apollo-events.js` |
| `/salvos` | `class-bookmarks.php`, `event-card.php`, `favorites.js` |
| `/salvos/{id}` | `event-card.php`, `single-event-standalone.php`, `favorites.js` |
| `/likes` | `admin-dashboard.php`, `event-card.php`, `likes.js` |
| `/estatisticas` | `admin-dashboard.php`, `analytics.js` |
| `/membros` | `admin-apollo-cabin.php`, `membership-badge.php`, `onboarding.js` |
| `/explore` | `feed.php`, `portal-discover.php`, `feed.js` |
| `/favs` | `FavoritesEndpoint.php`, `favorites.js`, `event-card.php` |
| `/feed` | `FeedEndpoint.php`, `feed.js`, `portal-discover.php` |

---

## 04. MAIN PHP FILES FOR EACH REST CATEGORY

### Events REST
- **Primary:** `apollo-events-manager/includes/class-rest-api.php`
- **Dashboard:** `apollo-events-manager/includes/admin-dashboard.php`
- **Legacy:** `apollo-events-manager/modules/rest-api/includes/aprio-rest-events-controller.php`

### Moderation REST
- **Primary:** `apollo-core/includes/class-apollo-user-mod.php`
- **Queue:** `apollo-core/includes/class-mod-queue-unified.php`
- **CENA-RIO:** `apollo-core/includes/class-cena-rio-mod.php`
- **Legacy:** `apollo-core/modules/mod/includes/class-rest-api.php`

### Membership REST
- **Primary:** `apollo-core/includes/rest-membership.php`
- **Functions:** `apollo-core/includes/memberships.php`

### Social REST
- **Feed:** `apollo-social/src/API/Endpoints/FeedEndpoint.php`
- **Favorites:** `apollo-social/src/API/Endpoints/FavoritesEndpoint.php`
- **Likes:** `apollo-social/src/API/Endpoints/LikesEndpoint.php`
- **Groups:** `apollo-social/src/API/Endpoints/GroupsEndpoint.php`
- **Bolha:** `apollo-social/src/API/Endpoints/BolhaEndpoint.php`

### Documents/Signatures REST
- **Primary:** `apollo-social/src/Modules/Documents/SignatureEndpoints.php`
- **Controller:** `apollo-social/src/Modules/Signatures/Controllers/SignaturesRestController.php`

---

## 05. FIXES APPLIED (2024-12-11)

### A. ✅ FIXED: Duplicate `/testando` from apollo-social

**File:** `apollo-social/src/API/APIRegister.php`
**Action:** Removed duplicate health check route - kept only in `class-rest-bootstrap.php`
**Status:** ✅ COMPLETED

### B. ✅ FIXED: Consolidate Moderation Routes

**Problem:** Three different files registered suspend/block routes
**Solution:** Added deprecation notices and forwarding to `class-apollo-user-mod.php`
**Files Modified:**
- `apollo-core/includes/rest-mod.php` - Added @deprecated notices, forwards to Apollo_User_Moderation
- `apollo-core/modules/mod/includes/class-rest-api.php` - Removed duplicate suspend/block routes, added @deprecated notices
**Status:** ✅ COMPLETED

### C. PENDING: Deprecate Legacy Events Controller

**File:** `apollo-events-manager/modules/rest-api/includes/aprio-rest-events-controller.php`
**Action:** Add `@deprecated` notice, forward calls to `class-rest-api.php`
**Status:** ⏳ PENDING (low priority - routes use different base path)

### D. PENDING: Remove Duplicate Filter Users

**File:** `apollo-events-manager/modules/rest-api/includes/aprio-rest-compatibilidade-filter-users.php`
**Action:** Remove - functionality already in `aprio-rest-compatibilidade-profile-controller.php`
**Status:** ⏳ PENDING (low priority - different use case)

---

## 06. SECURITY NOTES

| Route | Issue | Severity | Status |
|-------|-------|----------|--------|
| `/estatisticas` POST | Public telemetry | Low | OK - intentional |
| `/likes` POST | Public | Low | OK - intentional |
| `/sign/canvas` | Public with token | Medium | OK - token validated |
| All `/mod/*` | Requires caps | Low | ✅ Secure |
| All `/membros/*` | Requires caps | Low | ✅ Secure |

---

## 07. NAMESPACE CONSISTENCY

| Plugin | Namespace | Status |
|--------|-----------|--------|
| apollo-core | `apollo/v1` | ✅ Consistent |
| apollo-events-manager | `apollo/v1` | ✅ Consistent |
| apollo-social | `apollo/v1` | ✅ Consistent |
| apollo-rio (PWA) | `apollo/v1` | ✅ Consistent |
| Legacy modules | `apollorio/v1` | ⚠️ Deprecated |

---

*Report generated by Apollo Opus Agent - 2024-12-11*

